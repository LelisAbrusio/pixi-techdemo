(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function e(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=e(l);fetch(l.href,o)}})();var nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function C1(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var l=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:function(){return n[s]}})}),e}var Lc={exports:{}},Ja={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function M1(){if(By)return Ja;By=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,l,o){var h=null;if(o!==void 0&&(h=""+o),l.key!==void 0&&(h=""+l.key),"key"in l){o={};for(var c in l)c!=="key"&&(o[c]=l[c])}else o=l;return l=o.ref,{$$typeof:n,type:s,key:h,ref:l!==void 0?l:null,props:o}}return Ja.Fragment=t,Ja.jsx=e,Ja.jsxs=e,Ja}var Iy;function D1(){return Iy||(Iy=1,Lc.exports=M1()),Lc.exports}var te=D1(),Fc={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function O1(){if(Ny)return Pt;Ny=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function T(E,O,F){this.props=E,this.context=O,this.refs=A,this.updater=F||v}T.prototype.isReactComponent={},T.prototype.setState=function(E,O){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,O,"setState")},T.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function C(){}C.prototype=T.prototype;function N(E,O,F){this.props=E,this.context=O,this.refs=A,this.updater=F||v}var M=N.prototype=new C;M.constructor=N,b(M,T.prototype),M.isPureReactComponent=!0;var P=Array.isArray,D={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function B(E,O,F,L,Y,tt){return F=tt.ref,{$$typeof:n,type:E,key:O,ref:F!==void 0?F:null,props:tt}}function X(E,O){return B(E.type,O,void 0,void 0,void 0,E.props)}function V(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function J(E){var O={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(F){return O[F]})}var ot=/\/+/g;function z(E,O){return typeof E=="object"&&E!==null&&E.key!=null?J(""+E.key):O.toString(36)}function $(){}function et(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then($,$):(E.status="pending",E.then(function(O){E.status==="pending"&&(E.status="fulfilled",E.value=O)},function(O){E.status==="pending"&&(E.status="rejected",E.reason=O)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function ut(E,O,F,L,Y){var tt=typeof E;(tt==="undefined"||tt==="boolean")&&(E=null);var at=!1;if(E===null)at=!0;else switch(tt){case"bigint":case"string":case"number":at=!0;break;case"object":switch(E.$$typeof){case n:case t:at=!0;break;case g:return at=E._init,ut(at(E._payload),O,F,L,Y)}}if(at)return Y=Y(E),at=L===""?"."+z(E,0):L,P(Y)?(F="",at!=null&&(F=at.replace(ot,"$&/")+"/"),ut(Y,O,F,"",function(dt){return dt})):Y!=null&&(V(Y)&&(Y=X(Y,F+(Y.key==null||E&&E.key===Y.key?"":(""+Y.key).replace(ot,"$&/")+"/")+at)),O.push(Y)),1;at=0;var ft=L===""?".":L+":";if(P(E))for(var ht=0;ht<E.length;ht++)L=E[ht],tt=ft+z(L,ht),at+=ut(L,O,F,tt,Y);else if(ht=_(E),typeof ht=="function")for(E=ht.call(E),ht=0;!(L=E.next()).done;)L=L.value,tt=ft+z(L,ht++),at+=ut(L,O,F,tt,Y);else if(tt==="object"){if(typeof E.then=="function")return ut(et(E),O,F,L,Y);throw O=String(E),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return at}function S(E,O,F){if(E==null)return E;var L=[],Y=0;return ut(E,L,"","",function(tt){return O.call(F,tt,Y++)}),L}function I(E){if(E._status===-1){var O=E._result;O=O(),O.then(function(F){(E._status===0||E._status===-1)&&(E._status=1,E._result=F)},function(F){(E._status===0||E._status===-1)&&(E._status=2,E._result=F)}),E._status===-1&&(E._status=0,E._result=O)}if(E._status===1)return E._result.default;throw E._result}var w=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function H(){}return Pt.Children={map:S,forEach:function(E,O,F){S(E,function(){O.apply(this,arguments)},F)},count:function(E){var O=0;return S(E,function(){O++}),O},toArray:function(E){return S(E,function(O){return O})||[]},only:function(E){if(!V(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Pt.Component=T,Pt.Fragment=e,Pt.Profiler=l,Pt.PureComponent=N,Pt.StrictMode=s,Pt.Suspense=d,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Pt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Pt.cache=function(E){return function(){return E.apply(null,arguments)}},Pt.cloneElement=function(E,O,F){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var L=b({},E.props),Y=E.key,tt=void 0;if(O!=null)for(at in O.ref!==void 0&&(tt=void 0),O.key!==void 0&&(Y=""+O.key),O)!q.call(O,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&O.ref===void 0||(L[at]=O[at]);var at=arguments.length-2;if(at===1)L.children=F;else if(1<at){for(var ft=Array(at),ht=0;ht<at;ht++)ft[ht]=arguments[ht+2];L.children=ft}return B(E.type,Y,void 0,void 0,tt,L)},Pt.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:o,_context:E},E},Pt.createElement=function(E,O,F){var L,Y={},tt=null;if(O!=null)for(L in O.key!==void 0&&(tt=""+O.key),O)q.call(O,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(Y[L]=O[L]);var at=arguments.length-2;if(at===1)Y.children=F;else if(1<at){for(var ft=Array(at),ht=0;ht<at;ht++)ft[ht]=arguments[ht+2];Y.children=ft}if(E&&E.defaultProps)for(L in at=E.defaultProps,at)Y[L]===void 0&&(Y[L]=at[L]);return B(E,tt,void 0,void 0,null,Y)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(E){return{$$typeof:c,render:E}},Pt.isValidElement=V,Pt.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:I}},Pt.memo=function(E,O){return{$$typeof:p,type:E,compare:O===void 0?null:O}},Pt.startTransition=function(E){var O=D.T,F={};D.T=F;try{var L=E(),Y=D.S;Y!==null&&Y(F,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(H,w)}catch(tt){w(tt)}finally{D.T=O}},Pt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Pt.use=function(E){return D.H.use(E)},Pt.useActionState=function(E,O,F){return D.H.useActionState(E,O,F)},Pt.useCallback=function(E,O){return D.H.useCallback(E,O)},Pt.useContext=function(E){return D.H.useContext(E)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(E,O){return D.H.useDeferredValue(E,O)},Pt.useEffect=function(E,O){return D.H.useEffect(E,O)},Pt.useId=function(){return D.H.useId()},Pt.useImperativeHandle=function(E,O,F){return D.H.useImperativeHandle(E,O,F)},Pt.useInsertionEffect=function(E,O){return D.H.useInsertionEffect(E,O)},Pt.useLayoutEffect=function(E,O){return D.H.useLayoutEffect(E,O)},Pt.useMemo=function(E,O){return D.H.useMemo(E,O)},Pt.useOptimistic=function(E,O){return D.H.useOptimistic(E,O)},Pt.useReducer=function(E,O,F){return D.H.useReducer(E,O,F)},Pt.useRef=function(E){return D.H.useRef(E)},Pt.useState=function(E){return D.H.useState(E)},Pt.useSyncExternalStore=function(E,O,F){return D.H.useSyncExternalStore(E,O,F)},Pt.useTransition=function(){return D.H.useTransition()},Pt.version="19.0.0",Pt}var Uy;function $d(){return Uy||(Uy=1,Fc.exports=O1()),Fc.exports}var Ve=$d(),Gc={exports:{}},tl={},Hc={exports:{}},kc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function B1(){return Py||(Py=1,function(n){function t(S,I){var w=S.length;S.push(I);t:for(;0<w;){var H=w-1>>>1,E=S[H];if(0<l(E,I))S[H]=I,S[w]=E,w=H;else break t}}function e(S){return S.length===0?null:S[0]}function s(S){if(S.length===0)return null;var I=S[0],w=S.pop();if(w!==I){S[0]=w;t:for(var H=0,E=S.length,O=E>>>1;H<O;){var F=2*(H+1)-1,L=S[F],Y=F+1,tt=S[Y];if(0>l(L,w))Y<E&&0>l(tt,L)?(S[H]=tt,S[Y]=w,H=Y):(S[H]=L,S[F]=w,H=F);else if(Y<E&&0>l(tt,w))S[H]=tt,S[Y]=w,H=Y;else break t}}return I}function l(S,I){var w=S.sortIndex-I.sortIndex;return w!==0?w:S.id-I.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();n.unstable_now=function(){return h.now()-c}}var d=[],p=[],g=1,y=null,_=3,v=!1,b=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function M(S){for(var I=e(p);I!==null;){if(I.callback===null)s(p);else if(I.startTime<=S)s(p),I.sortIndex=I.expirationTime,t(d,I);else break;I=e(p)}}function P(S){if(A=!1,M(S),!b)if(e(d)!==null)b=!0,et();else{var I=e(p);I!==null&&ut(P,I.startTime-S)}}var D=!1,q=-1,B=5,X=-1;function V(){return!(n.unstable_now()-X<B)}function J(){if(D){var S=n.unstable_now();X=S;var I=!0;try{t:{b=!1,A&&(A=!1,C(q),q=-1),v=!0;var w=_;try{e:{for(M(S),y=e(d);y!==null&&!(y.expirationTime>S&&V());){var H=y.callback;if(typeof H=="function"){y.callback=null,_=y.priorityLevel;var E=H(y.expirationTime<=S);if(S=n.unstable_now(),typeof E=="function"){y.callback=E,M(S),I=!0;break e}y===e(d)&&s(d),M(S)}else s(d);y=e(d)}if(y!==null)I=!0;else{var O=e(p);O!==null&&ut(P,O.startTime-S),I=!1}}break t}finally{y=null,_=w,v=!1}I=void 0}}finally{I?ot():D=!1}}}var ot;if(typeof N=="function")ot=function(){N(J)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,$=z.port2;z.port1.onmessage=J,ot=function(){$.postMessage(null)}}else ot=function(){T(J,0)};function et(){D||(D=!0,ot())}function ut(S,I){q=T(function(){S(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(S){S.callback=null},n.unstable_continueExecution=function(){b||v||(b=!0,et())},n.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<S?Math.floor(1e3/S):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return e(d)},n.unstable_next=function(S){switch(_){case 1:case 2:case 3:var I=3;break;default:I=_}var w=_;_=I;try{return S()}finally{_=w}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(S,I){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var w=_;_=S;try{return I()}finally{_=w}},n.unstable_scheduleCallback=function(S,I,w){var H=n.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?H+w:H):w=H,S){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=w+E,S={id:g++,callback:I,priorityLevel:S,startTime:w,expirationTime:E,sortIndex:-1},w>H?(S.sortIndex=w,t(p,S),e(d)===null&&S===e(p)&&(A?(C(q),q=-1):A=!0,ut(P,w-H))):(S.sortIndex=E,t(d,S),b||v||(b=!0,et())),S},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(S){var I=_;return function(){var w=_;_=I;try{return S.apply(this,arguments)}finally{_=w}}}}(kc)),kc}var Ly;function I1(){return Ly||(Ly=1,Hc.exports=B1()),Hc.exports}var zc={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function N1(){if(Fy)return Fe;Fy=1;var n=$d();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,g)},Fe.flushSync=function(d){var p=h.T,g=s.p;try{if(h.T=null,s.p=2,d)return d()}finally{h.T=p,s.p=g,s.d.f()}},Fe.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},Fe.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Fe.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=c(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:v}):g==="script"&&s.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Fe.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=c(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},Fe.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=c(g,p.crossOrigin);s.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Fe.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=c(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},Fe.requestFormReset=function(d){s.d.r(d)},Fe.unstable_batchedUpdates=function(d,p){return d(p)},Fe.useFormState=function(d,p,g){return h.H.useFormState(d,p,g)},Fe.useFormStatus=function(){return h.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var Gy;function U1(){if(Gy)return zc.exports;Gy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),zc.exports=N1(),zc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function P1(){if(Hy)return tl;Hy=1;var n=I1(),t=$d(),e=U1();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function X(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case c:return"Portal";case g:return"Profiler";case p:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case v:return(i.displayName||"Context")+".Provider";case _:return(i._context.displayName||"Context")+".Consumer";case b:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:X(i.type)||"Memo";case N:r=i._payload,i=i._init;try{return X(i(r))}catch{}}return null}var V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=Object.assign,ot,z;function $(i){if(ot===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ot=r&&r[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+i+z}var et=!1;function ut(i,r){if(!i||et)return"";et=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(it){var Q=it}Reflect.construct(i,[],lt)}else{try{lt.call()}catch(it){Q=it}i.call(lt.prototype)}}else{try{throw Error()}catch(it){Q=it}(lt=i())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(it){if(it&&Q&&typeof it.stack=="string")return[it.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),x=m[0],R=m[1];if(x&&R){var U=x.split(`
`),k=R.split(`
`);for(f=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;f<k.length&&!k[f].includes("DetermineComponentFrameRoot");)f++;if(u===U.length||f===k.length)for(u=U.length-1,f=k.length-1;1<=u&&0<=f&&U[u]!==k[f];)f--;for(;1<=u&&0<=f;u--,f--)if(U[u]!==k[f]){if(u!==1||f!==1)do if(u--,f--,0>f||U[u]!==k[f]){var rt=`
`+U[u].replace(" at new "," at ");return i.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",i.displayName)),rt}while(1<=u&&0<=f);break}}}finally{et=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?$(a):""}function S(i){switch(i.tag){case 26:case 27:case 5:return $(i.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 15:return i=ut(i.type,!1),i;case 11:return i=ut(i.type.render,!1),i;case 1:return i=ut(i.type,!0),i;default:return""}}function I(i){try{var r="";do r+=S(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function w(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function H(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function E(i){if(w(i)!==i)throw Error(s(188))}function O(i){var r=i.alternate;if(!r){if(r=w(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return E(f),i;if(m===u)return E(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var x=!1,R=f.child;R;){if(R===a){x=!0,a=f,u=m;break}if(R===u){x=!0,u=f,a=m;break}R=R.sibling}if(!x){for(R=m.child;R;){if(R===a){x=!0,a=m,u=f;break}if(R===u){x=!0,u=m,a=f;break}R=R.sibling}if(!x)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function F(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=F(i),r!==null)return r;i=i.sibling}return null}var L=Array.isArray,Y=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},at=[],ft=-1;function ht(i){return{current:i}}function dt(i){0>ft||(i.current=at[ft],at[ft]=null,ft--)}function st(i,r){ft++,at[ft]=i.current,i.current=r}var mt=ht(null),bt=ht(null),Ct=ht(null),Ut=ht(null);function Et(i,r){switch(st(Ct,r),st(bt,i),st(mt,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?ly(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=ly(i),r=oy(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}dt(mt),st(mt,r)}function vt(){dt(mt),dt(bt),dt(Ct)}function ee(i){i.memoizedState!==null&&st(Ut,i);var r=mt.current,a=oy(r,i.type);r!==a&&(st(bt,i),st(mt,a))}function se(i){bt.current===i&&(dt(mt),dt(bt)),Ut.current===i&&(dt(Ut),$a._currentValue=tt)}var Pi=Object.prototype.hasOwnProperty,ni=n.unstable_scheduleCallback,He=n.unstable_cancelCallback,Dr=n.unstable_shouldYield,Or=n.unstable_requestPaint,De=n.unstable_now,Bu=n.unstable_getCurrentPriorityLevel,vl=n.unstable_ImmediatePriority,sa=n.unstable_UserBlockingPriority,Qs=n.unstable_NormalPriority,fs=n.unstable_LowPriority,Js=n.unstable_IdlePriority,_l=n.log,Iu=n.unstable_setDisableYieldValue,ds=null,Oe=null;function tn(i){if(Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(ds,i,void 0,(i.current.flags&128)===128)}catch{}}function W(i){if(typeof _l=="function"&&Iu(i),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(ds,i)}catch{}}var K=Math.clz32?Math.clz32:Zt,Vt=Math.log,qt=Math.LN2;function Zt(i){return i>>>=0,i===0?32:31-(Vt(i)/qt|0)|0}var Ot=128,Ke=4194304;function ke(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ee(i,r){var a=i.pendingLanes;if(a===0)return 0;var u=0,f=i.suspendedLanes,m=i.pingedLanes,x=i.warmLanes;i=i.finishedLanes!==0;var R=a&134217727;return R!==0?(a=R&~f,a!==0?u=ke(a):(m&=R,m!==0?u=ke(m):i||(x=R&~x,x!==0&&(u=ke(x))))):(R=a&~f,R!==0?u=ke(R):m!==0?u=ke(m):i||(x=a&~x,x!==0&&(u=ke(x)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,x=r&-r,f>=x||f===32&&(x&4194176)!==0)?r:u}function Ye(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function na(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function er(){var i=Ot;return Ot<<=1,(Ot&4194176)===0&&(Ot=128),i}function qe(){var i=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),i}function en(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Br(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xl(i,r,a,u,f,m){var x=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var R=i.entanglements,U=i.expirationTimes,k=i.hiddenUpdates;for(a=x&~a;0<a;){var rt=31-K(a),lt=1<<rt;R[rt]=0,U[rt]=-1;var Q=k[rt];if(Q!==null)for(k[rt]=null,rt=0;rt<Q.length;rt++){var it=Q[rt];it!==null&&(it.lane&=-536870913)}a&=~lt}u!==0&&Ir(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(x&~r))}function Ir(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-K(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&4194218}function rn(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-K(a),f=1<<u;f&r|i[u]&r&&(i[u]|=r),a&=~f}}function ps(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function sn(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:wy(i.type))}function aa(i,r){var a=Y.p;try{return Y.p=i,r()}finally{Y.p=a}}var Ei=Math.random().toString(36).slice(2),ve="__reactFiber$"+Ei,Te="__reactProps$"+Ei,ir="__reactContainer$"+Ei,ms="__reactEvents$"+Ei,bl="__reactListeners$"+Ei,Nu="__reactHandles$"+Ei,nn="__reactResources$"+Ei,ai="__reactMarker$"+Ei;function Nr(i){delete i[ve],delete i[Te],delete i[ms],delete i[bl],delete i[Nu]}function rr(i){var r=i[ve];if(r)return r;for(var a=i.parentNode;a;){if(r=a[ir]||a[ve]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=cy(i);i!==null;){if(a=i[ve])return a;i=cy(i)}return r}i=a,a=i.parentNode}return null}function sr(i){if(i=i[ve]||i[ir]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function la(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function an(i){var r=i[nn];return r||(r=i[nn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ae(i){i[ai]=!0}var ap=new Set,lp={};function gs(i,r){ln(i,r),ln(i+"Capture",r)}function ln(i,r){for(lp[i]=r,i=0;i<r.length;i++)ap.add(r[i])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),op={},up={};function Ex(i){return Pi.call(up,i)?!0:Pi.call(op,i)?!1:bx.test(i)?up[i]=!0:(op[i]=!0,!1)}function El(i,r,a){if(Ex(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Tl(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function ar(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function li(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hp(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Tx(i){var r=hp(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(x){u=""+x,m.call(this,x)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Al(i){i._valueTracker||(i._valueTracker=Tx(i))}function cp(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=hp(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function Sl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ax=/[\n"\\]/g;function oi(i){return i.replace(Ax,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Uu(i,r,a,u,f,m,x,R){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+li(r)):i.value!==""+li(r)&&(i.value=""+li(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?Pu(i,x,li(r)):a!=null?Pu(i,x,li(a)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+li(R):i.removeAttribute("name")}function fp(i,r,a,u,f,m,x,R){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+li(a):"",r=r!=null?""+li(r):a,R||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=R?i.checked:!!u,i.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function Pu(i,r,a){r==="number"&&Sl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function on(i,r,a,u){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&u&&(i[a].defaultSelected=!0)}else{for(a=""+li(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function dp(i,r,a){if(r!=null&&(r=""+li(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+li(a):""}function pp(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(L(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=li(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u)}function un(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var Sx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mp(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||Sx.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function gp(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&mp(i,f,u)}else for(var m in r)r.hasOwnProperty(m)&&mp(i,m,r[m])}function Lu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(i){return Rx.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Fu=null;function Gu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var hn=null,cn=null;function yp(i){var r=sr(i);if(r&&(i=r.stateNode)){var a=i[Te]||null;t:switch(i=r.stateNode,r.type){case"input":if(Uu(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+oi(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var f=u[Te]||null;if(!f)throw Error(s(90));Uu(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&cp(u)}break t;case"textarea":dp(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&on(i,!!a.multiple,r,!1)}}}var Hu=!1;function vp(i,r,a){if(Hu)return i(r,a);Hu=!0;try{var u=i(r);return u}finally{if(Hu=!1,(hn!==null||cn!==null)&&(uo(),hn&&(r=hn,i=cn,cn=hn=null,yp(r),i)))for(r=0;r<i.length;r++)yp(i[r])}}function oa(i,r){var a=i.stateNode;if(a===null)return null;var u=a[Te]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ku=!1;if(nr)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){ku=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{ku=!1}var Ur=null,zu=null,Rl=null;function _p(){if(Rl)return Rl;var i,r=zu,a=r.length,u,f="value"in Ur?Ur.value:Ur.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var x=a-i;for(u=1;u<=x&&r[a-u]===f[m-u];u++);return Rl=f.slice(i,1<u?1-u:void 0)}function Cl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ml(){return!0}function xp(){return!1}function $e(i){function r(a,u,f,m,x){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(a=i[R],this[R]=a?a(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ml:xp,this.isPropagationStopped=xp,this}return J(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),r}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=$e(ys),ha=J({},ys,{view:0,detail:0}),Cx=$e(ha),Xu,Vu,ca,Ol=J({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ca&&(ca&&i.type==="mousemove"?(Xu=i.screenX-ca.screenX,Vu=i.screenY-ca.screenY):Vu=Xu=0,ca=i),Xu)},movementY:function(i){return"movementY"in i?i.movementY:Vu}}),bp=$e(Ol),Mx=J({},Ol,{dataTransfer:0}),Dx=$e(Mx),Ox=J({},ha,{relatedTarget:0}),ju=$e(Ox),Bx=J({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Ix=$e(Bx),Nx=J({},ys,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ux=$e(Nx),Px=J({},ys,{data:0}),Ep=$e(Px),Lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hx(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Gx[i])?!!r[i]:!1}function Yu(){return Hx}var kx=J({},ha,{key:function(i){if(i.key){var r=Lx[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Cl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(i){return i.type==="keypress"?Cl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Cl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zx=$e(kx),Xx=J({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tp=$e(Xx),Vx=J({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),jx=$e(Vx),Yx=J({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),qx=$e(Yx),$x=J({},Ol,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Wx=$e($x),Zx=J({},ys,{newState:0,oldState:0}),Kx=$e(Zx),Qx=[9,13,27,32],qu=nr&&"CompositionEvent"in window,fa=null;nr&&"documentMode"in document&&(fa=document.documentMode);var Jx=nr&&"TextEvent"in window&&!fa,Ap=nr&&(!qu||fa&&8<fa&&11>=fa),Sp=" ",wp=!1;function Rp(i,r){switch(i){case"keyup":return Qx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fn=!1;function tb(i,r){switch(i){case"compositionend":return Cp(r);case"keypress":return r.which!==32?null:(wp=!0,Sp);case"textInput":return i=r.data,i===Sp&&wp?null:i;default:return null}}function eb(i,r){if(fn)return i==="compositionend"||!qu&&Rp(i,r)?(i=_p(),Rl=zu=Ur=null,fn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ap&&r.locale!=="ko"?null:r.data;default:return null}}var ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ib[i.type]:r==="textarea"}function Dp(i,r,a,u){hn?cn?cn.push(u):cn=[u]:hn=u,r=mo(r,"onChange"),0<r.length&&(a=new Dl("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var da=null,pa=null;function rb(i){iy(i,0)}function Bl(i){var r=la(i);if(cp(r))return i}function Op(i,r){if(i==="change")return r}var Bp=!1;if(nr){var $u;if(nr){var Wu="oninput"in document;if(!Wu){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),Wu=typeof Ip.oninput=="function"}$u=Wu}else $u=!1;Bp=$u&&(!document.documentMode||9<document.documentMode)}function Np(){da&&(da.detachEvent("onpropertychange",Up),pa=da=null)}function Up(i){if(i.propertyName==="value"&&Bl(pa)){var r=[];Dp(r,pa,i,Gu(i)),vp(rb,r)}}function sb(i,r,a){i==="focusin"?(Np(),da=r,pa=a,da.attachEvent("onpropertychange",Up)):i==="focusout"&&Np()}function nb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bl(pa)}function ab(i,r){if(i==="click")return Bl(r)}function lb(i,r){if(i==="input"||i==="change")return Bl(r)}function ob(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Qe=typeof Object.is=="function"?Object.is:ob;function ma(i,r){if(Qe(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Pi.call(r,f)||!Qe(i[f],r[f]))return!1}return!0}function Pp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Lp(i,r){var a=Pp(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Pp(a)}}function Fp(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Fp(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Gp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Sl(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Sl(i.document)}return r}function Zu(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function ub(i,r){var a=Gp(r);r=i.focusedElem;var u=i.selectionRange;if(a!==r&&r&&r.ownerDocument&&Fp(r.ownerDocument.documentElement,r)){if(u!==null&&Zu(r)){if(i=u.start,a=u.end,a===void 0&&(a=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(a,r.value.length);else if(a=(i=r.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=Lp(r,m);var x=Lp(r,u);f&&x&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==x.node||a.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(i),a.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),a.addRange(i)))}}for(i=[],a=r;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)a=i[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var hb=nr&&"documentMode"in document&&11>=document.documentMode,dn=null,Ku=null,ga=null,Qu=!1;function Hp(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qu||dn==null||dn!==Sl(u)||(u=dn,"selectionStart"in u&&Zu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ga&&ma(ga,u)||(ga=u,u=mo(Ku,"onSelect"),0<u.length&&(r=new Dl("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=dn)))}function vs(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var pn={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Ju={},kp={};nr&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),"TransitionEvent"in window||delete pn.transitionend.transition);function _s(i){if(Ju[i])return Ju[i];if(!pn[i])return i;var r=pn[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in kp)return Ju[i]=r[a];return i}var zp=_s("animationend"),Xp=_s("animationiteration"),Vp=_s("animationstart"),cb=_s("transitionrun"),fb=_s("transitionstart"),db=_s("transitioncancel"),jp=_s("transitionend"),Yp=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ti(i,r){Yp.set(i,r),gs(r,[i])}var ui=[],mn=0,th=0;function Il(){for(var i=mn,r=th=mn=0;r<i;){var a=ui[r];ui[r++]=null;var u=ui[r];ui[r++]=null;var f=ui[r];ui[r++]=null;var m=ui[r];if(ui[r++]=null,u!==null&&f!==null){var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}m!==0&&$p(a,f,m)}}function Nl(i,r,a,u){ui[mn++]=i,ui[mn++]=r,ui[mn++]=a,ui[mn++]=u,th|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function eh(i,r,a,u){return Nl(i,r,a,u),Ul(i)}function Pr(i,r){return Nl(i,null,null,r),Ul(i)}function $p(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;f&&r!==null&&i.tag===3&&(m=i.stateNode,f=31-K(a),m=m.hiddenUpdates,i=m[f],i===null?m[f]=[r]:i.push(r),r.lane=a|536870912)}function Ul(i){if(50<ka)throw ka=0,lc=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var gn={},Wp=new WeakMap;function hi(i,r){if(typeof i=="object"&&i!==null){var a=Wp.get(i);return a!==void 0?a:(r={value:i,source:r,stack:I(r)},Wp.set(i,r),r)}return{value:i,source:r,stack:I(r)}}var yn=[],vn=0,Pl=null,Ll=0,ci=[],fi=0,xs=null,lr=1,or="";function bs(i,r){yn[vn++]=Ll,yn[vn++]=Pl,Pl=i,Ll=r}function Zp(i,r,a){ci[fi++]=lr,ci[fi++]=or,ci[fi++]=xs,xs=i;var u=lr;i=or;var f=32-K(u)-1;u&=~(1<<f),a+=1;var m=32-K(r)+f;if(30<m){var x=f-f%5;m=(u&(1<<x)-1).toString(32),u>>=x,f-=x,lr=1<<32-K(r)+f|a<<f|u,or=m+i}else lr=1<<m|a<<f|u,or=i}function ih(i){i.return!==null&&(bs(i,1),Zp(i,1,0))}function rh(i){for(;i===Pl;)Pl=yn[--vn],yn[vn]=null,Ll=yn[--vn],yn[vn]=null;for(;i===xs;)xs=ci[--fi],ci[fi]=null,or=ci[--fi],ci[fi]=null,lr=ci[--fi],ci[fi]=null}var ze=null,Be=null,jt=!1,Ai=null,Li=!1,sh=Error(s(519));function Es(i){var r=Error(s(418,""));throw _a(hi(r,i)),sh}function Kp(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[ve]=i,r[Te]=u,a){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(a=0;a<Xa.length;a++)zt(Xa[a],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":zt("invalid",r),fp(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Al(r);break;case"select":zt("invalid",r);break;case"textarea":zt("invalid",r),pp(r,u.value,u.defaultValue,u.children),Al(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||ay(r.textContent,a)?(u.popover!=null&&(zt("beforetoggle",r),zt("toggle",r)),u.onScroll!=null&&zt("scroll",r),u.onScrollEnd!=null&&zt("scrollend",r),u.onClick!=null&&(r.onclick=go),r=!0):r=!1,r||Es(i)}function Qp(i){for(ze=i.return;ze;)switch(ze.tag){case 3:case 27:Li=!0;return;case 5:case 13:Li=!1;return;default:ze=ze.return}}function ya(i){if(i!==ze)return!1;if(!jt)return Qp(i),jt=!0,!1;var r=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Ac(i.type,i.memoizedProps)),a=!a),a&&(r=!0),r&&Be&&Es(i),Qp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){Be=wi(i.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}Be=null}}else Be=ze?wi(i.stateNode.nextSibling):null;return!0}function va(){Be=ze=null,jt=!1}function _a(i){Ai===null?Ai=[i]:Ai.push(i)}var xa=Error(s(460)),Jp=Error(s(474)),nh={then:function(){}};function tm(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fl(){}function em(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Fl,Fl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===xa?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Fl,Fl);else{if(i=Qt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===xa?Error(s(483)):i}throw ba=r,xa}}var ba=null;function im(){if(ba===null)throw Error(s(459));var i=ba;return ba=null,i}var _n=null,Ea=0;function Gl(i){var r=Ea;return Ea+=1,_n===null&&(_n=[]),em(_n,i,r)}function Ta(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Hl(i,r){throw r.$$typeof===o?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function rm(i){var r=i._init;return r(i._payload)}function sm(i){function r(j,G){if(i){var Z=j.deletions;Z===null?(j.deletions=[G],j.flags|=16):Z.push(G)}}function a(j,G){if(!i)return null;for(;G!==null;)r(j,G),G=G.sibling;return null}function u(j){for(var G=new Map;j!==null;)j.key!==null?G.set(j.key,j):G.set(j.index,j),j=j.sibling;return G}function f(j,G){return j=$r(j,G),j.index=0,j.sibling=null,j}function m(j,G,Z){return j.index=Z,i?(Z=j.alternate,Z!==null?(Z=Z.index,Z<G?(j.flags|=33554434,G):Z):(j.flags|=33554434,G)):(j.flags|=1048576,G)}function x(j){return i&&j.alternate===null&&(j.flags|=33554434),j}function R(j,G,Z,nt){return G===null||G.tag!==6?(G=Jh(Z,j.mode,nt),G.return=j,G):(G=f(G,Z),G.return=j,G)}function U(j,G,Z,nt){var _t=Z.type;return _t===d?rt(j,G,Z.props.children,nt,Z.key):G!==null&&(G.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===N&&rm(_t)===G.type)?(G=f(G,Z.props),Ta(G,Z),G.return=j,G):(G=so(Z.type,Z.key,Z.props,null,j.mode,nt),Ta(G,Z),G.return=j,G)}function k(j,G,Z,nt){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=tc(Z,j.mode,nt),G.return=j,G):(G=f(G,Z.children||[]),G.return=j,G)}function rt(j,G,Z,nt,_t){return G===null||G.tag!==7?(G=Bs(Z,j.mode,nt,_t),G.return=j,G):(G=f(G,Z),G.return=j,G)}function lt(j,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Jh(""+G,j.mode,Z),G.return=j,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case h:return Z=so(G.type,G.key,G.props,null,j.mode,Z),Ta(Z,G),Z.return=j,Z;case c:return G=tc(G,j.mode,Z),G.return=j,G;case N:var nt=G._init;return G=nt(G._payload),lt(j,G,Z)}if(L(G)||q(G))return G=Bs(G,j.mode,Z,null),G.return=j,G;if(typeof G.then=="function")return lt(j,Gl(G),Z);if(G.$$typeof===v)return lt(j,eo(j,G),Z);Hl(j,G)}return null}function Q(j,G,Z,nt){var _t=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return _t!==null?null:R(j,G,""+Z,nt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return Z.key===_t?U(j,G,Z,nt):null;case c:return Z.key===_t?k(j,G,Z,nt):null;case N:return _t=Z._init,Z=_t(Z._payload),Q(j,G,Z,nt)}if(L(Z)||q(Z))return _t!==null?null:rt(j,G,Z,nt,null);if(typeof Z.then=="function")return Q(j,G,Gl(Z),nt);if(Z.$$typeof===v)return Q(j,G,eo(j,Z),nt);Hl(j,Z)}return null}function it(j,G,Z,nt,_t){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return j=j.get(Z)||null,R(G,j,""+nt,_t);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case h:return j=j.get(nt.key===null?Z:nt.key)||null,U(G,j,nt,_t);case c:return j=j.get(nt.key===null?Z:nt.key)||null,k(G,j,nt,_t);case N:var Ft=nt._init;return nt=Ft(nt._payload),it(j,G,Z,nt,_t)}if(L(nt)||q(nt))return j=j.get(Z)||null,rt(G,j,nt,_t,null);if(typeof nt.then=="function")return it(j,G,Z,Gl(nt),_t);if(nt.$$typeof===v)return it(j,G,Z,eo(G,nt),_t);Hl(G,nt)}return null}function St(j,G,Z,nt){for(var _t=null,Ft=null,Rt=G,Dt=G=0,Re=null;Rt!==null&&Dt<Z.length;Dt++){Rt.index>Dt?(Re=Rt,Rt=null):Re=Rt.sibling;var Yt=Q(j,Rt,Z[Dt],nt);if(Yt===null){Rt===null&&(Rt=Re);break}i&&Rt&&Yt.alternate===null&&r(j,Rt),G=m(Yt,G,Dt),Ft===null?_t=Yt:Ft.sibling=Yt,Ft=Yt,Rt=Re}if(Dt===Z.length)return a(j,Rt),jt&&bs(j,Dt),_t;if(Rt===null){for(;Dt<Z.length;Dt++)Rt=lt(j,Z[Dt],nt),Rt!==null&&(G=m(Rt,G,Dt),Ft===null?_t=Rt:Ft.sibling=Rt,Ft=Rt);return jt&&bs(j,Dt),_t}for(Rt=u(Rt);Dt<Z.length;Dt++)Re=it(Rt,j,Dt,Z[Dt],nt),Re!==null&&(i&&Re.alternate!==null&&Rt.delete(Re.key===null?Dt:Re.key),G=m(Re,G,Dt),Ft===null?_t=Re:Ft.sibling=Re,Ft=Re);return i&&Rt.forEach(function(es){return r(j,es)}),jt&&bs(j,Dt),_t}function Bt(j,G,Z,nt){if(Z==null)throw Error(s(151));for(var _t=null,Ft=null,Rt=G,Dt=G=0,Re=null,Yt=Z.next();Rt!==null&&!Yt.done;Dt++,Yt=Z.next()){Rt.index>Dt?(Re=Rt,Rt=null):Re=Rt.sibling;var es=Q(j,Rt,Yt.value,nt);if(es===null){Rt===null&&(Rt=Re);break}i&&Rt&&es.alternate===null&&r(j,Rt),G=m(es,G,Dt),Ft===null?_t=es:Ft.sibling=es,Ft=es,Rt=Re}if(Yt.done)return a(j,Rt),jt&&bs(j,Dt),_t;if(Rt===null){for(;!Yt.done;Dt++,Yt=Z.next())Yt=lt(j,Yt.value,nt),Yt!==null&&(G=m(Yt,G,Dt),Ft===null?_t=Yt:Ft.sibling=Yt,Ft=Yt);return jt&&bs(j,Dt),_t}for(Rt=u(Rt);!Yt.done;Dt++,Yt=Z.next())Yt=it(Rt,j,Dt,Yt.value,nt),Yt!==null&&(i&&Yt.alternate!==null&&Rt.delete(Yt.key===null?Dt:Yt.key),G=m(Yt,G,Dt),Ft===null?_t=Yt:Ft.sibling=Yt,Ft=Yt);return i&&Rt.forEach(function(R1){return r(j,R1)}),jt&&bs(j,Dt),_t}function ce(j,G,Z,nt){if(typeof Z=="object"&&Z!==null&&Z.type===d&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:t:{for(var _t=Z.key;G!==null;){if(G.key===_t){if(_t=Z.type,_t===d){if(G.tag===7){a(j,G.sibling),nt=f(G,Z.props.children),nt.return=j,j=nt;break t}}else if(G.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===N&&rm(_t)===G.type){a(j,G.sibling),nt=f(G,Z.props),Ta(nt,Z),nt.return=j,j=nt;break t}a(j,G);break}else r(j,G);G=G.sibling}Z.type===d?(nt=Bs(Z.props.children,j.mode,nt,Z.key),nt.return=j,j=nt):(nt=so(Z.type,Z.key,Z.props,null,j.mode,nt),Ta(nt,Z),nt.return=j,j=nt)}return x(j);case c:t:{for(_t=Z.key;G!==null;){if(G.key===_t)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){a(j,G.sibling),nt=f(G,Z.children||[]),nt.return=j,j=nt;break t}else{a(j,G);break}else r(j,G);G=G.sibling}nt=tc(Z,j.mode,nt),nt.return=j,j=nt}return x(j);case N:return _t=Z._init,Z=_t(Z._payload),ce(j,G,Z,nt)}if(L(Z))return St(j,G,Z,nt);if(q(Z)){if(_t=q(Z),typeof _t!="function")throw Error(s(150));return Z=_t.call(Z),Bt(j,G,Z,nt)}if(typeof Z.then=="function")return ce(j,G,Gl(Z),nt);if(Z.$$typeof===v)return ce(j,G,eo(j,Z),nt);Hl(j,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(a(j,G.sibling),nt=f(G,Z),nt.return=j,j=nt):(a(j,G),nt=Jh(Z,j.mode,nt),nt.return=j,j=nt),x(j)):a(j,G)}return function(j,G,Z,nt){try{Ea=0;var _t=ce(j,G,Z,nt);return _n=null,_t}catch(Rt){if(Rt===xa)throw Rt;var Ft=gi(29,Rt,null,j.mode);return Ft.lanes=nt,Ft.return=j,Ft}finally{}}}var Ts=sm(!0),nm=sm(!1),xn=ht(null),kl=ht(0);function am(i,r){i=_r,st(kl,i),st(xn,r),_r=i|r.baseLanes}function ah(){st(kl,_r),st(xn,xn.current)}function lh(){_r=kl.current,dt(xn),dt(kl)}var di=ht(null),Fi=null;function Lr(i){var r=i.alternate;st(_e,_e.current&1),st(di,i),Fi===null&&(r===null||xn.current!==null||r.memoizedState!==null)&&(Fi=i)}function lm(i){if(i.tag===22){if(st(_e,_e.current),st(di,i),Fi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Fi=i)}}else Fr()}function Fr(){st(_e,_e.current),st(di,di.current)}function ur(i){dt(di),Fi===i&&(Fi=null),dt(_e)}var _e=ht(0);function zl(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var pb=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},mb=n.unstable_scheduleCallback,gb=n.unstable_NormalPriority,xe={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new pb,data:new Map,refCount:0}}function Aa(i){i.refCount--,i.refCount===0&&mb(gb,function(){i.controller.abort()})}var Sa=null,uh=0,bn=0,En=null;function yb(i,r){if(Sa===null){var a=Sa=[];uh=0,bn=mc(),En={status:"pending",value:void 0,then:function(u){a.push(u)}}}return uh++,r.then(om,om),r}function om(){if(--uh===0&&Sa!==null){En!==null&&(En.status="fulfilled");var i=Sa;Sa=null,bn=0,En=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function vb(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var um=V.S;V.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&yb(i,r),um!==null&&um(i,r)};var As=ht(null);function hh(){var i=As.current;return i!==null?i:Qt.pooledCache}function Xl(i,r){r===null?st(As,As.current):st(As,r.pool)}function hm(){var i=hh();return i===null?null:{parent:xe._currentValue,pool:i}}var Gr=0,Lt=null,$t=null,pe=null,Vl=!1,Tn=!1,Ss=!1,jl=0,wa=0,An=null,_b=0;function fe(){throw Error(s(321))}function ch(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Qe(i[a],r[a]))return!1;return!0}function fh(i,r,a,u,f,m){return Gr=m,Lt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,V.H=i===null||i.memoizedState===null?ws:Hr,Ss=!1,m=a(u,f),Ss=!1,Tn&&(m=fm(r,a,u,f)),cm(i),m}function cm(i){V.H=Gi;var r=$t!==null&&$t.next!==null;if(Gr=0,pe=$t=Lt=null,Vl=!1,wa=0,An=null,r)throw Error(s(300));i===null||Se||(i=i.dependencies,i!==null&&to(i)&&(Se=!0))}function fm(i,r,a,u){Lt=i;var f=0;do{if(Tn&&(An=null),wa=0,Tn=!1,25<=f)throw Error(s(301));if(f+=1,pe=$t=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}V.H=Rs,m=r(a,u)}while(Tn);return m}function xb(){var i=V.H,r=i.useState()[0];return r=typeof r.then=="function"?Ra(r):r,i=i.useState()[0],($t!==null?$t.memoizedState:null)!==i&&(Lt.flags|=1024),r}function dh(){var i=jl!==0;return jl=0,i}function ph(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function mh(i){if(Vl){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Vl=!1}Gr=0,pe=$t=Lt=null,Tn=!1,wa=jl=0,An=null}function We(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Lt.memoizedState=pe=i:pe=pe.next=i,pe}function me(){if($t===null){var i=Lt.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var r=pe===null?Lt.memoizedState:pe.next;if(r!==null)pe=r,$t=i;else{if(i===null)throw Lt.alternate===null?Error(s(467)):Error(s(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},pe===null?Lt.memoizedState=pe=i:pe=pe.next=i}return pe}var Yl;Yl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ra(i){var r=wa;return wa+=1,An===null&&(An=[]),i=em(An,i,r),r=Lt,(pe===null?r.memoizedState:pe.next)===null&&(r=r.alternate,V.H=r===null||r.memoizedState===null?ws:Hr),i}function ql(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ra(i);if(i.$$typeof===v)return Le(i)}throw Error(s(438,String(i)))}function gh(i){var r=null,a=Lt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Lt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Yl(),Lt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=P;return r.index++,a}function hr(i,r){return typeof r=="function"?r(i):r}function $l(i){var r=me();return yh(r,$t,i)}function yh(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}r.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var R=x=null,U=null,k=r,rt=!1;do{var lt=k.lane&-536870913;if(lt!==k.lane?(Xt&lt)===lt:(Gr&lt)===lt){var Q=k.revertLane;if(Q===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),lt===bn&&(rt=!0);else if((Gr&Q)===Q){k=k.next,Q===bn&&(rt=!0);continue}else lt={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},U===null?(R=U=lt,x=m):U=U.next=lt,Lt.lanes|=Q,Wr|=Q;lt=k.action,Ss&&a(m,lt),m=k.hasEagerState?k.eagerState:a(m,lt)}else Q={lane:lt,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},U===null?(R=U=Q,x=m):U=U.next=Q,Lt.lanes|=lt,Wr|=lt;k=k.next}while(k!==null&&k!==r);if(U===null?x=m:U.next=R,!Qe(m,i.memoizedState)&&(Se=!0,rt&&(a=En,a!==null)))throw a;i.memoizedState=m,i.baseState=x,i.baseQueue=U,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function vh(i){var r=me(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do m=i(m,x.action),x=x.next;while(x!==f);Qe(m,r.memoizedState)||(Se=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,u]}function dm(i,r,a){var u=Lt,f=me(),m=jt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var x=!Qe(($t||f).memoizedState,a);if(x&&(f.memoizedState=a,Se=!0),f=f.queue,bh(gm.bind(null,u,f,i),[i]),f.getSnapshot!==r||x||pe!==null&&pe.memoizedState.tag&1){if(u.flags|=2048,Sn(9,mm.bind(null,u,f,a,r),{destroy:void 0},null),Qt===null)throw Error(s(349));m||(Gr&60)!==0||pm(u,r,a)}return a}function pm(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Lt.updateQueue,r===null?(r=Yl(),Lt.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function mm(i,r,a,u){r.value=a,r.getSnapshot=u,ym(r)&&vm(i)}function gm(i,r,a){return a(function(){ym(r)&&vm(i)})}function ym(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Qe(i,a)}catch{return!0}}function vm(i){var r=Pr(i,2);r!==null&&Xe(r,i,2)}function _h(i){var r=We();if(typeof i=="function"){var a=i;if(i=a(),Ss){W(!0);try{a()}finally{W(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:i},r}function _m(i,r,a,u){return i.baseState=a,yh(i,$t,typeof u=="function"?u:hr)}function bb(i,r,a,u,f){if(Kl(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};V.T!==null?a(!0):m.isTransition=!1,u(m),a=r.pending,a===null?(m.next=r.pending=m,xm(r,m)):(m.next=a.next,r.pending=a.next=m)}}function xm(i,r){var a=r.action,u=r.payload,f=i.state;if(r.isTransition){var m=V.T,x={};V.T=x;try{var R=a(f,u),U=V.S;U!==null&&U(x,R),bm(i,r,R)}catch(k){xh(i,r,k)}finally{V.T=m}}else try{m=a(f,u),bm(i,r,m)}catch(k){xh(i,r,k)}}function bm(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Em(i,r,u)},function(u){return xh(i,r,u)}):Em(i,r,a)}function Em(i,r,a){r.status="fulfilled",r.value=a,Tm(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,xm(i,a)))}function xh(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Tm(r),r=r.next;while(r!==u)}i.action=null}function Tm(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Am(i,r){return r}function Sm(i,r){if(jt){var a=Qt.formState;if(a!==null){t:{var u=Lt;if(jt){if(Be){e:{for(var f=Be,m=Li;f.nodeType!==8;){if(!m){f=null;break e}if(f=wi(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Be=wi(f.nextSibling),u=f.data==="F!";break t}}Es(u)}u=!1}u&&(r=a[0])}}return a=We(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Am,lastRenderedState:r},a.queue=u,a=Xm.bind(null,Lt,u),u.dispatch=a,u=_h(!1),m=wh.bind(null,Lt,!1,u.queue),u=We(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,a=bb.bind(null,Lt,f,m,a),f.dispatch=a,u.memoizedState=i,[r,a,!1]}function wm(i){var r=me();return Rm(r,$t,i)}function Rm(i,r,a){r=yh(i,r,Am)[0],i=$l(hr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Ra(r):r;var u=me(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(Lt.flags|=2048,Sn(9,Eb.bind(null,f,a),{destroy:void 0},null)),[r,m,i]}function Eb(i,r){i.action=r}function Cm(i){var r=me(),a=$t;if(a!==null)return Rm(r,a,i);me(),r=r.memoizedState,a=me();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function Sn(i,r,a,u){return i={tag:i,create:r,inst:a,deps:u,next:null},r=Lt.updateQueue,r===null&&(r=Yl(),Lt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function Mm(){return me().memoizedState}function Wl(i,r,a,u){var f=We();Lt.flags|=i,f.memoizedState=Sn(1|r,a,{destroy:void 0},u===void 0?null:u)}function Zl(i,r,a,u){var f=me();u=u===void 0?null:u;var m=f.memoizedState.inst;$t!==null&&u!==null&&ch(u,$t.memoizedState.deps)?f.memoizedState=Sn(r,a,m,u):(Lt.flags|=i,f.memoizedState=Sn(1|r,a,m,u))}function Dm(i,r){Wl(8390656,8,i,r)}function bh(i,r){Zl(2048,8,i,r)}function Om(i,r){return Zl(4,2,i,r)}function Bm(i,r){return Zl(4,4,i,r)}function Im(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Nm(i,r,a){a=a!=null?a.concat([i]):null,Zl(4,4,Im.bind(null,r,i),a)}function Eh(){}function Um(i,r){var a=me();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&ch(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function Pm(i,r){var a=me();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&ch(r,u[1]))return u[0];if(u=i(),Ss){W(!0);try{i()}finally{W(!1)}}return a.memoizedState=[u,r],u}function Th(i,r,a){return a===void 0||(Gr&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=Fg(),Lt.lanes|=i,Wr|=i,a)}function Lm(i,r,a,u){return Qe(a,r)?a:xn.current!==null?(i=Th(i,a,u),Qe(i,r)||(Se=!0),i):(Gr&42)===0?(Se=!0,i.memoizedState=a):(i=Fg(),Lt.lanes|=i,Wr|=i,r)}function Fm(i,r,a,u,f){var m=Y.p;Y.p=m!==0&&8>m?m:8;var x=V.T,R={};V.T=R,wh(i,!1,r,a);try{var U=f(),k=V.S;if(k!==null&&k(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var rt=vb(U,u);Ca(i,r,rt,ii(i))}else Ca(i,r,u,ii(i))}catch(lt){Ca(i,r,{then:function(){},status:"rejected",reason:lt},ii())}finally{Y.p=m,V.T=x}}function Tb(){}function Ah(i,r,a,u){if(i.tag!==5)throw Error(s(476));var f=Gm(i).queue;Fm(i,f,r,tt,a===null?Tb:function(){return Hm(i),a(u)})}function Gm(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:tt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Hm(i){var r=Gm(i).next.queue;Ca(i,r,{},ii())}function Sh(){return Le($a)}function km(){return me().memoizedState}function zm(){return me().memoizedState}function Ab(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=ii();i=Xr(a);var u=Vr(r,i,a);u!==null&&(Xe(u,r,a),Oa(u,r,a)),r={cache:oh()},i.payload=r;return}r=r.return}}function Sb(i,r,a){var u=ii();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Kl(i)?Vm(r,a):(a=eh(i,r,a,u),a!==null&&(Xe(a,i,u),jm(a,r,u)))}function Xm(i,r,a){var u=ii();Ca(i,r,a,u)}function Ca(i,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kl(i))Vm(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,R=m(x,a);if(f.hasEagerState=!0,f.eagerState=R,Qe(R,x))return Nl(i,r,f,0),Qt===null&&Il(),!1}catch{}finally{}if(a=eh(i,r,f,u),a!==null)return Xe(a,i,u),jm(a,r,u),!0}return!1}function wh(i,r,a,u){if(u={lane:2,revertLane:mc(),action:u,hasEagerState:!1,eagerState:null,next:null},Kl(i)){if(r)throw Error(s(479))}else r=eh(i,a,u,2),r!==null&&Xe(r,i,2)}function Kl(i){var r=i.alternate;return i===Lt||r!==null&&r===Lt}function Vm(i,r){Tn=Vl=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function jm(i,r,a){if((a&4194176)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,rn(i,a)}}var Gi={readContext:Le,use:ql,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe};Gi.useCacheRefresh=fe,Gi.useMemoCache=fe,Gi.useHostTransitionStatus=fe,Gi.useFormState=fe,Gi.useActionState=fe,Gi.useOptimistic=fe;var ws={readContext:Le,use:ql,useCallback:function(i,r){return We().memoizedState=[i,r===void 0?null:r],i},useContext:Le,useEffect:Dm,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Wl(4194308,4,Im.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Wl(4194308,4,i,r)},useInsertionEffect:function(i,r){Wl(4,2,i,r)},useMemo:function(i,r){var a=We();r=r===void 0?null:r;var u=i();if(Ss){W(!0);try{i()}finally{W(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=We();if(a!==void 0){var f=a(r);if(Ss){W(!0);try{a(r)}finally{W(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=Sb.bind(null,Lt,i),[u.memoizedState,i]},useRef:function(i){var r=We();return i={current:i},r.memoizedState=i},useState:function(i){i=_h(i);var r=i.queue,a=Xm.bind(null,Lt,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Eh,useDeferredValue:function(i,r){var a=We();return Th(a,i,r)},useTransition:function(){var i=_h(!1);return i=Fm.bind(null,Lt,i.queue,!0,!1),We().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=Lt,f=We();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Qt===null)throw Error(s(349));(Xt&60)!==0||pm(u,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Dm(gm.bind(null,u,m,i),[i]),u.flags|=2048,Sn(9,mm.bind(null,u,m,a,r),{destroy:void 0},null),a},useId:function(){var i=We(),r=Qt.identifierPrefix;if(jt){var a=or,u=lr;a=(u&~(1<<32-K(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=jl++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=_b++,r=":"+r+"r"+a.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return We().memoizedState=Ab.bind(null,Lt)}};ws.useMemoCache=gh,ws.useHostTransitionStatus=Sh,ws.useFormState=Sm,ws.useActionState=Sm,ws.useOptimistic=function(i){var r=We();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=wh.bind(null,Lt,!0,a),a.dispatch=r,[i,r]};var Hr={readContext:Le,use:ql,useCallback:Um,useContext:Le,useEffect:bh,useImperativeHandle:Nm,useInsertionEffect:Om,useLayoutEffect:Bm,useMemo:Pm,useReducer:$l,useRef:Mm,useState:function(){return $l(hr)},useDebugValue:Eh,useDeferredValue:function(i,r){var a=me();return Lm(a,$t.memoizedState,i,r)},useTransition:function(){var i=$l(hr)[0],r=me().memoizedState;return[typeof i=="boolean"?i:Ra(i),r]},useSyncExternalStore:dm,useId:km};Hr.useCacheRefresh=zm,Hr.useMemoCache=gh,Hr.useHostTransitionStatus=Sh,Hr.useFormState=wm,Hr.useActionState=wm,Hr.useOptimistic=function(i,r){var a=me();return _m(a,$t,i,r)};var Rs={readContext:Le,use:ql,useCallback:Um,useContext:Le,useEffect:bh,useImperativeHandle:Nm,useInsertionEffect:Om,useLayoutEffect:Bm,useMemo:Pm,useReducer:vh,useRef:Mm,useState:function(){return vh(hr)},useDebugValue:Eh,useDeferredValue:function(i,r){var a=me();return $t===null?Th(a,i,r):Lm(a,$t.memoizedState,i,r)},useTransition:function(){var i=vh(hr)[0],r=me().memoizedState;return[typeof i=="boolean"?i:Ra(i),r]},useSyncExternalStore:dm,useId:km};Rs.useCacheRefresh=zm,Rs.useMemoCache=gh,Rs.useHostTransitionStatus=Sh,Rs.useFormState=Cm,Rs.useActionState=Cm,Rs.useOptimistic=function(i,r){var a=me();return $t!==null?_m(a,$t,i,r):(a.baseState=i,[i,a.queue.dispatch])};function Rh(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:J({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Ch={isMounted:function(i){return(i=i._reactInternals)?w(i)===i:!1},enqueueSetState:function(i,r,a){i=i._reactInternals;var u=ii(),f=Xr(u);f.payload=r,a!=null&&(f.callback=a),r=Vr(i,f,u),r!==null&&(Xe(r,i,u),Oa(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=ii(),f=Xr(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Vr(i,f,u),r!==null&&(Xe(r,i,u),Oa(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=ii(),u=Xr(a);u.tag=2,r!=null&&(u.callback=r),r=Vr(i,u,a),r!==null&&(Xe(r,i,a),Oa(r,i,a))}};function Ym(i,r,a,u,f,m,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,x):r.prototype&&r.prototype.isPureReactComponent?!ma(a,u)||!ma(f,m):!0}function qm(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&Ch.enqueueReplaceState(r,r.state,null)}function Cs(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=J({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var Ql=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function $m(i){Ql(i)}function Wm(i){console.error(i)}function Zm(i){Ql(i)}function Jl(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Km(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Mh(i,r,a){return a=Xr(a),a.tag=3,a.payload={element:null},a.callback=function(){Jl(i,r)},a}function Qm(i){return i=Xr(i),i.tag=3,i}function Jm(i,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){Km(r,a,u)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){Km(r,a,u),typeof f!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function wb(i,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Da(r,a,f,!0),a=di.current,a!==null){switch(a.tag){case 13:return Fi===null?hc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===nh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),fc(i,u,f)),!1;case 22:return a.flags|=65536,u===nh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),fc(i,u,f)),!1}throw Error(s(435,a.tag))}return fc(i,u,f),hc(),!1}if(jt)return r=di.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==sh&&(i=Error(s(422),{cause:u}),_a(hi(i,a)))):(u!==sh&&(r=Error(s(423),{cause:u}),_a(hi(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=hi(u,a),f=Mh(i.stateNode,u,f),Vh(i,f),he!==4&&(he=2)),!1;var m=Error(s(520),{cause:u});if(m=hi(m,a),Ga===null?Ga=[m]:Ga.push(m),he!==4&&(he=2),r===null)return!0;u=hi(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Mh(a.stateNode,u,i),Vh(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zr===null||!Zr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Qm(f),Jm(f,i,a,u),Vh(a,f),!1}a=a.return}while(a!==null);return!1}var tg=Error(s(461)),Se=!1;function Ie(i,r,a,u){r.child=i===null?nm(r,null,a,u):Ts(r,i.child,a,u)}function eg(i,r,a,u,f){a=a.render;var m=r.ref;if("ref"in u){var x={};for(var R in u)R!=="ref"&&(x[R]=u[R])}else x=u;return Ds(r),u=fh(i,r,a,x,m,f),R=dh(),i!==null&&!Se?(ph(i,r,f),cr(i,r,f)):(jt&&R&&ih(r),r.flags|=1,Ie(i,r,u,f),r.child)}function ig(i,r,a,u,f){if(i===null){var m=a.type;return typeof m=="function"&&!Qh(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,rg(i,r,m,u,f)):(i=so(a.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Fh(i,f)){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:ma,a(x,u)&&i.ref===r.ref)return cr(i,r,f)}return r.flags|=1,i=$r(m,u),i.ref=r.ref,i.return=r,r.child=i}function rg(i,r,a,u,f){if(i!==null){var m=i.memoizedProps;if(ma(m,u)&&i.ref===r.ref)if(Se=!1,r.pendingProps=u=m,Fh(i,f))(i.flags&131072)!==0&&(Se=!0);else return r.lanes=i.lanes,cr(i,r,f)}return Dh(i,r,a,u,f)}function sg(i,r,a){var u=r.pendingProps,f=u.children,m=(r.stateNode._pendingVisibility&2)!==0,x=i!==null?i.memoizedState:null;if(Ma(i,r),u.mode==="hidden"||m){if((r.flags&128)!==0){if(u=x!==null?x.baseLanes|a:a,i!==null){for(f=r.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return ng(i,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xl(r,x!==null?x.cachePool:null),x!==null?am(r,x):ah(),lm(r);else return r.lanes=r.childLanes=536870912,ng(i,r,x!==null?x.baseLanes|a:a,a)}else x!==null?(Xl(r,x.cachePool),am(r,x),Fr(),r.memoizedState=null):(i!==null&&Xl(r,null),ah(),Fr());return Ie(i,r,f,a),r.child}function ng(i,r,a,u){var f=hh();return f=f===null?null:{parent:xe._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},i!==null&&Xl(r,null),ah(),lm(r),i!==null&&Da(i,r,u,!0),null}function Ma(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=2097664)}}function Dh(i,r,a,u,f){return Ds(r),a=fh(i,r,a,u,void 0,f),u=dh(),i!==null&&!Se?(ph(i,r,f),cr(i,r,f)):(jt&&u&&ih(r),r.flags|=1,Ie(i,r,a,f),r.child)}function ag(i,r,a,u,f,m){return Ds(r),r.updateQueue=null,a=fm(r,u,a,f),cm(i),u=dh(),i!==null&&!Se?(ph(i,r,m),cr(i,r,m)):(jt&&u&&ih(r),r.flags|=1,Ie(i,r,a,m),r.child)}function lg(i,r,a,u,f){if(Ds(r),r.stateNode===null){var m=gn,x=a.contextType;typeof x=="object"&&x!==null&&(m=Le(x)),m=new a(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ch,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},zh(r),x=a.contextType,m.context=typeof x=="object"&&x!==null?Le(x):gn,m.state=r.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Rh(r,a,x,u),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Ch.enqueueReplaceState(m,m.state,null),Ia(r,u,m,f),Ba(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){m=r.stateNode;var R=r.memoizedProps,U=Cs(a,R);m.props=U;var k=m.context,rt=a.contextType;x=gn,typeof rt=="object"&&rt!==null&&(x=Le(rt));var lt=a.getDerivedStateFromProps;rt=typeof lt=="function"||typeof m.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,rt||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R||k!==x)&&qm(r,m,u,x),zr=!1;var Q=r.memoizedState;m.state=Q,Ia(r,u,m,f),Ba(),k=r.memoizedState,R||Q!==k||zr?(typeof lt=="function"&&(Rh(r,a,lt,u),k=r.memoizedState),(U=zr||Ym(r,a,U,u,Q,k,x))?(rt||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=k),m.props=u,m.state=k,m.context=x,u=U):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Xh(i,r),x=r.memoizedProps,rt=Cs(a,x),m.props=rt,lt=r.pendingProps,Q=m.context,k=a.contextType,U=gn,typeof k=="object"&&k!==null&&(U=Le(k)),R=a.getDerivedStateFromProps,(k=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==lt||Q!==U)&&qm(r,m,u,U),zr=!1,Q=r.memoizedState,m.state=Q,Ia(r,u,m,f),Ba();var it=r.memoizedState;x!==lt||Q!==it||zr||i!==null&&i.dependencies!==null&&to(i.dependencies)?(typeof R=="function"&&(Rh(r,a,R,u),it=r.memoizedState),(rt=zr||Ym(r,a,rt,u,Q,it,U)||i!==null&&i.dependencies!==null&&to(i.dependencies))?(k||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,it,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,it,U)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=it),m.props=u,m.state=it,m.context=U,u=rt):(typeof m.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),u=!1)}return m=u,Ma(i,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&u?(r.child=Ts(r,i.child,null,f),r.child=Ts(r,null,a,f)):Ie(i,r,a,f),r.memoizedState=m.state,i=r.child):i=cr(i,r,f),i}function og(i,r,a,u){return va(),r.flags|=256,Ie(i,r,a,u),r.child}var Oh={dehydrated:null,treeContext:null,retryLane:0};function Bh(i){return{baseLanes:i,cachePool:hm()}}function Ih(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=yi),i}function ug(i,r,a){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,x;if((x=m)||(x=i!==null&&i.memoizedState===null?!1:(_e.current&2)!==0),x&&(f=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(jt){if(f?Lr(r):Fr(),jt){var R=Be,U;if(U=R){t:{for(U=R,R=Li;U.nodeType!==8;){if(!R){R=null;break t}if(U=wi(U.nextSibling),U===null){R=null;break t}}R=U}R!==null?(r.memoizedState={dehydrated:R,treeContext:xs!==null?{id:lr,overflow:or}:null,retryLane:536870912},U=gi(18,null,null,0),U.stateNode=R,U.return=r,r.child=U,ze=r,Be=null,U=!0):U=!1}U||Es(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?r.lanes=16:r.lanes=536870912,null;ur(r)}return R=u.children,u=u.fallback,f?(Fr(),f=r.mode,R=Uh({mode:"hidden",children:R},f),u=Bs(u,f,a,null),R.return=r,u.return=r,R.sibling=u,r.child=R,f=r.child,f.memoizedState=Bh(a),f.childLanes=Ih(i,x,a),r.memoizedState=Oh,u):(Lr(r),Nh(r,R))}if(U=i.memoizedState,U!==null&&(R=U.dehydrated,R!==null)){if(m)r.flags&256?(Lr(r),r.flags&=-257,r=Ph(i,r,a)):r.memoizedState!==null?(Fr(),r.child=i.child,r.flags|=128,r=null):(Fr(),f=u.fallback,R=r.mode,u=Uh({mode:"visible",children:u.children},R),f=Bs(f,R,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Ts(r,i.child,null,a),u=r.child,u.memoizedState=Bh(a),u.childLanes=Ih(i,x,a),r.memoizedState=Oh,r=f);else if(Lr(r),R.data==="$!"){if(x=R.nextSibling&&R.nextSibling.dataset,x)var k=x.dgst;x=k,u=Error(s(419)),u.stack="",u.digest=x,_a({value:u,source:null,stack:null}),r=Ph(i,r,a)}else if(Se||Da(i,r,a,!1),x=(a&i.childLanes)!==0,Se||x){if(x=Qt,x!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(x.suspendedLanes|a))!==0?0:u,u!==0&&u!==U.retryLane)throw U.retryLane=u,Pr(i,u),Xe(x,i,u),tg}R.data==="$?"||hc(),r=Ph(i,r,a)}else R.data==="$?"?(r.flags|=128,r.child=i.child,r=kb.bind(null,i),R._reactRetry=r,r=null):(i=U.treeContext,Be=wi(R.nextSibling),ze=r,jt=!0,Ai=null,Li=!1,i!==null&&(ci[fi++]=lr,ci[fi++]=or,ci[fi++]=xs,lr=i.id,or=i.overflow,xs=r),r=Nh(r,u.children),r.flags|=4096);return r}return f?(Fr(),f=u.fallback,R=r.mode,U=i.child,k=U.sibling,u=$r(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&31457280,k!==null?f=$r(k,f):(f=Bs(f,R,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,R=i.child.memoizedState,R===null?R=Bh(a):(U=R.cachePool,U!==null?(k=xe._currentValue,U=U.parent!==k?{parent:k,pool:k}:U):U=hm(),R={baseLanes:R.baseLanes|a,cachePool:U}),f.memoizedState=R,f.childLanes=Ih(i,x,a),r.memoizedState=Oh,u):(Lr(r),a=i.child,i=a.sibling,a=$r(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=a,r.memoizedState=null,a)}function Nh(i,r){return r=Uh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Uh(i,r){return Ug(i,r,0,null)}function Ph(i,r,a){return Ts(r,i.child,null,a),i=Nh(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function hg(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Hh(i.return,r,a)}function Lh(i,r,a,u,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function cg(i,r,a){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if(Ie(i,r,u.children,a),u=_e.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&hg(i,a,r);else if(i.tag===19)hg(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(st(_e,u),f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&zl(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Lh(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&zl(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Lh(r,!0,a,null,m);break;case"together":Lh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function cr(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Wr|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Da(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=$r(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=$r(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Fh(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&to(i)))}function Rb(i,r,a){switch(r.tag){case 3:Et(r,r.stateNode.containerInfo),kr(r,xe,i.memoizedState.cache),va();break;case 27:case 5:ee(r);break;case 4:Et(r,r.stateNode.containerInfo);break;case 10:kr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Lr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?ug(i,r,a):(Lr(r),i=cr(i,r,a),i!==null?i.sibling:null);Lr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Da(i,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return cg(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(_e,_e.current),u)break;return null;case 22:case 23:return r.lanes=0,sg(i,r,a);case 24:kr(r,xe,i.memoizedState.cache)}return cr(i,r,a)}function fg(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Se=!0;else{if(!Fh(i,a)&&(r.flags&128)===0)return Se=!1,Rb(i,r,a);Se=(i.flags&131072)!==0}else Se=!1,jt&&(r.flags&1048576)!==0&&Zp(r,Ll,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Qh(u)?(i=Cs(u,i),r.tag=1,r=lg(null,r,u,i,a)):(r.tag=0,r=Dh(null,r,u,i,a));else{if(u!=null){if(f=u.$$typeof,f===b){r.tag=11,r=eg(null,r,u,i,a);break t}else if(f===C){r.tag=14,r=ig(null,r,u,i,a);break t}}throw r=X(u)||u,Error(s(306,r,""))}}return r;case 0:return Dh(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Cs(u,r.pendingProps),lg(i,r,u,f,a);case 3:t:{if(Et(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,u=f.element,Xh(i,r),Ia(r,m,null,a);var x=r.memoizedState;if(m=x.cache,kr(r,xe,m),m!==f.cache&&kh(r,[xe],a,!0),Ba(),m=x.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=og(i,r,m,a);break t}else if(m!==u){u=hi(Error(s(424)),r),_a(u),r=og(i,r,m,a);break t}else for(Be=wi(r.stateNode.containerInfo.firstChild),ze=r,jt=!0,Ai=null,Li=!0,a=nm(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(va(),m===u){r=cr(i,r,a);break t}Ie(i,r,m,a)}r=r.child}return r;case 26:return Ma(i,r),i===null?(a=my(r.type,null,r.pendingProps,null))?r.memoizedState=a:jt||(a=r.type,i=r.pendingProps,u=yo(Ct.current).createElement(a),u[ve]=r,u[Te]=i,Ne(u,a,i),Ae(u),r.stateNode=u):r.memoizedState=my(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ee(r),i===null&&jt&&(u=r.stateNode=fy(r.type,r.pendingProps,Ct.current),ze=r,Li=!0,Be=wi(u.firstChild)),u=r.pendingProps.children,i!==null||jt?Ie(i,r,u,a):r.child=Ts(r,null,u,a),Ma(i,r),r.child;case 5:return i===null&&jt&&((f=u=Be)&&(u=r1(u,r.type,r.pendingProps,Li),u!==null?(r.stateNode=u,ze=r,Be=wi(u.firstChild),Li=!1,f=!0):f=!1),f||Es(r)),ee(r),f=r.type,m=r.pendingProps,x=i!==null?i.memoizedProps:null,u=m.children,Ac(f,m)?u=null:x!==null&&Ac(f,x)&&(r.flags|=32),r.memoizedState!==null&&(f=fh(i,r,xb,null,null,a),$a._currentValue=f),Ma(i,r),Ie(i,r,u,a),r.child;case 6:return i===null&&jt&&((i=a=Be)&&(a=s1(a,r.pendingProps,Li),a!==null?(r.stateNode=a,ze=r,Be=null,i=!0):i=!1),i||Es(r)),null;case 13:return ug(i,r,a);case 4:return Et(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ts(r,null,u,a):Ie(i,r,u,a),r.child;case 11:return eg(i,r,r.type,r.pendingProps,a);case 7:return Ie(i,r,r.pendingProps,a),r.child;case 8:return Ie(i,r,r.pendingProps.children,a),r.child;case 12:return Ie(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,kr(r,r.type,u.value),Ie(i,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Ds(r),f=Le(f),u=u(f),r.flags|=1,Ie(i,r,u,a),r.child;case 14:return ig(i,r,r.type,r.pendingProps,a);case 15:return rg(i,r,r.type,r.pendingProps,a);case 19:return cg(i,r,a);case 22:return sg(i,r,a);case 24:return Ds(r),u=Le(xe),i===null?(f=hh(),f===null&&(f=Qt,m=oh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:u,cache:f},zh(r),kr(r,xe,f)):((i.lanes&a)!==0&&(Xh(i,r),Ia(r,null,null,a),Ba()),f=i.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),kr(r,xe,u)):(u=m.cache,kr(r,xe,u),u!==f.cache&&kh(r,[xe],a,!0))),Ie(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Gh=ht(null),Ms=null,fr=null;function kr(i,r,a){st(Gh,r._currentValue),r._currentValue=a}function dr(i){i._currentValue=Gh.current,dt(Gh)}function Hh(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function kh(i,r,a,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var x=f.child;m=m.firstContext;t:for(;m!==null;){var R=m;m=f;for(var U=0;U<r.length;U++)if(R.context===r[U]){m.lanes|=a,R=m.alternate,R!==null&&(R.lanes|=a),Hh(m.return,a,i),u||(x=null);break t}m=R.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(s(341));x.lanes|=a,m=x.alternate,m!==null&&(m.lanes|=a),Hh(x,a,i),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===i){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Da(i,r,a,u){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var R=f.type;Qe(f.pendingProps.value,x.value)||(i!==null?i.push(R):i=[R])}}else if(f===Ut.current){if(x=f.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push($a):i=[$a])}f=f.return}i!==null&&kh(r,i,a,u),r.flags|=262144}function to(i){for(i=i.firstContext;i!==null;){if(!Qe(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ds(i){Ms=i,fr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Le(i){return dg(Ms,i)}function eo(i,r){return Ms===null&&Ds(i),dg(i,r)}function dg(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},fr===null){if(i===null)throw Error(s(308));fr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else fr=fr.next=r;return a}var zr=!1;function zh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Xr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Vr(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(ae&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Ul(i),$p(i,null,a),r}return Nl(i,u,r,a),Ul(i)}function Oa(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,rn(i,a)}}function Vh(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var jh=!1;function Ba(){if(jh){var i=En;if(i!==null)throw i}}function Ia(i,r,a,u){jh=!1;var f=i.updateQueue;zr=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var U=R,k=U.next;U.next=null,x===null?m=k:x.next=k,x=U;var rt=i.alternate;rt!==null&&(rt=rt.updateQueue,R=rt.lastBaseUpdate,R!==x&&(R===null?rt.firstBaseUpdate=k:R.next=k,rt.lastBaseUpdate=U))}if(m!==null){var lt=f.baseState;x=0,rt=k=U=null,R=m;do{var Q=R.lane&-536870913,it=Q!==R.lane;if(it?(Xt&Q)===Q:(u&Q)===Q){Q!==0&&Q===bn&&(jh=!0),rt!==null&&(rt=rt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var St=i,Bt=R;Q=r;var ce=a;switch(Bt.tag){case 1:if(St=Bt.payload,typeof St=="function"){lt=St.call(ce,lt,Q);break t}lt=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Bt.payload,Q=typeof St=="function"?St.call(ce,lt,Q):St,Q==null)break t;lt=J({},lt,Q);break t;case 2:zr=!0}}Q=R.callback,Q!==null&&(i.flags|=64,it&&(i.flags|=8192),it=f.callbacks,it===null?f.callbacks=[Q]:it.push(Q))}else it={lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},rt===null?(k=rt=it,U=lt):rt=rt.next=it,x|=Q;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;it=R,R=it.next,it.next=null,f.lastBaseUpdate=it,f.shared.pending=null}}while(!0);rt===null&&(U=lt),f.baseState=U,f.firstBaseUpdate=k,f.lastBaseUpdate=rt,m===null&&(f.shared.lanes=0),Wr|=x,i.lanes=x,i.memoizedState=lt}}function pg(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function mg(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)pg(a[i],r)}function Na(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&i)===i){u=void 0;var m=a.create,x=a.inst;u=m(),x.destroy=u}a=a.next}while(a!==f)}}catch(R){Kt(r,r.return,R)}}function jr(i,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var x=u.inst,R=x.destroy;if(R!==void 0){x.destroy=void 0,f=r;var U=a;try{R()}catch(k){Kt(f,U,k)}}}u=u.next}while(u!==m)}}catch(k){Kt(r,r.return,k)}}function gg(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{mg(r,a)}catch(u){Kt(i,i.return,u)}}}function yg(i,r,a){a.props=Cs(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Kt(i,r,u)}}function Os(i,r){try{var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?i.refCleanup=a(f):a.current=f}}catch(m){Kt(i,r,m)}}function Je(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Kt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Kt(i,r,f)}else a.current=null}function vg(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Kt(i,i.return,f)}}function _g(i,r,a){try{var u=i.stateNode;Qb(u,i.type,a,r),u[Te]=r}catch(f){Kt(i,i.return,f)}}function xg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Yh(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||xg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qh(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(i,r):a.insertBefore(i,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(i,a)):(r=a,r.appendChild(i)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=go));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(qh(i,r,a),i=i.sibling;i!==null;)qh(i,r,a),i=i.sibling}function io(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(io(i,r,a),i=i.sibling;i!==null;)io(i,r,a),i=i.sibling}var pr=!1,ue=!1,$h=!1,bg=typeof WeakSet=="function"?WeakSet:Set,we=null,Eg=!1;function Cb(i,r){if(i=i.containerInfo,Ec=To,i=Gp(i),Zu(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var x=0,R=-1,U=-1,k=0,rt=0,lt=i,Q=null;e:for(;;){for(var it;lt!==a||f!==0&&lt.nodeType!==3||(R=x+f),lt!==m||u!==0&&lt.nodeType!==3||(U=x+u),lt.nodeType===3&&(x+=lt.nodeValue.length),(it=lt.firstChild)!==null;)Q=lt,lt=it;for(;;){if(lt===i)break e;if(Q===a&&++k===f&&(R=x),Q===m&&++rt===u&&(U=x),(it=lt.nextSibling)!==null)break;lt=Q,Q=lt.parentNode}lt=it}a=R===-1||U===-1?null:{start:R,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tc={focusedElem:i,selectionRange:a},To=!1,we=r;we!==null;)if(r=we,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,we=i;else for(;we!==null;){switch(r=we,m=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var St=Cs(a.type,f,a.elementType===a.type);i=u.getSnapshotBeforeUpdate(St,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(Bt){Kt(a,a.return,Bt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Rc(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rc(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,we=i;break}we=r.return}return St=Eg,Eg=!1,St}function Tg(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:gr(i,a),u&4&&Na(5,a);break;case 1:if(gr(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(R){Kt(a,a.return,R)}else{var f=Cs(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Kt(a,a.return,R)}}u&64&&gg(a),u&512&&Os(a,a.return);break;case 3:if(gr(i,a),u&64&&(u=a.updateQueue,u!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{mg(u,i)}catch(R){Kt(a,a.return,R)}}break;case 26:gr(i,a),u&512&&Os(a,a.return);break;case 27:case 5:gr(i,a),r===null&&u&4&&vg(a),u&512&&Os(a,a.return);break;case 12:gr(i,a);break;case 13:gr(i,a),u&4&&wg(i,a);break;case 22:if(f=a.memoizedState!==null||pr,!f){r=r!==null&&r.memoizedState!==null||ue;var m=pr,x=ue;pr=f,(ue=r)&&!x?Yr(i,a,(a.subtreeFlags&8772)!==0):gr(i,a),pr=m,ue=x}u&512&&(a.memoizedProps.mode==="manual"?Os(a,a.return):Je(a,a.return));break;default:gr(i,a)}}function Ag(i){var r=i.alternate;r!==null&&(i.alternate=null,Ag(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Nr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ge=null,ti=!1;function mr(i,r,a){for(a=a.child;a!==null;)Sg(i,r,a),a=a.sibling}function Sg(i,r,a){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(ds,a)}catch{}switch(a.tag){case 26:ue||Je(a,r),mr(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||Je(a,r);var u=ge,f=ti;for(ge=a.stateNode,mr(i,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Nr(a),ge=u,ti=f;break;case 5:ue||Je(a,r);case 6:f=ge;var m=ti;if(ge=null,mr(i,r,a),ge=f,ti=m,ge!==null)if(ti)try{i=ge,u=a.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(x){Kt(a,r,x)}else try{ge.removeChild(a.stateNode)}catch(x){Kt(a,r,x)}break;case 18:ge!==null&&(ti?(r=ge,a=a.stateNode,r.nodeType===8?wc(r.parentNode,a):r.nodeType===1&&wc(r,a),Qa(r)):wc(ge,a.stateNode));break;case 4:u=ge,f=ti,ge=a.stateNode.containerInfo,ti=!0,mr(i,r,a),ge=u,ti=f;break;case 0:case 11:case 14:case 15:ue||jr(2,a,r),ue||jr(4,a,r),mr(i,r,a);break;case 1:ue||(Je(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&yg(a,r,u)),mr(i,r,a);break;case 21:mr(i,r,a);break;case 22:ue||Je(a,r),ue=(u=ue)||a.memoizedState!==null,mr(i,r,a),ue=u;break;default:mr(i,r,a)}}function wg(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Qa(i)}catch(a){Kt(r,r.return,a)}}function Mb(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new bg),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new bg),r;default:throw Error(s(435,i.tag))}}function Wh(i,r){var a=Mb(i);r.forEach(function(u){var f=zb.bind(null,i,u);a.has(u)||(a.add(u),u.then(f,f))})}function pi(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=i,x=r,R=x;t:for(;R!==null;){switch(R.tag){case 27:case 5:ge=R.stateNode,ti=!1;break t;case 3:ge=R.stateNode.containerInfo,ti=!0;break t;case 4:ge=R.stateNode.containerInfo,ti=!0;break t}R=R.return}if(ge===null)throw Error(s(160));Sg(m,x,f),ge=null,ti=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Rg(r,i),r=r.sibling}var Si=null;function Rg(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pi(r,i),mi(i),u&4&&(jr(3,i,i.return),Na(3,i),jr(5,i,i.return));break;case 1:pi(r,i),mi(i),u&512&&(ue||a===null||Je(a,a.return)),u&64&&pr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Si;if(pi(r,i),mi(i),u&512&&(ue||a===null||Je(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){t:{u=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ai]||m[ve]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Ne(m,u,a),m[ve]=i,Ae(m),u=m;break t;case"link":var x=vy("link","href",f).get(u+(a.href||""));if(x){for(var R=0;R<x.length;R++)if(m=x[R],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(R,1);break e}}m=f.createElement(u),Ne(m,u,a),f.head.appendChild(m);break;case"meta":if(x=vy("meta","content",f).get(u+(a.content||""))){for(R=0;R<x.length;R++)if(m=x[R],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(R,1);break e}}m=f.createElement(u),Ne(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[ve]=i,Ae(m),u=m}i.stateNode=u}else _y(f,i.type,i.stateNode);else i.stateNode=yy(f,u,i.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?_y(f,i.type,i.stateNode):yy(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&_g(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){f=i.stateNode,m=i.memoizedProps;try{for(var U=f.firstChild;U;){var k=U.nextSibling,rt=U.nodeName;U[ai]||rt==="HEAD"||rt==="BODY"||rt==="SCRIPT"||rt==="STYLE"||rt==="LINK"&&U.rel.toLowerCase()==="stylesheet"||f.removeChild(U),U=k}for(var lt=i.type,Q=f.attributes;Q.length;)f.removeAttributeNode(Q[0]);Ne(f,lt,m),f[ve]=i,f[Te]=m}catch(St){Kt(i,i.return,St)}}case 5:if(pi(r,i),mi(i),u&512&&(ue||a===null||Je(a,a.return)),i.flags&32){f=i.stateNode;try{un(f,"")}catch(St){Kt(i,i.return,St)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,_g(i,f,a!==null?a.memoizedProps:f)),u&1024&&($h=!0);break;case 6:if(pi(r,i),mi(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(St){Kt(i,i.return,St)}}break;case 3:if(xo=null,f=Si,Si=vo(r.containerInfo),pi(r,i),Si=f,mi(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(r.containerInfo)}catch(St){Kt(i,i.return,St)}$h&&($h=!1,Cg(i));break;case 4:u=Si,Si=vo(i.stateNode.containerInfo),pi(r,i),mi(i),Si=u;break;case 12:pi(r,i),mi(i);break;case 13:pi(r,i),mi(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=De()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wh(i,u)));break;case 22:if(u&512&&(ue||a===null||Je(a,a.return)),U=i.memoizedState!==null,k=a!==null&&a.memoizedState!==null,rt=pr,lt=ue,pr=rt||U,ue=lt||k,pi(r,i),ue=lt,pr=rt,mi(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=U?r._visibility&-2:r._visibility|1,U&&(r=pr||ue,a===null||k||r||wn(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(a=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){k=a=r;try{if(f=k.stateNode,U)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=k.stateNode,R=k.memoizedProps.style;var it=R!=null&&R.hasOwnProperty("display")?R.display:null;x.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(St){Kt(k,k.return,St)}}}else if(r.tag===6){if(a===null){k=r;try{k.stateNode.nodeValue=U?"":k.memoizedProps}catch(St){Kt(k,k.return,St)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Wh(i,a))));break;case 19:pi(r,i),mi(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wh(i,u)));break;case 21:break;default:pi(r,i),mi(i)}}function mi(i){var r=i.flags;if(r&2){try{if(i.tag!==27){t:{for(var a=i.return;a!==null;){if(xg(a)){var u=a;break t}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Yh(i);io(i,m,f);break;case 5:var x=u.stateNode;u.flags&32&&(un(x,""),u.flags&=-33);var R=Yh(i);io(i,R,x);break;case 3:case 4:var U=u.stateNode.containerInfo,k=Yh(i);qh(i,k,U);break;default:throw Error(s(161))}}}catch(rt){Kt(i,i.return,rt)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Cg(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Cg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function gr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Tg(i,r.alternate,r),r=r.sibling}function wn(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:jr(4,r,r.return),wn(r);break;case 1:Je(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&yg(r,r.return,a),wn(r);break;case 26:case 27:case 5:Je(r,r.return),wn(r);break;case 22:Je(r,r.return),r.memoizedState===null&&wn(r);break;default:wn(r)}i=i.sibling}}function Yr(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,m=r,x=m.flags;switch(m.tag){case 0:case 11:case 15:Yr(f,m,a),Na(4,m);break;case 1:if(Yr(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(k){Kt(u,u.return,k)}if(u=m,f=u.updateQueue,f!==null){var R=u.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)pg(U[f],R)}catch(k){Kt(u,u.return,k)}}a&&x&64&&gg(m),Os(m,m.return);break;case 26:case 27:case 5:Yr(f,m,a),a&&u===null&&x&4&&vg(m),Os(m,m.return);break;case 12:Yr(f,m,a);break;case 13:Yr(f,m,a),a&&x&4&&wg(f,m);break;case 22:m.memoizedState===null&&Yr(f,m,a),Os(m,m.return);break;default:Yr(f,m,a)}r=r.sibling}}function Zh(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Aa(a))}function Kh(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Aa(i))}function qr(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mg(i,r,a,u),r=r.sibling}function Mg(i,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:qr(i,r,a,u),f&2048&&Na(9,r);break;case 3:qr(i,r,a,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Aa(i)));break;case 12:if(f&2048){qr(i,r,a,u),i=r.stateNode;try{var m=r.memoizedProps,x=m.id,R=m.onPostCommit;typeof R=="function"&&R(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){Kt(r,r.return,U)}}else qr(i,r,a,u);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?qr(i,r,a,u):Ua(i,r):m._visibility&4?qr(i,r,a,u):(m._visibility|=4,Rn(i,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&Zh(r.alternate,r);break;case 24:qr(i,r,a,u),f&2048&&Kh(r.alternate,r);break;default:qr(i,r,a,u)}}function Rn(i,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=i,x=r,R=a,U=u,k=x.flags;switch(x.tag){case 0:case 11:case 15:Rn(m,x,R,U,f),Na(8,x);break;case 23:break;case 22:var rt=x.stateNode;x.memoizedState!==null?rt._visibility&4?Rn(m,x,R,U,f):Ua(m,x):(rt._visibility|=4,Rn(m,x,R,U,f)),f&&k&2048&&Zh(x.alternate,x);break;case 24:Rn(m,x,R,U,f),f&&k&2048&&Kh(x.alternate,x);break;default:Rn(m,x,R,U,f)}r=r.sibling}}function Ua(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,f=u.flags;switch(u.tag){case 22:Ua(a,u),f&2048&&Zh(u.alternate,u);break;case 24:Ua(a,u),f&2048&&Kh(u.alternate,u);break;default:Ua(a,u)}r=r.sibling}}var Pa=8192;function Cn(i){if(i.subtreeFlags&Pa)for(i=i.child;i!==null;)Dg(i),i=i.sibling}function Dg(i){switch(i.tag){case 26:Cn(i),i.flags&Pa&&i.memoizedState!==null&&y1(Si,i.memoizedState,i.memoizedProps);break;case 5:Cn(i);break;case 3:case 4:var r=Si;Si=vo(i.stateNode.containerInfo),Cn(i),Si=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Pa,Pa=16777216,Cn(i),Pa=r):Cn(i));break;default:Cn(i)}}function Og(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function La(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];we=u,Ig(u,i)}Og(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bg(i),i=i.sibling}function Bg(i){switch(i.tag){case 0:case 11:case 15:La(i),i.flags&2048&&jr(9,i,i.return);break;case 3:La(i);break;case 12:La(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,ro(i)):La(i);break;default:La(i)}}function ro(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];we=u,Ig(u,i)}Og(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:jr(8,r,r.return),ro(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,ro(r));break;default:ro(r)}i=i.sibling}}function Ig(i,r){for(;we!==null;){var a=we;switch(a.tag){case 0:case 11:case 15:jr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Aa(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,we=u;else t:for(a=i;we!==null;){u=we;var f=u.sibling,m=u.return;if(Ag(u),u===a){we=null;break t}if(f!==null){f.return=m,we=f;break t}we=m}}}function Db(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(i,r,a,u){return new Db(i,r,a,u)}function Qh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $r(i,r){var a=i.alternate;return a===null?(a=gi(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Ng(i,r){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function so(i,r,a,u,f,m){var x=0;if(u=i,typeof i=="function")Qh(i)&&(x=1);else if(typeof i=="string")x=m1(i,a,mt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case d:return Bs(a.children,f,m,r);case p:x=8,f|=24;break;case g:return i=gi(12,a,r,f|2),i.elementType=g,i.lanes=m,i;case A:return i=gi(13,a,r,f),i.elementType=A,i.lanes=m,i;case T:return i=gi(19,a,r,f),i.elementType=T,i.lanes=m,i;case M:return Ug(a,f,m,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case y:case v:x=10;break t;case _:x=9;break t;case b:x=11;break t;case C:x=14;break t;case N:x=16,u=null;break t}x=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=gi(x,a,r,f),r.elementType=i,r.type=u,r.lanes=m,r}function Bs(i,r,a,u){return i=gi(7,i,u,r),i.lanes=a,i}function Ug(i,r,a,u){i=gi(22,i,u,r),i.elementType=M,i.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var x=Pr(m,2);x!==null&&(f._pendingVisibility|=2,Xe(x,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var x=Pr(m,2);x!==null&&(f._pendingVisibility&=-3,Xe(x,m,2))}}};return i.stateNode=f,i}function Jh(i,r,a){return i=gi(6,i,null,r),i.lanes=a,i}function tc(i,r,a){return r=gi(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function yr(i){i.flags|=4}function Pg(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xy(r)){if(r=di.current,r!==null&&((Xt&4194176)===Xt?Fi!==null:(Xt&62914560)!==Xt&&(Xt&536870912)===0||r!==Fi))throw ba=nh,Jp;i.flags|=8192}}function no(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?qe():536870912,i.lanes|=r,Dn|=r)}function Fa(i,r){if(!jt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ne(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function Ob(i,r,a){var u=r.pendingProps;switch(rh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(r),null;case 1:return ne(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),dr(xe),vt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(ya(r)?yr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ai!==null&&(oc(Ai),Ai=null))),ne(r),null;case 26:return a=r.memoizedState,i===null?(yr(r),a!==null?(ne(r),Pg(r,a)):(ne(r),r.flags&=-16777217)):a?a!==i.memoizedState?(yr(r),ne(r),Pg(r,a)):(ne(r),r.flags&=-16777217):(i.memoizedProps!==u&&yr(r),ne(r),r.flags&=-16777217),null;case 27:se(r),a=Ct.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&yr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ne(r),null}i=mt.current,ya(r)?Kp(r):(i=fy(f,u,a),r.stateNode=i,yr(r))}return ne(r),null;case 5:if(se(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&yr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ne(r),null}if(i=mt.current,ya(r))Kp(r);else{switch(f=yo(Ct.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}i[ve]=r,i[Te]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ne(i,a,u),a){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&yr(r)}}return ne(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&yr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ct.current,ya(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,f=ze,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[ve]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||ay(i.nodeValue,a)),i||Es(r)}else i=yo(i).createTextNode(u),i[ve]=r,r.stateNode=i}return ne(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=ya(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ve]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ne(r),f=!1}else Ai!==null&&(oc(Ai),Ai=null),f=!0;if(!f)return r.flags&256?(ur(r),r):(ur(r),null)}if(ur(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,i=i!==null&&i.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),no(r,r.updateQueue),ne(r),null;case 4:return vt(),i===null&&_c(r.stateNode.containerInfo),ne(r),null;case 10:return dr(r.type),ne(r),null;case 19:if(dt(_e),f=r.memoizedState,f===null)return ne(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)Fa(f,!1);else{if(he!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=zl(i),m!==null){for(r.flags|=128,Fa(f,!1),i=m.updateQueue,r.updateQueue=i,no(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)Ng(a,i),a=a.sibling;return st(_e,_e.current&1|2),r.child}i=i.sibling}f.tail!==null&&De()>ao&&(r.flags|=128,u=!0,Fa(f,!1),r.lanes=4194304)}else{if(!u)if(i=zl(m),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,no(r,i),Fa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!jt)return ne(r),null}else 2*De()-f.renderingStartTime>ao&&a!==536870912&&(r.flags|=128,u=!0,Fa(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(i=f.last,i!==null?i.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=De(),r.sibling=null,i=_e.current,st(_e,u?i&1|2:i&1),r):(ne(r),null);case 22:case 23:return ur(r),lh(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ne(r),r.subtreeFlags&6&&(r.flags|=8192)):ne(r),a=r.updateQueue,a!==null&&no(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&dt(As),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),dr(xe),ne(r),null;case 25:return null}throw Error(s(156,r.tag))}function Bb(i,r){switch(rh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return dr(xe),vt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return se(r),null;case 13:if(ur(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return dt(_e),null;case 4:return vt(),null;case 10:return dr(r.type),null;case 22:case 23:return ur(r),lh(),i!==null&&dt(As),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return dr(xe),null;case 25:return null;default:return null}}function Lg(i,r){switch(rh(r),r.tag){case 3:dr(xe),vt();break;case 26:case 27:case 5:se(r);break;case 4:vt();break;case 13:ur(r);break;case 19:dt(_e);break;case 10:dr(r.type);break;case 22:case 23:ur(r),lh(),i!==null&&dt(As);break;case 24:dr(xe)}}var Ib={getCacheForType:function(i){var r=Le(xe),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},Nb=typeof WeakMap=="function"?WeakMap:Map,ae=0,Qt=null,Ht=null,Xt=0,Jt=0,ei=null,vr=!1,Mn=!1,ec=!1,_r=0,he=0,Wr=0,Is=0,ic=0,yi=0,Dn=0,Ga=null,Hi=null,rc=!1,sc=0,ao=1/0,lo=null,Zr=null,oo=!1,Ns=null,Ha=0,nc=0,ac=null,ka=0,lc=null;function ii(){if((ae&2)!==0&&Xt!==0)return Xt&-Xt;if(V.T!==null){var i=bn;return i!==0?i:mc()}return sn()}function Fg(){yi===0&&(yi=(Xt&536870912)===0||jt?er():536870912);var i=di.current;return i!==null&&(i.flags|=32),yi}function Xe(i,r,a){(i===Qt&&Jt===2||i.cancelPendingCommit!==null)&&(On(i,0),xr(i,Xt,yi,!1)),Br(i,a),((ae&2)===0||i!==Qt)&&(i===Qt&&((ae&2)===0&&(Is|=a),he===4&&xr(i,Xt,yi,!1)),ki(i))}function Gg(i,r,a){if((ae&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&i.expiredLanes)===0||Ye(i,r),f=u?Lb(i,r):cc(i,r,!0),m=u;do{if(f===0){Mn&&!u&&xr(i,r,0,!1);break}else if(f===6)xr(i,r,0,!vr);else{if(a=i.current.alternate,m&&!Ub(a)){f=cc(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;t:{var R=i;f=Ga;var U=R.current.memoizedState.isDehydrated;if(U&&(On(R,x).flags|=256),x=cc(R,x,!1),x!==2){if(ec&&!U){R.errorRecoveryDisabledLanes|=m,Is|=m,f=4;break t}m=Hi,Hi=f,m!==null&&oc(m)}f=x}if(m=!1,f!==2)continue}}if(f===1){On(i,0),xr(i,r,0,!0);break}t:{switch(u=i,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){xr(u,r,yi,!vr);break t}break;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(m=sc+300-De(),10<m)){if(xr(u,r,yi,!vr),Ee(u,0)!==0)break t;u.timeoutHandle=uy(Hg.bind(null,u,a,Hi,lo,rc,r,yi,Is,Dn,vr,2,-0,0),m);break t}Hg(u,a,Hi,lo,rc,r,yi,Is,Dn,vr,0,-0,0)}}break}while(!0);ki(i)}function oc(i){Hi===null?Hi=i:Hi.push.apply(Hi,i)}function Hg(i,r,a,u,f,m,x,R,U,k,rt,lt,Q){var it=r.subtreeFlags;if((it&8192||(it&16785408)===16785408)&&(qa={stylesheets:null,count:0,unsuspend:g1},Dg(r),r=v1(),r!==null)){i.cancelPendingCommit=r(qg.bind(null,i,a,u,f,x,R,U,1,lt,Q)),xr(i,m,x,!k);return}qg(i,a,u,f,x,R,U,rt,lt,Q)}function Ub(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!Qe(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xr(i,r,a,u){r&=~ic,r&=~Is,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var m=31-K(f),x=1<<m;u[m]=-1,f&=~x}a!==0&&Ir(i,a,r)}function uo(){return(ae&6)===0?(za(0),!1):!0}function uc(){if(Ht!==null){if(Jt===0)var i=Ht.return;else i=Ht,fr=Ms=null,mh(i),_n=null,Ea=0,i=Ht;for(;i!==null;)Lg(i.alternate,i),i=i.return;Ht=null}}function On(i,r){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,t1(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),uc(),Qt=i,Ht=a=$r(i.current,null),Xt=r,Jt=0,ei=null,vr=!1,Mn=Ye(i,r),ec=!1,Dn=yi=ic=Is=Wr=he=0,Hi=Ga=null,rc=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-K(u),m=1<<f;r|=i[f],u&=~m}return _r=r,Il(),a}function kg(i,r){Lt=null,V.H=Gi,r===xa?(r=im(),Jt=3):r===Jp?(r=im(),Jt=4):Jt=r===tg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ei=r,Ht===null&&(he=1,Jl(i,hi(r,i.current)))}function zg(){var i=V.H;return V.H=Gi,i===null?Gi:i}function Xg(){var i=V.A;return V.A=Ib,i}function hc(){he=4,vr||(Xt&4194176)!==Xt&&di.current!==null||(Mn=!0),(Wr&134217727)===0&&(Is&134217727)===0||Qt===null||xr(Qt,Xt,yi,!1)}function cc(i,r,a){var u=ae;ae|=2;var f=zg(),m=Xg();(Qt!==i||Xt!==r)&&(lo=null,On(i,r)),r=!1;var x=he;t:do try{if(Jt!==0&&Ht!==null){var R=Ht,U=ei;switch(Jt){case 8:uc(),x=6;break t;case 3:case 2:case 6:di.current===null&&(r=!0);var k=Jt;if(Jt=0,ei=null,Bn(i,R,U,k),a&&Mn){x=0;break t}break;default:k=Jt,Jt=0,ei=null,Bn(i,R,U,k)}}Pb(),x=he;break}catch(rt){kg(i,rt)}while(!0);return r&&i.shellSuspendCounter++,fr=Ms=null,ae=u,V.H=f,V.A=m,Ht===null&&(Qt=null,Xt=0,Il()),x}function Pb(){for(;Ht!==null;)Vg(Ht)}function Lb(i,r){var a=ae;ae|=2;var u=zg(),f=Xg();Qt!==i||Xt!==r?(lo=null,ao=De()+500,On(i,r)):Mn=Ye(i,r);t:do try{if(Jt!==0&&Ht!==null){r=Ht;var m=ei;e:switch(Jt){case 1:Jt=0,ei=null,Bn(i,r,m,1);break;case 2:if(tm(m)){Jt=0,ei=null,jg(r);break}r=function(){Jt===2&&Qt===i&&(Jt=7),ki(i)},m.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:tm(m)?(Jt=0,ei=null,jg(r)):(Jt=0,ei=null,Bn(i,r,m,7));break;case 5:var x=null;switch(Ht.tag){case 26:x=Ht.memoizedState;case 5:case 27:var R=Ht;if(!x||xy(x)){Jt=0,ei=null;var U=R.sibling;if(U!==null)Ht=U;else{var k=R.return;k!==null?(Ht=k,ho(k)):Ht=null}break e}}Jt=0,ei=null,Bn(i,r,m,5);break;case 6:Jt=0,ei=null,Bn(i,r,m,6);break;case 8:uc(),he=6;break t;default:throw Error(s(462))}}Fb();break}catch(rt){kg(i,rt)}while(!0);return fr=Ms=null,V.H=u,V.A=f,ae=a,Ht!==null?0:(Qt=null,Xt=0,Il(),he)}function Fb(){for(;Ht!==null&&!Dr();)Vg(Ht)}function Vg(i){var r=fg(i.alternate,i,_r);i.memoizedProps=i.pendingProps,r===null?ho(i):Ht=r}function jg(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=ag(a,r,r.pendingProps,r.type,void 0,Xt);break;case 11:r=ag(a,r,r.pendingProps,r.type.render,r.ref,Xt);break;case 5:mh(r);default:Lg(a,r),r=Ht=Ng(r,_r),r=fg(a,r,_r)}i.memoizedProps=i.pendingProps,r===null?ho(i):Ht=r}function Bn(i,r,a,u){fr=Ms=null,mh(r),_n=null,Ea=0;var f=r.return;try{if(wb(i,f,r,a,Xt)){he=1,Jl(i,hi(a,i.current)),Ht=null;return}}catch(m){if(f!==null)throw Ht=f,m;he=1,Jl(i,hi(a,i.current)),Ht=null;return}r.flags&32768?(jt||u===1?i=!0:Mn||(Xt&536870912)!==0?i=!1:(vr=i=!0,(u===2||u===3||u===6)&&(u=di.current,u!==null&&u.tag===13&&(u.flags|=16384))),Yg(r,i)):ho(r)}function ho(i){var r=i;do{if((r.flags&32768)!==0){Yg(r,vr);return}i=r.return;var a=Ob(r.alternate,r,_r);if(a!==null){Ht=a;return}if(r=r.sibling,r!==null){Ht=r;return}Ht=r=i}while(r!==null);he===0&&(he=5)}function Yg(i,r){do{var a=Bb(i.alternate,i);if(a!==null){a.flags&=32767,Ht=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Ht=i;return}Ht=i=a}while(i!==null);he=6,Ht=null}function qg(i,r,a,u,f,m,x,R,U,k){var rt=V.T,lt=Y.p;try{Y.p=2,V.T=null,Gb(i,r,a,u,lt,f,m,x,R,U,k)}finally{V.T=rt,Y.p=lt}}function Gb(i,r,a,u,f,m,x,R){do In();while(Ns!==null);if((ae&6)!==0)throw Error(s(327));var U=i.finishedWork;if(u=i.finishedLanes,U===null)return null;if(i.finishedWork=null,i.finishedLanes=0,U===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var k=U.lanes|U.childLanes;if(k|=th,xl(i,u,k,m,x,R),i===Qt&&(Ht=Qt=null,Xt=0),(U.subtreeFlags&10256)===0&&(U.flags&10256)===0||oo||(oo=!0,nc=k,ac=a,Xb(Qs,function(){return In(),null})),a=(U.flags&15990)!==0,(U.subtreeFlags&15990)!==0||a?(a=V.T,V.T=null,m=Y.p,Y.p=2,x=ae,ae|=4,Cb(i,U),Rg(U,i),ub(Tc,i.containerInfo),To=!!Ec,Tc=Ec=null,i.current=U,Tg(i,U.alternate,U),Or(),ae=x,Y.p=m,V.T=a):i.current=U,oo?(oo=!1,Ns=i,Ha=u):$g(i,k),k=i.pendingLanes,k===0&&(Zr=null),tn(U.stateNode),ki(i),r!==null)for(f=i.onRecoverableError,U=0;U<r.length;U++)k=r[U],f(k.value,{componentStack:k.stack});return(Ha&3)!==0&&In(),k=i.pendingLanes,(u&4194218)!==0&&(k&42)!==0?i===lc?ka++:(ka=0,lc=i):ka=0,za(0),null}function $g(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Aa(r)))}function In(){if(Ns!==null){var i=Ns,r=nc;nc=0;var a=ps(Ha),u=V.T,f=Y.p;try{if(Y.p=32>a?32:a,V.T=null,Ns===null)var m=!1;else{a=ac,ac=null;var x=Ns,R=Ha;if(Ns=null,Ha=0,(ae&6)!==0)throw Error(s(331));var U=ae;if(ae|=4,Bg(x.current),Mg(x,x.current,R,a),ae=U,za(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(ds,x)}catch{}m=!0}return m}finally{Y.p=f,V.T=u,$g(i,r)}}return!1}function Wg(i,r,a){r=hi(a,r),r=Mh(i.stateNode,r,2),i=Vr(i,r,2),i!==null&&(Br(i,2),ki(i))}function Kt(i,r,a){if(i.tag===3)Wg(i,i,a);else for(;r!==null;){if(r.tag===3){Wg(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zr===null||!Zr.has(u))){i=hi(a,i),a=Qm(2),u=Vr(r,a,2),u!==null&&(Jm(a,u,r,i),Br(u,2),ki(u));break}}r=r.return}}function fc(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new Nb;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(ec=!0,f.add(a),i=Hb.bind(null,i,r,a),r.then(i,i))}function Hb(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Qt===i&&(Xt&a)===a&&(he===4||he===3&&(Xt&62914560)===Xt&&300>De()-sc?(ae&2)===0&&On(i,0):ic|=a,Dn===Xt&&(Dn=0)),ki(i)}function Zg(i,r){r===0&&(r=qe()),i=Pr(i,r),i!==null&&(Br(i,r),ki(i))}function kb(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),Zg(i,a)}function zb(i,r){var a=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Zg(i,a)}function Xb(i,r){return ni(i,r)}var co=null,Nn=null,dc=!1,fo=!1,pc=!1,Us=0;function ki(i){i!==Nn&&i.next===null&&(Nn===null?co=Nn=i:Nn=Nn.next=i),fo=!0,dc||(dc=!0,jb(Vb))}function za(i,r){if(!pc&&fo){pc=!0;do for(var a=!1,u=co;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var x=u.suspendedLanes,R=u.pingedLanes;m=(1<<31-K(42|i)+1)-1,m&=f&~(x&~R),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,Jg(u,m))}else m=Xt,m=Ee(u,u===Qt?m:0),(m&3)===0||Ye(u,m)||(a=!0,Jg(u,m));u=u.next}while(a);pc=!1}}function Vb(){fo=dc=!1;var i=0;Us!==0&&(Jb()&&(i=Us),Us=0);for(var r=De(),a=null,u=co;u!==null;){var f=u.next,m=Kg(u,r);m===0?(u.next=null,a===null?co=f:a.next=f,f===null&&(Nn=a)):(a=u,(i!==0||(m&3)!==0)&&(fo=!0)),u=f}za(i)}function Kg(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var x=31-K(m),R=1<<x,U=f[x];U===-1?((R&a)===0||(R&u)!==0)&&(f[x]=na(R,r)):U<=r&&(i.expiredLanes|=R),m&=~R}if(r=Qt,a=Xt,a=Ee(i,i===r?a:0),u=i.callbackNode,a===0||i===r&&Jt===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&He(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Ye(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&He(u),ps(a)){case 2:case 8:a=sa;break;case 32:a=Qs;break;case 268435456:a=Js;break;default:a=Qs}return u=Qg.bind(null,i),a=ni(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&He(u),i.callbackPriority=2,i.callbackNode=null,2}function Qg(i,r){var a=i.callbackNode;if(In()&&i.callbackNode!==a)return null;var u=Xt;return u=Ee(i,i===Qt?u:0),u===0?null:(Gg(i,u,r),Kg(i,De()),i.callbackNode!=null&&i.callbackNode===a?Qg.bind(null,i):null)}function Jg(i,r){if(In())return null;Gg(i,r,!0)}function jb(i){e1(function(){(ae&6)!==0?ni(vl,i):i()})}function mc(){return Us===0&&(Us=er()),Us}function ty(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wl(""+i)}function ey(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function Yb(i,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var m=ty((f[Te]||null).action),x=u.submitter;x&&(r=(r=x[Te]||null)?ty(r.formAction):x.getAttribute("formAction"),r!==null&&(m=r,x=null));var R=new Dl("action","action",null,u,f);i.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Us!==0){var U=x?ey(f,x):new FormData(f);Ah(a,{pending:!0,data:U,method:f.method,action:m},null,U)}}else typeof m=="function"&&(R.preventDefault(),U=x?ey(f,x):new FormData(f),Ah(a,{pending:!0,data:U,method:f.method,action:m},m,U))},currentTarget:f}]})}}for(var gc=0;gc<qp.length;gc++){var yc=qp[gc],qb=yc.toLowerCase(),$b=yc[0].toUpperCase()+yc.slice(1);Ti(qb,"on"+$b)}Ti(zp,"onAnimationEnd"),Ti(Xp,"onAnimationIteration"),Ti(Vp,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(cb,"onTransitionRun"),Ti(fb,"onTransitionStart"),Ti(db,"onTransitionCancel"),Ti(jp,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xa));function iy(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],f=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var x=u.length-1;0<=x;x--){var R=u[x],U=R.instance,k=R.currentTarget;if(R=R.listener,U!==m&&f.isPropagationStopped())break t;m=R,f.currentTarget=k;try{m(f)}catch(rt){Ql(rt)}f.currentTarget=null,m=U}else for(x=0;x<u.length;x++){if(R=u[x],U=R.instance,k=R.currentTarget,R=R.listener,U!==m&&f.isPropagationStopped())break t;m=R,f.currentTarget=k;try{m(f)}catch(rt){Ql(rt)}f.currentTarget=null,m=U}}}}function zt(i,r){var a=r[ms];a===void 0&&(a=r[ms]=new Set);var u=i+"__bubble";a.has(u)||(ry(r,i,2,!1),a.add(u))}function vc(i,r,a){var u=0;r&&(u|=4),ry(a,i,u,r)}var po="_reactListening"+Math.random().toString(36).slice(2);function _c(i){if(!i[po]){i[po]=!0,ap.forEach(function(a){a!=="selectionchange"&&(Wb.has(a)||vc(a,!1,i),vc(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[po]||(r[po]=!0,vc("selectionchange",!1,r))}}function ry(i,r,a,u){switch(wy(r)){case 2:var f=b1;break;case 8:f=E1;break;default:f=Bc}a=f.bind(null,r,a,i),f=void 0,!ku||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function xc(i,r,a,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var R=u.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(x===4)for(x=u.return;x!==null;){var U=x.tag;if((U===3||U===4)&&(U=x.stateNode.containerInfo,U===f||U.nodeType===8&&U.parentNode===f))return;x=x.return}for(;R!==null;){if(x=rr(R),x===null)return;if(U=x.tag,U===5||U===6||U===26||U===27){u=m=x;continue t}R=R.parentNode}}u=u.return}vp(function(){var k=m,rt=Gu(a),lt=[];t:{var Q=Yp.get(i);if(Q!==void 0){var it=Dl,St=i;switch(i){case"keypress":if(Cl(a)===0)break t;case"keydown":case"keyup":it=zx;break;case"focusin":St="focus",it=ju;break;case"focusout":St="blur",it=ju;break;case"beforeblur":case"afterblur":it=ju;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Dx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=jx;break;case zp:case Xp:case Vp:it=Ix;break;case jp:it=qx;break;case"scroll":case"scrollend":it=Cx;break;case"wheel":it=Wx;break;case"copy":case"cut":case"paste":it=Ux;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Tp;break;case"toggle":case"beforetoggle":it=Kx}var Bt=(r&4)!==0,ce=!Bt&&(i==="scroll"||i==="scrollend"),j=Bt?Q!==null?Q+"Capture":null:Q;Bt=[];for(var G=k,Z;G!==null;){var nt=G;if(Z=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||Z===null||j===null||(nt=oa(G,j),nt!=null&&Bt.push(Va(G,nt,Z))),ce)break;G=G.return}0<Bt.length&&(Q=new it(Q,St,null,a,rt),lt.push({event:Q,listeners:Bt}))}}if((r&7)===0){t:{if(Q=i==="mouseover"||i==="pointerover",it=i==="mouseout"||i==="pointerout",Q&&a!==Fu&&(St=a.relatedTarget||a.fromElement)&&(rr(St)||St[ir]))break t;if((it||Q)&&(Q=rt.window===rt?rt:(Q=rt.ownerDocument)?Q.defaultView||Q.parentWindow:window,it?(St=a.relatedTarget||a.toElement,it=k,St=St?rr(St):null,St!==null&&(ce=w(St),Bt=St.tag,St!==ce||Bt!==5&&Bt!==27&&Bt!==6)&&(St=null)):(it=null,St=k),it!==St)){if(Bt=bp,nt="onMouseLeave",j="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Bt=Tp,nt="onPointerLeave",j="onPointerEnter",G="pointer"),ce=it==null?Q:la(it),Z=St==null?Q:la(St),Q=new Bt(nt,G+"leave",it,a,rt),Q.target=ce,Q.relatedTarget=Z,nt=null,rr(rt)===k&&(Bt=new Bt(j,G+"enter",St,a,rt),Bt.target=Z,Bt.relatedTarget=ce,nt=Bt),ce=nt,it&&St)e:{for(Bt=it,j=St,G=0,Z=Bt;Z;Z=Un(Z))G++;for(Z=0,nt=j;nt;nt=Un(nt))Z++;for(;0<G-Z;)Bt=Un(Bt),G--;for(;0<Z-G;)j=Un(j),Z--;for(;G--;){if(Bt===j||j!==null&&Bt===j.alternate)break e;Bt=Un(Bt),j=Un(j)}Bt=null}else Bt=null;it!==null&&sy(lt,Q,it,Bt,!1),St!==null&&ce!==null&&sy(lt,ce,St,Bt,!0)}}t:{if(Q=k?la(k):window,it=Q.nodeName&&Q.nodeName.toLowerCase(),it==="select"||it==="input"&&Q.type==="file")var _t=Op;else if(Mp(Q))if(Bp)_t=lb;else{_t=nb;var Ft=sb}else it=Q.nodeName,!it||it.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?k&&Lu(k.elementType)&&(_t=Op):_t=ab;if(_t&&(_t=_t(i,k))){Dp(lt,_t,a,rt);break t}Ft&&Ft(i,Q,k),i==="focusout"&&k&&Q.type==="number"&&k.memoizedProps.value!=null&&Pu(Q,"number",Q.value)}switch(Ft=k?la(k):window,i){case"focusin":(Mp(Ft)||Ft.contentEditable==="true")&&(dn=Ft,Ku=k,ga=null);break;case"focusout":ga=Ku=dn=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,Hp(lt,a,rt);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":Hp(lt,a,rt)}var Rt;if(qu)t:{switch(i){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else fn?Rp(i,a)&&(Dt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(Ap&&a.locale!=="ko"&&(fn||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&fn&&(Rt=_p()):(Ur=rt,zu="value"in Ur?Ur.value:Ur.textContent,fn=!0)),Ft=mo(k,Dt),0<Ft.length&&(Dt=new Ep(Dt,i,null,a,rt),lt.push({event:Dt,listeners:Ft}),Rt?Dt.data=Rt:(Rt=Cp(a),Rt!==null&&(Dt.data=Rt)))),(Rt=Jx?tb(i,a):eb(i,a))&&(Dt=mo(k,"onBeforeInput"),0<Dt.length&&(Ft=new Ep("onBeforeInput","beforeinput",null,a,rt),lt.push({event:Ft,listeners:Dt}),Ft.data=Rt)),Yb(lt,i,k,a,rt)}iy(lt,r)})}function Va(i,r,a){return{instance:i,listener:r,currentTarget:a}}function mo(i,r){for(var a=r+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=oa(i,a),f!=null&&u.unshift(Va(i,f,m)),f=oa(i,r),f!=null&&u.push(Va(i,f,m))),i=i.return}return u}function Un(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sy(i,r,a,u,f){for(var m=r._reactName,x=[];a!==null&&a!==u;){var R=a,U=R.alternate,k=R.stateNode;if(R=R.tag,U!==null&&U===u)break;R!==5&&R!==26&&R!==27||k===null||(U=k,f?(k=oa(a,m),k!=null&&x.unshift(Va(a,k,U))):f||(k=oa(a,m),k!=null&&x.push(Va(a,k,U)))),a=a.return}x.length!==0&&i.push({event:r,listeners:x})}var Zb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function ny(i){return(typeof i=="string"?i:""+i).replace(Zb,`
`).replace(Kb,"")}function ay(i,r){return r=ny(r),ny(i)===r}function go(){}function Wt(i,r,a,u,f,m){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||un(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&un(i,""+u);break;case"className":Tl(i,"class",u);break;case"tabIndex":Tl(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(i,a,u);break;case"style":gp(i,u,m);break;case"data":if(r!=="object"){Tl(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=wl(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Wt(i,r,"name",f.name,f,null),Wt(i,r,"formEncType",f.formEncType,f,null),Wt(i,r,"formMethod",f.formMethod,f,null),Wt(i,r,"formTarget",f.formTarget,f,null)):(Wt(i,r,"encType",f.encType,f,null),Wt(i,r,"method",f.method,f,null),Wt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=wl(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=go);break;case"onScroll":u!=null&&zt("scroll",i);break;case"onScrollEnd":u!=null&&zt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=wl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":zt("beforetoggle",i),zt("toggle",i),El(i,"popover",u);break;case"xlinkActuate":ar(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ar(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ar(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ar(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ar(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ar(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ar(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ar(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ar(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":El(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wx.get(a)||a,El(i,a,u))}}function bc(i,r,a,u,f,m){switch(a){case"style":gp(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?un(i,u):(typeof u=="number"||typeof u=="bigint")&&un(i,""+u);break;case"onScroll":u!=null&&zt("scroll",i);break;case"onScrollEnd":u!=null&&zt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=go);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lp.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[Te]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,f);break t}a in i?i[a]=u:u===!0?i.setAttribute(a,""):El(i,a,u)}}}function Ne(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",i),zt("load",i);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var x=a[m];if(x!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(i,r,m,x,a,null)}}f&&Wt(i,r,"srcSet",a.srcSet,a,null),u&&Wt(i,r,"src",a.src,a,null);return;case"input":zt("invalid",i);var R=m=x=f=null,U=null,k=null;for(u in a)if(a.hasOwnProperty(u)){var rt=a[u];if(rt!=null)switch(u){case"name":f=rt;break;case"type":x=rt;break;case"checked":U=rt;break;case"defaultChecked":k=rt;break;case"value":m=rt;break;case"defaultValue":R=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(s(137,r));break;default:Wt(i,r,u,rt,a,null)}}fp(i,m,R,U,k,x,f,!1),Al(i);return;case"select":zt("invalid",i),u=x=m=null;for(f in a)if(a.hasOwnProperty(f)&&(R=a[f],R!=null))switch(f){case"value":m=R;break;case"defaultValue":x=R;break;case"multiple":u=R;default:Wt(i,r,f,R,a,null)}r=m,a=x,i.multiple=!!u,r!=null?on(i,!!u,r,!1):a!=null&&on(i,!!u,a,!0);return;case"textarea":zt("invalid",i),m=f=u=null;for(x in a)if(a.hasOwnProperty(x)&&(R=a[x],R!=null))switch(x){case"value":u=R;break;case"defaultValue":f=R;break;case"children":m=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:Wt(i,r,x,R,a,null)}pp(i,u,f,m),Al(i);return;case"option":for(U in a)if(a.hasOwnProperty(U)&&(u=a[U],u!=null))switch(U){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(i,r,U,u,a,null)}return;case"dialog":zt("cancel",i),zt("close",i);break;case"iframe":case"object":zt("load",i);break;case"video":case"audio":for(u=0;u<Xa.length;u++)zt(Xa[u],i);break;case"image":zt("error",i),zt("load",i);break;case"details":zt("toggle",i);break;case"embed":case"source":case"link":zt("error",i),zt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(u=a[k],u!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(i,r,k,u,a,null)}return;default:if(Lu(r)){for(rt in a)a.hasOwnProperty(rt)&&(u=a[rt],u!==void 0&&bc(i,r,rt,u,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(u=a[R],u!=null&&Wt(i,r,R,u,a,null))}function Qb(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,x=null,R=null,U=null,k=null,rt=null;for(it in a){var lt=a[it];if(a.hasOwnProperty(it)&&lt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":U=lt;default:u.hasOwnProperty(it)||Wt(i,r,it,null,u,lt)}}for(var Q in u){var it=u[Q];if(lt=a[Q],u.hasOwnProperty(Q)&&(it!=null||lt!=null))switch(Q){case"type":m=it;break;case"name":f=it;break;case"checked":k=it;break;case"defaultChecked":rt=it;break;case"value":x=it;break;case"defaultValue":R=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,r));break;default:it!==lt&&Wt(i,r,Q,it,u,lt)}}Uu(i,x,R,U,k,rt,m,f);return;case"select":it=x=R=Q=null;for(m in a)if(U=a[m],a.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":it=U;default:u.hasOwnProperty(m)||Wt(i,r,m,null,u,U)}for(f in u)if(m=u[f],U=a[f],u.hasOwnProperty(f)&&(m!=null||U!=null))switch(f){case"value":Q=m;break;case"defaultValue":R=m;break;case"multiple":x=m;default:m!==U&&Wt(i,r,f,m,u,U)}r=R,a=x,u=it,Q!=null?on(i,!!a,Q,!1):!!u!=!!a&&(r!=null?on(i,!!a,r,!0):on(i,!!a,a?[]:"",!1));return;case"textarea":it=Q=null;for(R in a)if(f=a[R],a.hasOwnProperty(R)&&f!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Wt(i,r,R,null,u,f)}for(x in u)if(f=u[x],m=a[x],u.hasOwnProperty(x)&&(f!=null||m!=null))switch(x){case"value":Q=f;break;case"defaultValue":it=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Wt(i,r,x,f,u,m)}dp(i,Q,it);return;case"option":for(var St in a)if(Q=a[St],a.hasOwnProperty(St)&&Q!=null&&!u.hasOwnProperty(St))switch(St){case"selected":i.selected=!1;break;default:Wt(i,r,St,null,u,Q)}for(U in u)if(Q=u[U],it=a[U],u.hasOwnProperty(U)&&Q!==it&&(Q!=null||it!=null))switch(U){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Wt(i,r,U,Q,u,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in a)Q=a[Bt],a.hasOwnProperty(Bt)&&Q!=null&&!u.hasOwnProperty(Bt)&&Wt(i,r,Bt,null,u,Q);for(k in u)if(Q=u[k],it=a[k],u.hasOwnProperty(k)&&Q!==it&&(Q!=null||it!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Wt(i,r,k,Q,u,it)}return;default:if(Lu(r)){for(var ce in a)Q=a[ce],a.hasOwnProperty(ce)&&Q!==void 0&&!u.hasOwnProperty(ce)&&bc(i,r,ce,void 0,u,Q);for(rt in u)Q=u[rt],it=a[rt],!u.hasOwnProperty(rt)||Q===it||Q===void 0&&it===void 0||bc(i,r,rt,Q,u,it);return}}for(var j in a)Q=a[j],a.hasOwnProperty(j)&&Q!=null&&!u.hasOwnProperty(j)&&Wt(i,r,j,null,u,Q);for(lt in u)Q=u[lt],it=a[lt],!u.hasOwnProperty(lt)||Q===it||Q==null&&it==null||Wt(i,r,lt,Q,u,it)}var Ec=null,Tc=null;function yo(i){return i.nodeType===9?i:i.ownerDocument}function ly(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oy(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ac(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sc=null;function Jb(){var i=window.event;return i&&i.type==="popstate"?i===Sc?!1:(Sc=i,!0):(Sc=null,!1)}var uy=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(i){return hy.resolve(null).then(i).catch(i1)}:uy;function i1(i){setTimeout(function(){throw i})}function wc(i,r){var a=r,u=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){i.removeChild(f),Qa(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Qa(r)}function Rc(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rc(a),Nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function r1(i,r,a,u){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ai])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=wi(i.nextSibling),i===null)break}return null}function s1(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=wi(i.nextSibling),i===null))return null;return i}function wi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function cy(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function fy(i,r,a){switch(r=yo(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var vi=new Map,dy=new Set;function vo(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var br=Y.d;Y.d={f:n1,r:a1,D:l1,C:o1,L:u1,m:h1,X:f1,S:c1,M:d1};function n1(){var i=br.f(),r=uo();return i||r}function a1(i){var r=sr(i);r!==null&&r.tag===5&&r.type==="form"?Hm(r):br.r(i)}var Pn=typeof document>"u"?null:document;function py(i,r,a){var u=Pn;if(u&&typeof r=="string"&&r){var f=oi(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),dy.has(f)||(dy.add(f),i={rel:i,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ne(r,"link",i),Ae(r),u.head.appendChild(r)))}}function l1(i){br.D(i),py("dns-prefetch",i,null)}function o1(i,r){br.C(i,r),py("preconnect",i,r)}function u1(i,r,a){br.L(i,r,a);var u=Pn;if(u&&i&&r){var f='link[rel="preload"][as="'+oi(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+oi(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+oi(a.imageSizes)+'"]')):f+='[href="'+oi(i)+'"]';var m=f;switch(r){case"style":m=Ln(i);break;case"script":m=Fn(i)}vi.has(m)||(i=J({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),vi.set(m,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(ja(m))||r==="script"&&u.querySelector(Ya(m))||(r=u.createElement("link"),Ne(r,"link",i),Ae(r),u.head.appendChild(r)))}}function h1(i,r){br.m(i,r);var a=Pn;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+oi(u)+'"][href="'+oi(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Fn(i)}if(!vi.has(m)&&(i=J({rel:"modulepreload",href:i},r),vi.set(m,i),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ya(m)))return}u=a.createElement("link"),Ne(u,"link",i),Ae(u),a.head.appendChild(u)}}}function c1(i,r,a){br.S(i,r,a);var u=Pn;if(u&&i){var f=an(u).hoistableStyles,m=Ln(i);r=r||"default";var x=f.get(m);if(!x){var R={loading:0,preload:null};if(x=u.querySelector(ja(m)))R.loading=5;else{i=J({rel:"stylesheet",href:i,"data-precedence":r},a),(a=vi.get(m))&&Cc(i,a);var U=x=u.createElement("link");Ae(U),Ne(U,"link",i),U._p=new Promise(function(k,rt){U.onload=k,U.onerror=rt}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,_o(x,r,u)}x={type:"stylesheet",instance:x,count:1,state:R},f.set(m,x)}}}function f1(i,r){br.X(i,r);var a=Pn;if(a&&i){var u=an(a).hoistableScripts,f=Fn(i),m=u.get(f);m||(m=a.querySelector(Ya(f)),m||(i=J({src:i,async:!0},r),(r=vi.get(f))&&Mc(i,r),m=a.createElement("script"),Ae(m),Ne(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function d1(i,r){br.M(i,r);var a=Pn;if(a&&i){var u=an(a).hoistableScripts,f=Fn(i),m=u.get(f);m||(m=a.querySelector(Ya(f)),m||(i=J({src:i,async:!0,type:"module"},r),(r=vi.get(f))&&Mc(i,r),m=a.createElement("script"),Ae(m),Ne(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function my(i,r,a,u){var f=(f=Ct.current)?vo(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ln(a.href),a=an(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ln(a.href);var m=an(f).hoistableStyles,x=m.get(i);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,x),(m=f.querySelector(ja(i)))&&!m._p&&(x.instance=m,x.state.loading=5),vi.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vi.set(i,a),m||p1(f,i,a,x.state))),r&&u===null)throw Error(s(528,""));return x}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fn(a),a=an(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ln(i){return'href="'+oi(i)+'"'}function ja(i){return'link[rel="stylesheet"]['+i+"]"}function gy(i){return J({},i,{"data-precedence":i.precedence,precedence:null})}function p1(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ne(r,"link",a),Ae(r),i.head.appendChild(r))}function Fn(i){return'[src="'+oi(i)+'"]'}function Ya(i){return"script[async]"+i}function yy(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+oi(a.href)+'"]');if(u)return r.instance=u,Ae(u),u;var f=J({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ae(u),Ne(u,"style",f),_o(u,a.precedence,i),r.instance=u;case"stylesheet":f=Ln(a.href);var m=i.querySelector(ja(f));if(m)return r.state.loading|=4,r.instance=m,Ae(m),m;u=gy(a),(f=vi.get(f))&&Cc(u,f),m=(i.ownerDocument||i).createElement("link"),Ae(m);var x=m;return x._p=new Promise(function(R,U){x.onload=R,x.onerror=U}),Ne(m,"link",u),r.state.loading|=4,_o(m,a.precedence,i),r.instance=m;case"script":return m=Fn(a.src),(f=i.querySelector(Ya(m)))?(r.instance=f,Ae(f),f):(u=a,(f=vi.get(m))&&(u=J({},a),Mc(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ae(f),Ne(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,_o(u,a.precedence,i));return r.instance}function _o(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,x=0;x<u.length;x++){var R=u[x];if(R.dataset.precedence===r)m=R;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Cc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Mc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var xo=null;function vy(i,r,a){if(xo===null){var u=new Map,f=xo=new Map;f.set(a,u)}else f=xo,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[ai]||m[ve]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(r)||"";x=i+x;var R=u.get(x);R?R.push(m):u.set(x,[m])}}return u}function _y(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function m1(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var qa=null;function g1(){}function y1(i,r,a){if(qa===null)throw Error(s(475));var u=qa;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ln(a.href),m=i.querySelector(ja(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=bo.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=m,Ae(m);return}m=i.ownerDocument||i,a=gy(a),(f=vi.get(f))&&Cc(a,f),m=m.createElement("link"),Ae(m);var x=m;x._p=new Promise(function(R,U){x.onload=R,x.onerror=U}),Ne(m,"link",a),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=bo.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function v1(){if(qa===null)throw Error(s(475));var i=qa;return i.stylesheets&&i.count===0&&Dc(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&Dc(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function bo(){if(this.count--,this.count===0){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Eo=null;function Dc(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Eo=new Map,r.forEach(_1,i),Eo=null,bo.call(i))}function _1(i,r){if(!(r.state.loading&4)){var a=Eo.get(i);if(a)var u=a.get(null);else{a=new Map,Eo.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var x=f[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),u=x)}u&&a.set(null,u)}f=r.instance,x=f.getAttribute("data-precedence"),m=a.get(x)||u,m===u&&a.set(null,f),a.set(x,f),this.count++,u=bo.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var $a={$$typeof:v,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function x1(i,r,a,u,f,m,x,R){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function by(i,r,a,u,f,m,x,R,U,k,rt,lt){return i=new x1(i,r,a,x,R,U,k,lt),r=1,m===!0&&(r|=24),m=gi(3,null,null,r),i.current=m,m.stateNode=i,r=oh(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:r},zh(m),i}function Ey(i){return i?(i=gn,i):gn}function Ty(i,r,a,u,f,m){f=Ey(f),u.context===null?u.context=f:u.pendingContext=f,u=Xr(r),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Vr(i,u,r),a!==null&&(Xe(a,i,r),Oa(a,i,r))}function Ay(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Oc(i,r){Ay(i,r),(i=i.alternate)&&Ay(i,r)}function Sy(i){if(i.tag===13){var r=Pr(i,67108864);r!==null&&Xe(r,i,67108864),Oc(i,67108864)}}var To=!0;function b1(i,r,a,u){var f=V.T;V.T=null;var m=Y.p;try{Y.p=2,Bc(i,r,a,u)}finally{Y.p=m,V.T=f}}function E1(i,r,a,u){var f=V.T;V.T=null;var m=Y.p;try{Y.p=8,Bc(i,r,a,u)}finally{Y.p=m,V.T=f}}function Bc(i,r,a,u){if(To){var f=Ic(u);if(f===null)xc(i,r,u,Ao,a),Ry(i,u);else if(A1(f,i,r,a,u))u.stopPropagation();else if(Ry(i,u),r&4&&-1<T1.indexOf(i)){for(;f!==null;){var m=sr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=ke(m.pendingLanes);if(x!==0){var R=m;for(R.pendingLanes|=2,R.entangledLanes|=2;x;){var U=1<<31-K(x);R.entanglements[1]|=U,x&=~U}ki(m),(ae&6)===0&&(ao=De()+500,za(0))}}break;case 13:R=Pr(m,2),R!==null&&Xe(R,m,2),uo(),Oc(m,2)}if(m=Ic(u),m===null&&xc(i,r,u,Ao,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else xc(i,r,u,null,a)}}function Ic(i){return i=Gu(i),Nc(i)}var Ao=null;function Nc(i){if(Ao=null,i=rr(i),i!==null){var r=w(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=H(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ao=i,null}function wy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bu()){case vl:return 2;case sa:return 8;case Qs:case fs:return 32;case Js:return 268435456;default:return 32}default:return 32}}var Uc=!1,Kr=null,Qr=null,Jr=null,Wa=new Map,Za=new Map,ts=[],T1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ry(i,r){switch(i){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Wa.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(r.pointerId)}}function Ka(i,r,a,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=sr(r),r!==null&&Sy(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function A1(i,r,a,u,f){switch(r){case"focusin":return Kr=Ka(Kr,i,r,a,u,f),!0;case"dragenter":return Qr=Ka(Qr,i,r,a,u,f),!0;case"mouseover":return Jr=Ka(Jr,i,r,a,u,f),!0;case"pointerover":var m=f.pointerId;return Wa.set(m,Ka(Wa.get(m)||null,i,r,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Za.set(m,Ka(Za.get(m)||null,i,r,a,u,f)),!0}return!1}function Cy(i){var r=rr(i.target);if(r!==null){var a=w(r);if(a!==null){if(r=a.tag,r===13){if(r=H(a),r!==null){i.blockedOn=r,aa(i.priority,function(){if(a.tag===13){var u=ii(),f=Pr(a,u);f!==null&&Xe(f,a,u),Oc(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function So(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Ic(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);Fu=u,a.target.dispatchEvent(u),Fu=null}else return r=sr(a),r!==null&&Sy(r),i.blockedOn=a,!1;r.shift()}return!0}function My(i,r,a){So(i)&&a.delete(r)}function S1(){Uc=!1,Kr!==null&&So(Kr)&&(Kr=null),Qr!==null&&So(Qr)&&(Qr=null),Jr!==null&&So(Jr)&&(Jr=null),Wa.forEach(My),Za.forEach(My)}function wo(i,r){i.blockedOn===r&&(i.blockedOn=null,Uc||(Uc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,S1)))}var Ro=null;function Dy(i){Ro!==i&&(Ro=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ro===i&&(Ro=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Nc(u||a)===null)continue;break}var m=sr(a);m!==null&&(i.splice(r,3),r-=3,Ah(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Qa(i){function r(U){return wo(U,i)}Kr!==null&&wo(Kr,i),Qr!==null&&wo(Qr,i),Jr!==null&&wo(Jr,i),Wa.forEach(r),Za.forEach(r);for(var a=0;a<ts.length;a++){var u=ts[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)Cy(a),a.blockedOn===null&&ts.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],x=f[Te]||null;if(typeof m=="function")x||Dy(a);else if(x){var R=null;if(m&&m.hasAttribute("formAction")){if(f=m,x=m[Te]||null)R=x.formAction;else if(Nc(f)!==null)continue}else R=x.action;typeof R=="function"?a[u+1]=R:(a.splice(u,3),u-=3),Dy(a)}}}function Pc(i){this._internalRoot=i}Co.prototype.render=Pc.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=ii();Ty(a,u,i,r,null,null)},Co.prototype.unmount=Pc.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&In(),Ty(i.current,2,null,i,null,null),uo(),r[ir]=null}};function Co(i){this._internalRoot=i}Co.prototype.unstable_scheduleHydration=function(i){if(i){var r=sn();i={blockedOn:null,target:i,priority:r};for(var a=0;a<ts.length&&r!==0&&r<ts[a].priority;a++);ts.splice(a,0,i),a===0&&Cy(i)}};var Oy=t.version;if(Oy!=="19.0.0")throw Error(s(527,Oy,"19.0.0"));Y.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=O(r),i=i!==null?F(i):null,i=i===null?null:i.stateNode,i};var w1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:V,findFiberByHostInstance:rr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{ds=Mo.inject(w1),Oe=Mo}catch{}}return tl.createRoot=function(i,r){if(!l(i))throw Error(s(299));var a=!1,u="",f=$m,m=Wm,x=Zm,R=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=by(i,1,!1,null,null,a,u,f,m,x,R,null),i[ir]=r.current,_c(i.nodeType===8?i.parentNode:i),new Pc(r)},tl.hydrateRoot=function(i,r,a){if(!l(i))throw Error(s(299));var u=!1,f="",m=$m,x=Wm,R=Zm,U=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(U=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),r=by(i,1,!0,r,a??null,u,f,m,x,R,U,k),r.context=Ey(null),a=r.current,u=ii(),f=Xr(u),f.callback=null,Vr(a,f,u),r.current.lanes=u,Br(r,u),ki(r),i[ir]=r.current,_c(i),new Co(r)},tl.version="19.0.0",tl}var ky;function L1(){if(ky)return Gc.exports;ky=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Gc.exports=P1(),Gc.exports}var F1=L1();const G1=({children:n})=>{const t=Ve.useRef(null),[e,s]=Ve.useState(1),l=800,o=600;return Ve.useEffect(()=>{const h=()=>{if(t.current){const{clientWidth:c,clientHeight:d}=t.current,p=c/l,g=d/o;s(Math.min(p,g))}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),te.jsx("div",{ref:t,style:{width:"100%",height:"100%",overflow:"hidden",position:"relative"},children:te.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",width:l,height:o,transform:`translate(-50%, -50%) scale(${e})`,transformOrigin:"center"},children:n})})},H1=({onComplete:n})=>(Ve.useEffect(()=>{const t=setTimeout(n,2e3);return()=>clearTimeout(t)},[n]),te.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",userSelect:"none",fontSize:"70px"},children:"Splash Screen"})),k1=({onSelectDemo:n})=>te.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"20px",textAlign:"center"},children:[te.jsx("h1",{style:{fontSize:"70px",marginBottom:"40px"},children:"Tech Demo Assignment"}),te.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px",alignItems:"center"},children:[te.jsx("button",{style:{width:"300px",padding:"10px",fontSize:"16px"},onClick:()=>n("techdemo1"),children:"Tech Demo 1"}),te.jsx("button",{style:{width:"300px",padding:"10px",fontSize:"16px"},onClick:()=>n("techdemo2"),children:"Tech Demo 2"}),te.jsx("button",{style:{width:"300px",padding:"10px",fontSize:"16px"},onClick:()=>n("techdemo3"),children:"Tech Demo 3"})]})]}),Xc=({onReturn:n,children:t})=>te.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[te.jsx("div",{style:{width:"100%",height:"100%"},children:t}),te.jsx("button",{onClick:n,style:{position:"absolute",bottom:"20px",left:"20px"},children:"Return to Menu"})]});var Zs=(n=>(n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",n))(Zs||{}),$0=(n=>(n[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",n))($0||{}),cd=(n=>(n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",n))(cd||{}),Mt=(n=>(n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",n))(Mt||{}),$i=(n=>(n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n))($i||{}),ct=(n=>(n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n))(ct||{}),Wn=(n=>(n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n))(Wn||{}),wt=(n=>(n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",n))(wt||{}),gt=(n=>(n[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",n))(gt||{}),Ar=(n=>(n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",n))(Ar||{}),us=(n=>(n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n))(us||{}),Qi=(n=>(n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",n))(Qi||{}),Ze=(n=>(n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",n))(Ze||{}),qi=(n=>(n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",n))(qi||{}),Wd=(n=>(n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",n))(Wd||{}),xi=(n=>(n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",n))(xi||{}),be=(n=>(n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",n[n.COLOR=4]="COLOR",n))(be||{}),ye=(n=>(n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n))(ye||{}),Zi=(n=>(n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n))(Zi||{});const z1={createCanvas:(n,t)=>{const e=document.createElement("canvas");return e.width=n,e.height=t,e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,t)=>fetch(n,t),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")},yt={ADAPTER:z1,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Vc=/iPhone/i,zy=/iPod/i,Xy=/iPad/i,Vy=/\biOS-universal(?:.+)Mac\b/i,jc=/\bAndroid(?:.+)Mobile\b/i,jy=/Android/i,Gn=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Do=/Silk/i,Er=/Windows Phone/i,Yy=/\bWindows(?:.+)ARM\b/i,qy=/BlackBerry/i,$y=/BB10/i,Wy=/Opera Mini/i,Zy=/\b(CriOS|Chrome)(?:.+)Mobile/i,Ky=/Mobile(?:.+)Firefox\b/i,Qy=function(n){return typeof n<"u"&&n.platform==="MacIntel"&&typeof n.maxTouchPoints=="number"&&n.maxTouchPoints>1&&typeof MSStream>"u"};function X1(n){return function(t){return t.test(n)}}function Jy(n){var t={userAgent:"",platform:"",maxTouchPoints:0};!n&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof n=="string"?t.userAgent=n:n&&n.userAgent&&(t={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0});var e=t.userAgent,s=e.split("[FBAN");typeof s[1]<"u"&&(e=s[0]),s=e.split("Twitter"),typeof s[1]<"u"&&(e=s[0]);var l=X1(e),o={apple:{phone:l(Vc)&&!l(Er),ipod:l(zy),tablet:!l(Vc)&&(l(Xy)||Qy(t))&&!l(Er),universal:l(Vy),device:(l(Vc)||l(zy)||l(Xy)||l(Vy)||Qy(t))&&!l(Er)},amazon:{phone:l(Gn),tablet:!l(Gn)&&l(Do),device:l(Gn)||l(Do)},android:{phone:!l(Er)&&l(Gn)||!l(Er)&&l(jc),tablet:!l(Er)&&!l(Gn)&&!l(jc)&&(l(Do)||l(jy)),device:!l(Er)&&(l(Gn)||l(Do)||l(jc)||l(jy))||l(/\bokhttp\b/i)},windows:{phone:l(Er),tablet:l(Yy),device:l(Er)||l(Yy)},other:{blackberry:l(qy),blackberry10:l($y),opera:l(Wy),firefox:l(Ky),chrome:l(Zy),device:l(qy)||l($y)||l(Wy)||l(Ky)||l(Zy)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const V1=Jy.default??Jy,Sr=V1(globalThis.navigator);yt.RETINA_PREFIX=/@([0-9\.]+)x/;yt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Yc={exports:{}},tv;function j1(){return tv||(tv=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(e=!1));function l(d,p,g){this.fn=d,this.context=p,this.once=g||!1}function o(d,p,g,y,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var v=new l(g,y||d,_),b=e?e+p:p;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],v]:d._events[b].push(v):(d._events[b]=v,d._eventsCount++),d}function h(d,p){--d._eventsCount===0?d._events=new s:delete d._events[p]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var p=[],g,y;if(this._eventsCount===0)return p;for(y in g=this._events)t.call(g,y)&&p.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},c.prototype.listeners=function(p){var g=e?e+p:p,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,v=y.length,b=new Array(v);_<v;_++)b[_]=y[_].fn;return b},c.prototype.listenerCount=function(p){var g=e?e+p:p,y=this._events[g];return y?y.fn?1:y.length:0},c.prototype.emit=function(p,g,y,_,v,b){var A=e?e+p:p;if(!this._events[A])return!1;var T=this._events[A],C=arguments.length,N,M;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,g),!0;case 3:return T.fn.call(T.context,g,y),!0;case 4:return T.fn.call(T.context,g,y,_),!0;case 5:return T.fn.call(T.context,g,y,_,v),!0;case 6:return T.fn.call(T.context,g,y,_,v,b),!0}for(M=1,N=new Array(C-1);M<C;M++)N[M-1]=arguments[M];T.fn.apply(T.context,N)}else{var P=T.length,D;for(M=0;M<P;M++)switch(T[M].once&&this.removeListener(p,T[M].fn,void 0,!0),C){case 1:T[M].fn.call(T[M].context);break;case 2:T[M].fn.call(T[M].context,g);break;case 3:T[M].fn.call(T[M].context,g,y);break;case 4:T[M].fn.call(T[M].context,g,y,_);break;default:if(!N)for(D=1,N=new Array(C-1);D<C;D++)N[D-1]=arguments[D];T[M].fn.apply(T[M].context,N)}}return!0},c.prototype.on=function(p,g,y){return o(this,p,g,y,!1)},c.prototype.once=function(p,g,y){return o(this,p,g,y,!0)},c.prototype.removeListener=function(p,g,y,_){var v=e?e+p:p;if(!this._events[v])return this;if(!g)return h(this,v),this;var b=this._events[v];if(b.fn)b.fn===g&&(!_||b.once)&&(!y||b.context===y)&&h(this,v);else{for(var A=0,T=[],C=b.length;A<C;A++)(b[A].fn!==g||_&&!b[A].once||y&&b[A].context!==y)&&T.push(b[A]);T.length?this._events[v]=T.length===1?T[0]:T:h(this,v)}return this},c.prototype.removeAllListeners=function(p){var g;return p?(g=e?e+p:p,this._events[g]&&h(this,g)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=e,c.EventEmitter=c,n.exports=c}(Yc)),Yc.exports}var Y1=j1();const ml=q0(Y1);var Oo={exports:{}},ev;function q1(){if(ev)return Oo.exports;ev=1,Oo.exports=n,Oo.exports.default=n;function n(S,I,w){w=w||2;var H=I&&I.length,E=H?I[0]*w:S.length,O=t(S,0,E,w,!0),F=[];if(!O||O.next===O.prev)return F;var L,Y,tt,at,ft,ht,dt;if(H&&(O=d(S,I,O,w)),S.length>80*w){L=tt=S[0],Y=at=S[1];for(var st=w;st<E;st+=w)ft=S[st],ht=S[st+1],ft<L&&(L=ft),ht<Y&&(Y=ht),ft>tt&&(tt=ft),ht>at&&(at=ht);dt=Math.max(tt-L,at-Y),dt=dt!==0?32767/dt:0}return s(O,F,w,L,Y,dt,0),F}function t(S,I,w,H,E){var O,F;if(E===ut(S,I,w,H)>0)for(O=I;O<w;O+=H)F=z(O,S[O],S[O+1],F);else for(O=w-H;O>=I;O-=H)F=z(O,S[O],S[O+1],F);return F&&P(F,F.next)&&($(F),F=F.next),F}function e(S,I){if(!S)return S;I||(I=S);var w=S,H;do if(H=!1,!w.steiner&&(P(w,w.next)||M(w.prev,w,w.next)===0)){if($(w),w=I=w.prev,w===w.next)break;H=!0}else w=w.next;while(H||w!==I);return I}function s(S,I,w,H,E,O,F){if(S){!F&&O&&v(S,H,E,O);for(var L=S,Y,tt;S.prev!==S.next;){if(Y=S.prev,tt=S.next,O?o(S,H,E,O):l(S)){I.push(Y.i/w|0),I.push(S.i/w|0),I.push(tt.i/w|0),$(S),S=tt.next,L=tt.next;continue}if(S=tt,S===L){F?F===1?(S=h(e(S),I,w),s(S,I,w,H,E,O,2)):F===2&&c(S,I,w,H,E,O):s(e(S),I,w,H,E,O,1);break}}}}function l(S){var I=S.prev,w=S,H=S.next;if(M(I,w,H)>=0)return!1;for(var E=I.x,O=w.x,F=H.x,L=I.y,Y=w.y,tt=H.y,at=E<O?E<F?E:F:O<F?O:F,ft=L<Y?L<tt?L:tt:Y<tt?Y:tt,ht=E>O?E>F?E:F:O>F?O:F,dt=L>Y?L>tt?L:tt:Y>tt?Y:tt,st=H.next;st!==I;){if(st.x>=at&&st.x<=ht&&st.y>=ft&&st.y<=dt&&C(E,L,O,Y,F,tt,st.x,st.y)&&M(st.prev,st,st.next)>=0)return!1;st=st.next}return!0}function o(S,I,w,H){var E=S.prev,O=S,F=S.next;if(M(E,O,F)>=0)return!1;for(var L=E.x,Y=O.x,tt=F.x,at=E.y,ft=O.y,ht=F.y,dt=L<Y?L<tt?L:tt:Y<tt?Y:tt,st=at<ft?at<ht?at:ht:ft<ht?ft:ht,mt=L>Y?L>tt?L:tt:Y>tt?Y:tt,bt=at>ft?at>ht?at:ht:ft>ht?ft:ht,Ct=A(dt,st,I,w,H),Ut=A(mt,bt,I,w,H),Et=S.prevZ,vt=S.nextZ;Et&&Et.z>=Ct&&vt&&vt.z<=Ut;){if(Et.x>=dt&&Et.x<=mt&&Et.y>=st&&Et.y<=bt&&Et!==E&&Et!==F&&C(L,at,Y,ft,tt,ht,Et.x,Et.y)&&M(Et.prev,Et,Et.next)>=0||(Et=Et.prevZ,vt.x>=dt&&vt.x<=mt&&vt.y>=st&&vt.y<=bt&&vt!==E&&vt!==F&&C(L,at,Y,ft,tt,ht,vt.x,vt.y)&&M(vt.prev,vt,vt.next)>=0))return!1;vt=vt.nextZ}for(;Et&&Et.z>=Ct;){if(Et.x>=dt&&Et.x<=mt&&Et.y>=st&&Et.y<=bt&&Et!==E&&Et!==F&&C(L,at,Y,ft,tt,ht,Et.x,Et.y)&&M(Et.prev,Et,Et.next)>=0)return!1;Et=Et.prevZ}for(;vt&&vt.z<=Ut;){if(vt.x>=dt&&vt.x<=mt&&vt.y>=st&&vt.y<=bt&&vt!==E&&vt!==F&&C(L,at,Y,ft,tt,ht,vt.x,vt.y)&&M(vt.prev,vt,vt.next)>=0)return!1;vt=vt.nextZ}return!0}function h(S,I,w){var H=S;do{var E=H.prev,O=H.next.next;!P(E,O)&&D(E,H,H.next,O)&&V(E,O)&&V(O,E)&&(I.push(E.i/w|0),I.push(H.i/w|0),I.push(O.i/w|0),$(H),$(H.next),H=S=O),H=H.next}while(H!==S);return e(H)}function c(S,I,w,H,E,O){var F=S;do{for(var L=F.next.next;L!==F.prev;){if(F.i!==L.i&&N(F,L)){var Y=ot(F,L);F=e(F,F.next),Y=e(Y,Y.next),s(F,I,w,H,E,O,0),s(Y,I,w,H,E,O,0);return}L=L.next}F=F.next}while(F!==S)}function d(S,I,w,H){var E=[],O,F,L,Y,tt;for(O=0,F=I.length;O<F;O++)L=I[O]*H,Y=O<F-1?I[O+1]*H:S.length,tt=t(S,L,Y,H,!1),tt===tt.next&&(tt.steiner=!0),E.push(T(tt));for(E.sort(p),O=0;O<E.length;O++)w=g(E[O],w);return w}function p(S,I){return S.x-I.x}function g(S,I){var w=y(S,I);if(!w)return I;var H=ot(w,S);return e(H,H.next),e(w,w.next)}function y(S,I){var w=I,H=S.x,E=S.y,O=-1/0,F;do{if(E<=w.y&&E>=w.next.y&&w.next.y!==w.y){var L=w.x+(E-w.y)*(w.next.x-w.x)/(w.next.y-w.y);if(L<=H&&L>O&&(O=L,F=w.x<w.next.x?w:w.next,L===H))return F}w=w.next}while(w!==I);if(!F)return null;var Y=F,tt=F.x,at=F.y,ft=1/0,ht;w=F;do H>=w.x&&w.x>=tt&&H!==w.x&&C(E<at?H:O,E,tt,at,E<at?O:H,E,w.x,w.y)&&(ht=Math.abs(E-w.y)/(H-w.x),V(w,S)&&(ht<ft||ht===ft&&(w.x>F.x||w.x===F.x&&_(F,w)))&&(F=w,ft=ht)),w=w.next;while(w!==Y);return F}function _(S,I){return M(S.prev,S,I.prev)<0&&M(I.next,S,S.next)<0}function v(S,I,w,H){var E=S;do E.z===0&&(E.z=A(E.x,E.y,I,w,H)),E.prevZ=E.prev,E.nextZ=E.next,E=E.next;while(E!==S);E.prevZ.nextZ=null,E.prevZ=null,b(E)}function b(S){var I,w,H,E,O,F,L,Y,tt=1;do{for(w=S,S=null,O=null,F=0;w;){for(F++,H=w,L=0,I=0;I<tt&&(L++,H=H.nextZ,!!H);I++);for(Y=tt;L>0||Y>0&&H;)L!==0&&(Y===0||!H||w.z<=H.z)?(E=w,w=w.nextZ,L--):(E=H,H=H.nextZ,Y--),O?O.nextZ=E:S=E,E.prevZ=O,O=E;w=H}O.nextZ=null,tt*=2}while(F>1);return S}function A(S,I,w,H,E){return S=(S-w)*E|0,I=(I-H)*E|0,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,S|I<<1}function T(S){var I=S,w=S;do(I.x<w.x||I.x===w.x&&I.y<w.y)&&(w=I),I=I.next;while(I!==S);return w}function C(S,I,w,H,E,O,F,L){return(E-F)*(I-L)>=(S-F)*(O-L)&&(S-F)*(H-L)>=(w-F)*(I-L)&&(w-F)*(O-L)>=(E-F)*(H-L)}function N(S,I){return S.next.i!==I.i&&S.prev.i!==I.i&&!X(S,I)&&(V(S,I)&&V(I,S)&&J(S,I)&&(M(S.prev,S,I.prev)||M(S,I.prev,I))||P(S,I)&&M(S.prev,S,S.next)>0&&M(I.prev,I,I.next)>0)}function M(S,I,w){return(I.y-S.y)*(w.x-I.x)-(I.x-S.x)*(w.y-I.y)}function P(S,I){return S.x===I.x&&S.y===I.y}function D(S,I,w,H){var E=B(M(S,I,w)),O=B(M(S,I,H)),F=B(M(w,H,S)),L=B(M(w,H,I));return!!(E!==O&&F!==L||E===0&&q(S,w,I)||O===0&&q(S,H,I)||F===0&&q(w,S,H)||L===0&&q(w,I,H))}function q(S,I,w){return I.x<=Math.max(S.x,w.x)&&I.x>=Math.min(S.x,w.x)&&I.y<=Math.max(S.y,w.y)&&I.y>=Math.min(S.y,w.y)}function B(S){return S>0?1:S<0?-1:0}function X(S,I){var w=S;do{if(w.i!==S.i&&w.next.i!==S.i&&w.i!==I.i&&w.next.i!==I.i&&D(w,w.next,S,I))return!0;w=w.next}while(w!==S);return!1}function V(S,I){return M(S.prev,S,S.next)<0?M(S,I,S.next)>=0&&M(S,S.prev,I)>=0:M(S,I,S.prev)<0||M(S,S.next,I)<0}function J(S,I){var w=S,H=!1,E=(S.x+I.x)/2,O=(S.y+I.y)/2;do w.y>O!=w.next.y>O&&w.next.y!==w.y&&E<(w.next.x-w.x)*(O-w.y)/(w.next.y-w.y)+w.x&&(H=!H),w=w.next;while(w!==S);return H}function ot(S,I){var w=new et(S.i,S.x,S.y),H=new et(I.i,I.x,I.y),E=S.next,O=I.prev;return S.next=I,I.prev=S,w.next=E,E.prev=w,H.next=w,w.prev=H,O.next=H,H.prev=O,H}function z(S,I,w,H){var E=new et(S,I,w);return H?(E.next=H.next,E.prev=H,H.next.prev=E,H.next=E):(E.prev=E,E.next=E),E}function $(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function et(S,I,w){this.i=S,this.x=I,this.y=w,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}n.deviation=function(S,I,w,H){var E=I&&I.length,O=E?I[0]*w:S.length,F=Math.abs(ut(S,0,O,w));if(E)for(var L=0,Y=I.length;L<Y;L++){var tt=I[L]*w,at=L<Y-1?I[L+1]*w:S.length;F-=Math.abs(ut(S,tt,at,w))}var ft=0;for(L=0;L<H.length;L+=3){var ht=H[L]*w,dt=H[L+1]*w,st=H[L+2]*w;ft+=Math.abs((S[ht]-S[st])*(S[dt+1]-S[ht+1])-(S[ht]-S[dt])*(S[st+1]-S[ht+1]))}return F===0&&ft===0?0:Math.abs((ft-F)/F)};function ut(S,I,w,H){for(var E=0,O=I,F=w-H;O<w;O+=H)E+=(S[F]-S[O])*(S[O+1]+S[F+1]),F=O;return E}return n.flatten=function(S){for(var I=S[0][0].length,w={vertices:[],holes:[],dimensions:I},H=0,E=0;E<S.length;E++){for(var O=0;O<S[E].length;O++)for(var F=0;F<I;F++)w.vertices.push(S[E][O][F]);E>0&&(H+=S[E-1].length,w.holes.push(H))}return w},Oo.exports}var $1=q1();const W1=q0($1);var Ps={},nl={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var Z1=nl.exports,iv;function K1(){return iv||(iv=1,function(n,t){(function(e){var s=t&&!t.nodeType&&t,l=n&&!n.nodeType&&n,o=typeof nu=="object"&&nu;(o.global===o||o.window===o||o.self===o)&&(e=o);var h,c=2147483647,d=36,p=1,g=26,y=38,_=700,v=72,b=128,A="-",T=/^xn--/,C=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=d-p,D=Math.floor,q=String.fromCharCode,B;function X(E){throw new RangeError(M[E])}function V(E,O){for(var F=E.length,L=[];F--;)L[F]=O(E[F]);return L}function J(E,O){var F=E.split("@"),L="";F.length>1&&(L=F[0]+"@",E=F[1]),E=E.replace(N,".");var Y=E.split("."),tt=V(Y,O).join(".");return L+tt}function ot(E){for(var O=[],F=0,L=E.length,Y,tt;F<L;)Y=E.charCodeAt(F++),Y>=55296&&Y<=56319&&F<L?(tt=E.charCodeAt(F++),(tt&64512)==56320?O.push(((Y&1023)<<10)+(tt&1023)+65536):(O.push(Y),F--)):O.push(Y);return O}function z(E){return V(E,function(O){var F="";return O>65535&&(O-=65536,F+=q(O>>>10&1023|55296),O=56320|O&1023),F+=q(O),F}).join("")}function $(E){return E-48<10?E-22:E-65<26?E-65:E-97<26?E-97:d}function et(E,O){return E+22+75*(E<26)-((O!=0)<<5)}function ut(E,O,F){var L=0;for(E=F?D(E/_):E>>1,E+=D(E/O);E>P*g>>1;L+=d)E=D(E/P);return D(L+(P+1)*E/(E+y))}function S(E){var O=[],F=E.length,L,Y=0,tt=b,at=v,ft,ht,dt,st,mt,bt,Ct,Ut,Et;for(ft=E.lastIndexOf(A),ft<0&&(ft=0),ht=0;ht<ft;++ht)E.charCodeAt(ht)>=128&&X("not-basic"),O.push(E.charCodeAt(ht));for(dt=ft>0?ft+1:0;dt<F;){for(st=Y,mt=1,bt=d;dt>=F&&X("invalid-input"),Ct=$(E.charCodeAt(dt++)),(Ct>=d||Ct>D((c-Y)/mt))&&X("overflow"),Y+=Ct*mt,Ut=bt<=at?p:bt>=at+g?g:bt-at,!(Ct<Ut);bt+=d)Et=d-Ut,mt>D(c/Et)&&X("overflow"),mt*=Et;L=O.length+1,at=ut(Y-st,L,st==0),D(Y/L)>c-tt&&X("overflow"),tt+=D(Y/L),Y%=L,O.splice(Y++,0,tt)}return z(O)}function I(E){var O,F,L,Y,tt,at,ft,ht,dt,st,mt,bt=[],Ct,Ut,Et,vt;for(E=ot(E),Ct=E.length,O=b,F=0,tt=v,at=0;at<Ct;++at)mt=E[at],mt<128&&bt.push(q(mt));for(L=Y=bt.length,Y&&bt.push(A);L<Ct;){for(ft=c,at=0;at<Ct;++at)mt=E[at],mt>=O&&mt<ft&&(ft=mt);for(Ut=L+1,ft-O>D((c-F)/Ut)&&X("overflow"),F+=(ft-O)*Ut,O=ft,at=0;at<Ct;++at)if(mt=E[at],mt<O&&++F>c&&X("overflow"),mt==O){for(ht=F,dt=d;st=dt<=tt?p:dt>=tt+g?g:dt-tt,!(ht<st);dt+=d)vt=ht-st,Et=d-st,bt.push(q(et(st+vt%Et,0))),ht=D(vt/Et);bt.push(q(et(ht,0))),tt=ut(F,Ut,L==Y),F=0,++L}++F,++O}return bt.join("")}function w(E){return J(E,function(O){return T.test(O)?S(O.slice(4).toLowerCase()):O})}function H(E){return J(E,function(O){return C.test(O)?"xn--"+I(O):O})}if(h={version:"1.4.1",ucs2:{decode:ot,encode:z},decode:S,encode:I,toASCII:H,toUnicode:w},s&&l)if(n.exports==s)l.exports=h;else for(B in h)h.hasOwnProperty(B)&&(s[B]=h[B]);else e.punycode=h})(Z1)}(nl,nl.exports)),nl.exports}var qc,rv;function ia(){return rv||(rv=1,qc=TypeError),qc}const Q1={},J1=Object.freeze(Object.defineProperty({__proto__:null,default:Q1},Symbol.toStringTag,{value:"Module"})),tE=C1(J1);var $c,sv;function bu(){if(sv)return $c;sv=1;var n=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,e=n&&t&&typeof t.get=="function"?t.get:null,s=n&&Map.prototype.forEach,l=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,h=l&&o&&typeof o.get=="function"?o.get:null,c=l&&Set.prototype.forEach,d=typeof WeakMap=="function"&&WeakMap.prototype,p=d?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,y=g?WeakSet.prototype.has:null,_=typeof WeakRef=="function"&&WeakRef.prototype,v=_?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,A=Object.prototype.toString,T=Function.prototype.toString,C=String.prototype.match,N=String.prototype.slice,M=String.prototype.replace,P=String.prototype.toUpperCase,D=String.prototype.toLowerCase,q=RegExp.prototype.test,B=Array.prototype.concat,X=Array.prototype.join,V=Array.prototype.slice,J=Math.floor,ot=typeof BigInt=="function"?BigInt.prototype.valueOf:null,z=Object.getOwnPropertySymbols,$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,et=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ut=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===et||!0)?Symbol.toStringTag:null,S=Object.prototype.propertyIsEnumerable,I=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(W){return W.__proto__}:null);function w(W,K){if(W===1/0||W===-1/0||W!==W||W&&W>-1e3&&W<1e3||q.call(/e/,K))return K;var Vt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof W=="number"){var qt=W<0?-J(-W):J(W);if(qt!==W){var Zt=String(qt),Ot=N.call(K,Zt.length+1);return M.call(Zt,Vt,"$&_")+"."+M.call(M.call(Ot,/([0-9]{3})/g,"$&_"),/_$/,"")}}return M.call(K,Vt,"$&_")}var H=tE,E=H.custom,O=Ut(E)?E:null,F={__proto__:null,double:'"',single:"'"},L={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};$c=function W(K,Vt,qt,Zt){var Ot=Vt||{};if(ee(Ot,"quoteStyle")&&!ee(F,Ot.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ee(Ot,"maxStringLength")&&(typeof Ot.maxStringLength=="number"?Ot.maxStringLength<0&&Ot.maxStringLength!==1/0:Ot.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ke=ee(Ot,"customInspect")?Ot.customInspect:!0;if(typeof Ke!="boolean"&&Ke!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ee(Ot,"indent")&&Ot.indent!==null&&Ot.indent!=="	"&&!(parseInt(Ot.indent,10)===Ot.indent&&Ot.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ee(Ot,"numericSeparator")&&typeof Ot.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ke=Ot.numericSeparator;if(typeof K>"u")return"undefined";if(K===null)return"null";if(typeof K=="boolean")return K?"true":"false";if(typeof K=="string")return sa(K,Ot);if(typeof K=="number"){if(K===0)return 1/0/K>0?"0":"-0";var Ee=String(K);return ke?w(K,Ee):Ee}if(typeof K=="bigint"){var Ye=String(K)+"n";return ke?w(K,Ye):Ye}var na=typeof Ot.depth>"u"?5:Ot.depth;if(typeof qt>"u"&&(qt=0),qt>=na&&na>0&&typeof K=="object")return ft(K)?"[Array]":"[Object]";var er=ds(Ot,qt);if(typeof Zt>"u")Zt=[];else if(ni(Zt,K)>=0)return"[Circular]";function qe(ai,Nr,rr){if(Nr&&(Zt=V.call(Zt),Zt.push(Nr)),rr){var sr={depth:Ot.depth};return ee(Ot,"quoteStyle")&&(sr.quoteStyle=Ot.quoteStyle),W(ai,sr,qt+1,Zt)}return W(ai,Ot,qt+1,Zt)}if(typeof K=="function"&&!dt(K)){var en=Pi(K),Br=tn(K,qe);return"[Function"+(en?": "+en:" (anonymous)")+"]"+(Br.length>0?" { "+X.call(Br,", ")+" }":"")}if(Ut(K)){var xl=et?M.call(String(K),/^(Symbol\(.*\))_[^)]*$/,"$1"):$.call(K);return typeof K=="object"&&!et?fs(xl):xl}if(vl(K)){for(var Ir="<"+D.call(String(K.nodeName)),rn=K.attributes||[],ps=0;ps<rn.length;ps++)Ir+=" "+rn[ps].name+"="+Y(tt(rn[ps].value),"double",Ot);return Ir+=">",K.childNodes&&K.childNodes.length&&(Ir+="..."),Ir+="</"+D.call(String(K.nodeName))+">",Ir}if(ft(K)){if(K.length===0)return"[]";var sn=tn(K,qe);return er&&!Iu(sn)?"["+Oe(sn,er)+"]":"[ "+X.call(sn,", ")+" ]"}if(st(K)){var aa=tn(K,qe);return!("cause"in Error.prototype)&&"cause"in K&&!S.call(K,"cause")?"{ ["+String(K)+"] "+X.call(B.call("[cause]: "+qe(K.cause),aa),", ")+" }":aa.length===0?"["+String(K)+"]":"{ ["+String(K)+"] "+X.call(aa,", ")+" }"}if(typeof K=="object"&&Ke){if(O&&typeof K[O]=="function"&&H)return H(K,{depth:na-qt});if(Ke!=="symbol"&&typeof K.inspect=="function")return K.inspect()}if(He(K)){var Ei=[];return s&&s.call(K,function(ai,Nr){Ei.push(qe(Nr,K,!0)+" => "+qe(ai,K))}),_l("Map",e.call(K),Ei,er)}if(De(K)){var ve=[];return c&&c.call(K,function(ai){ve.push(qe(ai,K))}),_l("Set",h.call(K),ve,er)}if(Dr(K))return Js("WeakMap");if(Bu(K))return Js("WeakSet");if(Or(K))return Js("WeakRef");if(bt(K))return fs(qe(Number(K)));if(Et(K))return fs(qe(ot.call(K)));if(Ct(K))return fs(b.call(K));if(mt(K))return fs(qe(String(K)));if(typeof window<"u"&&K===window)return"{ [object Window] }";if(typeof globalThis<"u"&&K===globalThis||typeof nu<"u"&&K===nu)return"{ [object globalThis] }";if(!ht(K)&&!dt(K)){var Te=tn(K,qe),ir=I?I(K)===Object.prototype:K instanceof Object||K.constructor===Object,ms=K instanceof Object?"":"null prototype",bl=!ir&&ut&&Object(K)===K&&ut in K?N.call(se(K),8,-1):ms?"Object":"",Nu=ir||typeof K.constructor!="function"?"":K.constructor.name?K.constructor.name+" ":"",nn=Nu+(bl||ms?"["+X.call(B.call([],bl||[],ms||[]),": ")+"] ":"");return Te.length===0?nn+"{}":er?nn+"{"+Oe(Te,er)+"}":nn+"{ "+X.call(Te,", ")+" }"}return String(K)};function Y(W,K,Vt){var qt=Vt.quoteStyle||K,Zt=F[qt];return Zt+W+Zt}function tt(W){return M.call(String(W),/"/g,"&quot;")}function at(W){return!ut||!(typeof W=="object"&&(ut in W||typeof W[ut]<"u"))}function ft(W){return se(W)==="[object Array]"&&at(W)}function ht(W){return se(W)==="[object Date]"&&at(W)}function dt(W){return se(W)==="[object RegExp]"&&at(W)}function st(W){return se(W)==="[object Error]"&&at(W)}function mt(W){return se(W)==="[object String]"&&at(W)}function bt(W){return se(W)==="[object Number]"&&at(W)}function Ct(W){return se(W)==="[object Boolean]"&&at(W)}function Ut(W){if(et)return W&&typeof W=="object"&&W instanceof Symbol;if(typeof W=="symbol")return!0;if(!W||typeof W!="object"||!$)return!1;try{return $.call(W),!0}catch{}return!1}function Et(W){if(!W||typeof W!="object"||!ot)return!1;try{return ot.call(W),!0}catch{}return!1}var vt=Object.prototype.hasOwnProperty||function(W){return W in this};function ee(W,K){return vt.call(W,K)}function se(W){return A.call(W)}function Pi(W){if(W.name)return W.name;var K=C.call(T.call(W),/^function\s*([\w$]+)/);return K?K[1]:null}function ni(W,K){if(W.indexOf)return W.indexOf(K);for(var Vt=0,qt=W.length;Vt<qt;Vt++)if(W[Vt]===K)return Vt;return-1}function He(W){if(!e||!W||typeof W!="object")return!1;try{e.call(W);try{h.call(W)}catch{return!0}return W instanceof Map}catch{}return!1}function Dr(W){if(!p||!W||typeof W!="object")return!1;try{p.call(W,p);try{y.call(W,y)}catch{return!0}return W instanceof WeakMap}catch{}return!1}function Or(W){if(!v||!W||typeof W!="object")return!1;try{return v.call(W),!0}catch{}return!1}function De(W){if(!h||!W||typeof W!="object")return!1;try{h.call(W);try{e.call(W)}catch{return!0}return W instanceof Set}catch{}return!1}function Bu(W){if(!y||!W||typeof W!="object")return!1;try{y.call(W,y);try{p.call(W,p)}catch{return!0}return W instanceof WeakSet}catch{}return!1}function vl(W){return!W||typeof W!="object"?!1:typeof HTMLElement<"u"&&W instanceof HTMLElement?!0:typeof W.nodeName=="string"&&typeof W.getAttribute=="function"}function sa(W,K){if(W.length>K.maxStringLength){var Vt=W.length-K.maxStringLength,qt="... "+Vt+" more character"+(Vt>1?"s":"");return sa(N.call(W,0,K.maxStringLength),K)+qt}var Zt=L[K.quoteStyle||"single"];Zt.lastIndex=0;var Ot=M.call(M.call(W,Zt,"\\$1"),/[\x00-\x1f]/g,Qs);return Y(Ot,"single",K)}function Qs(W){var K=W.charCodeAt(0),Vt={8:"b",9:"t",10:"n",12:"f",13:"r"}[K];return Vt?"\\"+Vt:"\\x"+(K<16?"0":"")+P.call(K.toString(16))}function fs(W){return"Object("+W+")"}function Js(W){return W+" { ? }"}function _l(W,K,Vt,qt){var Zt=qt?Oe(Vt,qt):X.call(Vt,", ");return W+" ("+K+") {"+Zt+"}"}function Iu(W){for(var K=0;K<W.length;K++)if(ni(W[K],`
`)>=0)return!1;return!0}function ds(W,K){var Vt;if(W.indent==="	")Vt="	";else if(typeof W.indent=="number"&&W.indent>0)Vt=X.call(Array(W.indent+1)," ");else return null;return{base:Vt,prev:X.call(Array(K+1),Vt)}}function Oe(W,K){if(W.length===0)return"";var Vt=`
`+K.prev+K.base;return Vt+X.call(W,","+Vt)+`
`+K.prev}function tn(W,K){var Vt=ft(W),qt=[];if(Vt){qt.length=W.length;for(var Zt=0;Zt<W.length;Zt++)qt[Zt]=ee(W,Zt)?K(W[Zt],W):""}var Ot=typeof z=="function"?z(W):[],Ke;if(et){Ke={};for(var ke=0;ke<Ot.length;ke++)Ke["$"+Ot[ke]]=Ot[ke]}for(var Ee in W)ee(W,Ee)&&(Vt&&String(Number(Ee))===Ee&&Ee<W.length||et&&Ke["$"+Ee]instanceof Symbol||(q.call(/[^\w$]/,Ee)?qt.push(K(Ee,W)+": "+K(W[Ee],W)):qt.push(Ee+": "+K(W[Ee],W))));if(typeof z=="function")for(var Ye=0;Ye<Ot.length;Ye++)S.call(W,Ot[Ye])&&qt.push("["+K(Ot[Ye])+"]: "+K(W[Ot[Ye]],W));return qt}return $c}var Wc,nv;function eE(){if(nv)return Wc;nv=1;var n=bu(),t=ia(),e=function(c,d,p){for(var g=c,y;(y=g.next)!=null;g=y)if(y.key===d)return g.next=y.next,p||(y.next=c.next,c.next=y),y},s=function(c,d){if(c){var p=e(c,d);return p&&p.value}},l=function(c,d,p){var g=e(c,d);g?g.value=p:c.next={key:d,next:c.next,value:p}},o=function(c,d){return c?!!e(c,d):!1},h=function(c,d){if(c)return e(c,d,!0)};return Wc=function(){var d,p={assert:function(g){if(!p.has(g))throw new t("Side channel does not contain "+n(g))},delete:function(g){var y=d&&d.next,_=h(d,g);return _&&y&&y===_&&(d=void 0),!!_},get:function(g){return s(d,g)},has:function(g){return o(d,g)},set:function(g,y){d||(d={next:void 0}),l(d,g,y)}};return p},Wc}var Zc,av;function W0(){return av||(av=1,Zc=Object),Zc}var Kc,lv;function iE(){return lv||(lv=1,Kc=Error),Kc}var Qc,ov;function rE(){return ov||(ov=1,Qc=EvalError),Qc}var Jc,uv;function sE(){return uv||(uv=1,Jc=RangeError),Jc}var tf,hv;function nE(){return hv||(hv=1,tf=ReferenceError),tf}var ef,cv;function aE(){return cv||(cv=1,ef=SyntaxError),ef}var rf,fv;function lE(){return fv||(fv=1,rf=URIError),rf}var sf,dv;function oE(){return dv||(dv=1,sf=Math.abs),sf}var nf,pv;function uE(){return pv||(pv=1,nf=Math.floor),nf}var af,mv;function hE(){return mv||(mv=1,af=Math.max),af}var lf,gv;function cE(){return gv||(gv=1,lf=Math.min),lf}var of,yv;function fE(){return yv||(yv=1,of=Math.pow),of}var uf,vv;function dE(){return vv||(vv=1,uf=Math.round),uf}var hf,_v;function pE(){return _v||(_v=1,hf=Number.isNaN||function(t){return t!==t}),hf}var cf,xv;function mE(){if(xv)return cf;xv=1;var n=pE();return cf=function(e){return n(e)||e===0?e:e<0?-1:1},cf}var ff,bv;function gE(){return bv||(bv=1,ff=Object.getOwnPropertyDescriptor),ff}var df,Ev;function Z0(){if(Ev)return df;Ev=1;var n=gE();if(n)try{n([],"length")}catch{n=null}return df=n,df}var pf,Tv;function yE(){if(Tv)return pf;Tv=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return pf=n,pf}var mf,Av;function vE(){return Av||(Av=1,mf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),s=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var l=42;t[e]=l;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var h=Object.getOwnPropertySymbols(t);if(h.length!==1||h[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,e);if(c.value!==l||c.enumerable!==!0)return!1}return!0}),mf}var gf,Sv;function _E(){if(Sv)return gf;Sv=1;var n=typeof Symbol<"u"&&Symbol,t=vE();return gf=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},gf}var yf,wv;function K0(){return wv||(wv=1,yf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),yf}var vf,Rv;function Q0(){if(Rv)return vf;Rv=1;var n=W0();return vf=n.getPrototypeOf||null,vf}var _f,Cv;function xE(){if(Cv)return _f;Cv=1;var n="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,e=Math.max,s="[object Function]",l=function(d,p){for(var g=[],y=0;y<d.length;y+=1)g[y]=d[y];for(var _=0;_<p.length;_+=1)g[_+d.length]=p[_];return g},o=function(d,p){for(var g=[],y=p,_=0;y<d.length;y+=1,_+=1)g[_]=d[y];return g},h=function(c,d){for(var p="",g=0;g<c.length;g+=1)p+=c[g],g+1<c.length&&(p+=d);return p};return _f=function(d){var p=this;if(typeof p!="function"||t.apply(p)!==s)throw new TypeError(n+p);for(var g=o(arguments,1),y,_=function(){if(this instanceof y){var C=p.apply(this,l(g,arguments));return Object(C)===C?C:this}return p.apply(d,l(g,arguments))},v=e(0,p.length-g.length),b=[],A=0;A<v;A++)b[A]="$"+A;if(y=Function("binder","return function ("+h(b,",")+"){ return binder.apply(this,arguments); }")(_),p.prototype){var T=function(){};T.prototype=p.prototype,y.prototype=new T,T.prototype=null}return y},_f}var xf,Mv;function Eu(){if(Mv)return xf;Mv=1;var n=xE();return xf=Function.prototype.bind||n,xf}var bf,Dv;function Zd(){return Dv||(Dv=1,bf=Function.prototype.call),bf}var Ef,Ov;function J0(){return Ov||(Ov=1,Ef=Function.prototype.apply),Ef}var Tf,Bv;function bE(){return Bv||(Bv=1,Tf=typeof Reflect<"u"&&Reflect&&Reflect.apply),Tf}var Af,Iv;function EE(){if(Iv)return Af;Iv=1;var n=Eu(),t=J0(),e=Zd(),s=bE();return Af=s||n.call(e,t),Af}var Sf,Nv;function t_(){if(Nv)return Sf;Nv=1;var n=Eu(),t=ia(),e=Zd(),s=EE();return Sf=function(o){if(o.length<1||typeof o[0]!="function")throw new t("a function is required");return s(n,e,o)},Sf}var wf,Uv;function TE(){if(Uv)return wf;Uv=1;var n=t_(),t=Z0(),e;try{e=[].__proto__===Array.prototype}catch(h){if(!h||typeof h!="object"||!("code"in h)||h.code!=="ERR_PROTO_ACCESS")throw h}var s=!!e&&t&&t(Object.prototype,"__proto__"),l=Object,o=l.getPrototypeOf;return wf=s&&typeof s.get=="function"?n([s.get]):typeof o=="function"?function(c){return o(c==null?c:l(c))}:!1,wf}var Rf,Pv;function AE(){if(Pv)return Rf;Pv=1;var n=K0(),t=Q0(),e=TE();return Rf=n?function(l){return n(l)}:t?function(l){if(!l||typeof l!="object"&&typeof l!="function")throw new TypeError("getProto: not an object");return t(l)}:e?function(l){return e(l)}:null,Rf}var Cf,Lv;function SE(){if(Lv)return Cf;Lv=1;var n=Function.prototype.call,t=Object.prototype.hasOwnProperty,e=Eu();return Cf=e.call(n,t),Cf}var Mf,Fv;function Kd(){if(Fv)return Mf;Fv=1;var n,t=W0(),e=iE(),s=rE(),l=sE(),o=nE(),h=aE(),c=ia(),d=lE(),p=oE(),g=uE(),y=hE(),_=cE(),v=fE(),b=dE(),A=mE(),T=Function,C=function(dt){try{return T('"use strict"; return ('+dt+").constructor;")()}catch{}},N=Z0(),M=yE(),P=function(){throw new c},D=N?function(){try{return arguments.callee,P}catch{try{return N(arguments,"callee").get}catch{return P}}}():P,q=_E()(),B=AE(),X=Q0(),V=K0(),J=J0(),ot=Zd(),z={},$=typeof Uint8Array>"u"||!B?n:B(Uint8Array),et={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":q&&B?B([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":z,"%AsyncGenerator%":z,"%AsyncGeneratorFunction%":z,"%AsyncIteratorPrototype%":z,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":s,"%Float16Array%":typeof Float16Array>"u"?n:Float16Array,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":T,"%GeneratorFunction%":z,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":q&&B?B(B([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!q||!B?n:B(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":N,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":l,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!q||!B?n:B(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":q&&B?B(""[Symbol.iterator]()):n,"%Symbol%":q?Symbol:n,"%SyntaxError%":h,"%ThrowTypeError%":D,"%TypedArray%":$,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":ot,"%Function.prototype.apply%":J,"%Object.defineProperty%":M,"%Object.getPrototypeOf%":X,"%Math.abs%":p,"%Math.floor%":g,"%Math.max%":y,"%Math.min%":_,"%Math.pow%":v,"%Math.round%":b,"%Math.sign%":A,"%Reflect.getPrototypeOf%":V};if(B)try{null.error}catch(dt){var ut=B(B(dt));et["%Error.prototype%"]=ut}var S=function dt(st){var mt;if(st==="%AsyncFunction%")mt=C("async function () {}");else if(st==="%GeneratorFunction%")mt=C("function* () {}");else if(st==="%AsyncGeneratorFunction%")mt=C("async function* () {}");else if(st==="%AsyncGenerator%"){var bt=dt("%AsyncGeneratorFunction%");bt&&(mt=bt.prototype)}else if(st==="%AsyncIteratorPrototype%"){var Ct=dt("%AsyncGenerator%");Ct&&B&&(mt=B(Ct.prototype))}return et[st]=mt,mt},I={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=Eu(),H=SE(),E=w.call(ot,Array.prototype.concat),O=w.call(J,Array.prototype.splice),F=w.call(ot,String.prototype.replace),L=w.call(ot,String.prototype.slice),Y=w.call(ot,RegExp.prototype.exec),tt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,at=/\\(\\)?/g,ft=function(st){var mt=L(st,0,1),bt=L(st,-1);if(mt==="%"&&bt!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(bt==="%"&&mt!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var Ct=[];return F(st,tt,function(Ut,Et,vt,ee){Ct[Ct.length]=vt?F(ee,at,"$1"):Et||Ut}),Ct},ht=function(st,mt){var bt=st,Ct;if(H(I,bt)&&(Ct=I[bt],bt="%"+Ct[0]+"%"),H(et,bt)){var Ut=et[bt];if(Ut===z&&(Ut=S(bt)),typeof Ut>"u"&&!mt)throw new c("intrinsic "+st+" exists, but is not available. Please file an issue!");return{alias:Ct,name:bt,value:Ut}}throw new h("intrinsic "+st+" does not exist!")};return Mf=function(st,mt){if(typeof st!="string"||st.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof mt!="boolean")throw new c('"allowMissing" argument must be a boolean');if(Y(/^%?[^%]*%?$/,st)===null)throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var bt=ft(st),Ct=bt.length>0?bt[0]:"",Ut=ht("%"+Ct+"%",mt),Et=Ut.name,vt=Ut.value,ee=!1,se=Ut.alias;se&&(Ct=se[0],O(bt,E([0,1],se)));for(var Pi=1,ni=!0;Pi<bt.length;Pi+=1){var He=bt[Pi],Dr=L(He,0,1),Or=L(He,-1);if((Dr==='"'||Dr==="'"||Dr==="`"||Or==='"'||Or==="'"||Or==="`")&&Dr!==Or)throw new h("property names with quotes must have matching quotes");if((He==="constructor"||!ni)&&(ee=!0),Ct+="."+He,Et="%"+Ct+"%",H(et,Et))vt=et[Et];else if(vt!=null){if(!(He in vt)){if(!mt)throw new c("base intrinsic for "+st+" exists, but the property is not available.");return}if(N&&Pi+1>=bt.length){var De=N(vt,He);ni=!!De,ni&&"get"in De&&!("originalValue"in De.get)?vt=De.get:vt=vt[He]}else ni=H(vt,He),vt=vt[He];ni&&!ee&&(et[Et]=vt)}}return vt},Mf}var Df,Gv;function e_(){if(Gv)return Df;Gv=1;var n=Kd(),t=t_(),e=t([n("%String.prototype.indexOf%")]);return Df=function(l,o){var h=n(l,!!o);return typeof h=="function"&&e(l,".prototype.")>-1?t([h]):h},Df}var Of,Hv;function i_(){if(Hv)return Of;Hv=1;var n=Kd(),t=e_(),e=bu(),s=ia(),l=n("%Map%",!0),o=t("Map.prototype.get",!0),h=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),d=t("Map.prototype.delete",!0),p=t("Map.prototype.size",!0);return Of=!!l&&function(){var y,_={assert:function(v){if(!_.has(v))throw new s("Side channel does not contain "+e(v))},delete:function(v){if(y){var b=d(y,v);return p(y)===0&&(y=void 0),b}return!1},get:function(v){if(y)return o(y,v)},has:function(v){return y?c(y,v):!1},set:function(v,b){y||(y=new l),h(y,v,b)}};return _},Of}var Bf,kv;function wE(){if(kv)return Bf;kv=1;var n=Kd(),t=e_(),e=bu(),s=i_(),l=ia(),o=n("%WeakMap%",!0),h=t("WeakMap.prototype.get",!0),c=t("WeakMap.prototype.set",!0),d=t("WeakMap.prototype.has",!0),p=t("WeakMap.prototype.delete",!0);return Bf=o?function(){var y,_,v={assert:function(b){if(!v.has(b))throw new l("Side channel does not contain "+e(b))},delete:function(b){if(o&&b&&(typeof b=="object"||typeof b=="function")){if(y)return p(y,b)}else if(s&&_)return _.delete(b);return!1},get:function(b){return o&&b&&(typeof b=="object"||typeof b=="function")&&y?h(y,b):_&&_.get(b)},has:function(b){return o&&b&&(typeof b=="object"||typeof b=="function")&&y?d(y,b):!!_&&_.has(b)},set:function(b,A){o&&b&&(typeof b=="object"||typeof b=="function")?(y||(y=new o),c(y,b,A)):s&&(_||(_=s()),_.set(b,A))}};return v}:s,Bf}var If,zv;function RE(){if(zv)return If;zv=1;var n=ia(),t=bu(),e=eE(),s=i_(),l=wE(),o=l||s||e;return If=function(){var c,d={assert:function(p){if(!d.has(p))throw new n("Side channel does not contain "+t(p))},delete:function(p){return!!c&&c.delete(p)},get:function(p){return c&&c.get(p)},has:function(p){return!!c&&c.has(p)},set:function(p,g){c||(c=o()),c.set(p,g)}};return d},If}var Nf,Xv;function Qd(){if(Xv)return Nf;Xv=1;var n=String.prototype.replace,t=/%20/g,e={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Nf={default:e.RFC3986,formatters:{RFC1738:function(s){return n.call(s,t,"+")},RFC3986:function(s){return String(s)}},RFC1738:e.RFC1738,RFC3986:e.RFC3986},Nf}var Uf,Vv;function r_(){if(Vv)return Uf;Vv=1;var n=Qd(),t=Object.prototype.hasOwnProperty,e=Array.isArray,s=function(){for(var T=[],C=0;C<256;++C)T.push("%"+((C<16?"0":"")+C.toString(16)).toUpperCase());return T}(),l=function(C){for(;C.length>1;){var N=C.pop(),M=N.obj[N.prop];if(e(M)){for(var P=[],D=0;D<M.length;++D)typeof M[D]<"u"&&P.push(M[D]);N.obj[N.prop]=P}}},o=function(C,N){for(var M=N&&N.plainObjects?{__proto__:null}:{},P=0;P<C.length;++P)typeof C[P]<"u"&&(M[P]=C[P]);return M},h=function T(C,N,M){if(!N)return C;if(typeof N!="object"&&typeof N!="function"){if(e(C))C.push(N);else if(C&&typeof C=="object")(M&&(M.plainObjects||M.allowPrototypes)||!t.call(Object.prototype,N))&&(C[N]=!0);else return[C,N];return C}if(!C||typeof C!="object")return[C].concat(N);var P=C;return e(C)&&!e(N)&&(P=o(C,M)),e(C)&&e(N)?(N.forEach(function(D,q){if(t.call(C,q)){var B=C[q];B&&typeof B=="object"&&D&&typeof D=="object"?C[q]=T(B,D,M):C.push(D)}else C[q]=D}),C):Object.keys(N).reduce(function(D,q){var B=N[q];return t.call(D,q)?D[q]=T(D[q],B,M):D[q]=B,D},P)},c=function(C,N){return Object.keys(N).reduce(function(M,P){return M[P]=N[P],M},C)},d=function(T,C,N){var M=T.replace(/\+/g," ");if(N==="iso-8859-1")return M.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(M)}catch{return M}},p=1024,g=function(C,N,M,P,D){if(C.length===0)return C;var q=C;if(typeof C=="symbol"?q=Symbol.prototype.toString.call(C):typeof C!="string"&&(q=String(C)),M==="iso-8859-1")return escape(q).replace(/%u[0-9a-f]{4}/gi,function($){return"%26%23"+parseInt($.slice(2),16)+"%3B"});for(var B="",X=0;X<q.length;X+=p){for(var V=q.length>=p?q.slice(X,X+p):q,J=[],ot=0;ot<V.length;++ot){var z=V.charCodeAt(ot);if(z===45||z===46||z===95||z===126||z>=48&&z<=57||z>=65&&z<=90||z>=97&&z<=122||D===n.RFC1738&&(z===40||z===41)){J[J.length]=V.charAt(ot);continue}if(z<128){J[J.length]=s[z];continue}if(z<2048){J[J.length]=s[192|z>>6]+s[128|z&63];continue}if(z<55296||z>=57344){J[J.length]=s[224|z>>12]+s[128|z>>6&63]+s[128|z&63];continue}ot+=1,z=65536+((z&1023)<<10|V.charCodeAt(ot)&1023),J[J.length]=s[240|z>>18]+s[128|z>>12&63]+s[128|z>>6&63]+s[128|z&63]}B+=J.join("")}return B},y=function(C){for(var N=[{obj:{o:C},prop:"o"}],M=[],P=0;P<N.length;++P)for(var D=N[P],q=D.obj[D.prop],B=Object.keys(q),X=0;X<B.length;++X){var V=B[X],J=q[V];typeof J=="object"&&J!==null&&M.indexOf(J)===-1&&(N.push({obj:q,prop:V}),M.push(J))}return l(N),C},_=function(C){return Object.prototype.toString.call(C)==="[object RegExp]"},v=function(C){return!C||typeof C!="object"?!1:!!(C.constructor&&C.constructor.isBuffer&&C.constructor.isBuffer(C))},b=function(C,N){return[].concat(C,N)},A=function(C,N){if(e(C)){for(var M=[],P=0;P<C.length;P+=1)M.push(N(C[P]));return M}return N(C)};return Uf={arrayToObject:o,assign:c,combine:b,compact:y,decode:d,encode:g,isBuffer:v,isRegExp:_,maybeMap:A,merge:h},Uf}var Pf,jv;function CE(){if(jv)return Pf;jv=1;var n=RE(),t=r_(),e=Qd(),s=Object.prototype.hasOwnProperty,l={brackets:function(T){return T+"[]"},comma:"comma",indices:function(T,C){return T+"["+C+"]"},repeat:function(T){return T}},o=Array.isArray,h=Array.prototype.push,c=function(A,T){h.apply(A,o(T)?T:[T])},d=Date.prototype.toISOString,p=e.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:e.formatters[p],indices:!1,serializeDate:function(T){return d.call(T)},skipNulls:!1,strictNullHandling:!1},y=function(T){return typeof T=="string"||typeof T=="number"||typeof T=="boolean"||typeof T=="symbol"||typeof T=="bigint"},_={},v=function A(T,C,N,M,P,D,q,B,X,V,J,ot,z,$,et,ut,S,I){for(var w=T,H=I,E=0,O=!1;(H=H.get(_))!==void 0&&!O;){var F=H.get(T);if(E+=1,typeof F<"u"){if(F===E)throw new RangeError("Cyclic object value");O=!0}typeof H.get(_)>"u"&&(E=0)}if(typeof V=="function"?w=V(C,w):w instanceof Date?w=z(w):N==="comma"&&o(w)&&(w=t.maybeMap(w,function(Et){return Et instanceof Date?z(Et):Et})),w===null){if(D)return X&&!ut?X(C,g.encoder,S,"key",$):C;w=""}if(y(w)||t.isBuffer(w)){if(X){var L=ut?C:X(C,g.encoder,S,"key",$);return[et(L)+"="+et(X(w,g.encoder,S,"value",$))]}return[et(C)+"="+et(String(w))]}var Y=[];if(typeof w>"u")return Y;var tt;if(N==="comma"&&o(w))ut&&X&&(w=t.maybeMap(w,X)),tt=[{value:w.length>0?w.join(",")||null:void 0}];else if(o(V))tt=V;else{var at=Object.keys(w);tt=J?at.sort(J):at}var ft=B?String(C).replace(/\./g,"%2E"):String(C),ht=M&&o(w)&&w.length===1?ft+"[]":ft;if(P&&o(w)&&w.length===0)return ht+"[]";for(var dt=0;dt<tt.length;++dt){var st=tt[dt],mt=typeof st=="object"&&st&&typeof st.value<"u"?st.value:w[st];if(!(q&&mt===null)){var bt=ot&&B?String(st).replace(/\./g,"%2E"):String(st),Ct=o(w)?typeof N=="function"?N(ht,bt):ht:ht+(ot?"."+bt:"["+bt+"]");I.set(T,E);var Ut=n();Ut.set(_,I),c(Y,A(mt,Ct,N,M,P,D,q,B,N==="comma"&&ut&&o(w)?null:X,V,J,ot,z,$,et,ut,S,Ut))}}return Y},b=function(T){if(!T)return g;if(typeof T.allowEmptyArrays<"u"&&typeof T.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof T.encodeDotInKeys<"u"&&typeof T.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(T.encoder!==null&&typeof T.encoder<"u"&&typeof T.encoder!="function")throw new TypeError("Encoder has to be a function.");var C=T.charset||g.charset;if(typeof T.charset<"u"&&T.charset!=="utf-8"&&T.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var N=e.default;if(typeof T.format<"u"){if(!s.call(e.formatters,T.format))throw new TypeError("Unknown format option provided.");N=T.format}var M=e.formatters[N],P=g.filter;(typeof T.filter=="function"||o(T.filter))&&(P=T.filter);var D;if(T.arrayFormat in l?D=T.arrayFormat:"indices"in T?D=T.indices?"indices":"repeat":D=g.arrayFormat,"commaRoundTrip"in T&&typeof T.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var q=typeof T.allowDots>"u"?T.encodeDotInKeys===!0?!0:g.allowDots:!!T.allowDots;return{addQueryPrefix:typeof T.addQueryPrefix=="boolean"?T.addQueryPrefix:g.addQueryPrefix,allowDots:q,allowEmptyArrays:typeof T.allowEmptyArrays=="boolean"?!!T.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:D,charset:C,charsetSentinel:typeof T.charsetSentinel=="boolean"?T.charsetSentinel:g.charsetSentinel,commaRoundTrip:!!T.commaRoundTrip,delimiter:typeof T.delimiter>"u"?g.delimiter:T.delimiter,encode:typeof T.encode=="boolean"?T.encode:g.encode,encodeDotInKeys:typeof T.encodeDotInKeys=="boolean"?T.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof T.encoder=="function"?T.encoder:g.encoder,encodeValuesOnly:typeof T.encodeValuesOnly=="boolean"?T.encodeValuesOnly:g.encodeValuesOnly,filter:P,format:N,formatter:M,serializeDate:typeof T.serializeDate=="function"?T.serializeDate:g.serializeDate,skipNulls:typeof T.skipNulls=="boolean"?T.skipNulls:g.skipNulls,sort:typeof T.sort=="function"?T.sort:null,strictNullHandling:typeof T.strictNullHandling=="boolean"?T.strictNullHandling:g.strictNullHandling}};return Pf=function(A,T){var C=A,N=b(T),M,P;typeof N.filter=="function"?(P=N.filter,C=P("",C)):o(N.filter)&&(P=N.filter,M=P);var D=[];if(typeof C!="object"||C===null)return"";var q=l[N.arrayFormat],B=q==="comma"&&N.commaRoundTrip;M||(M=Object.keys(C)),N.sort&&M.sort(N.sort);for(var X=n(),V=0;V<M.length;++V){var J=M[V],ot=C[J];N.skipNulls&&ot===null||c(D,v(ot,J,q,B,N.allowEmptyArrays,N.strictNullHandling,N.skipNulls,N.encodeDotInKeys,N.encode?N.encoder:null,N.filter,N.sort,N.allowDots,N.serializeDate,N.format,N.formatter,N.encodeValuesOnly,N.charset,X))}var z=D.join(N.delimiter),$=N.addQueryPrefix===!0?"?":"";return N.charsetSentinel&&(N.charset==="iso-8859-1"?$+="utf8=%26%2310003%3B&":$+="utf8=%E2%9C%93&"),z.length>0?$+z:""},Pf}var Lf,Yv;function ME(){if(Yv)return Lf;Yv=1;var n=r_(),t=Object.prototype.hasOwnProperty,e=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},l=function(_){return _.replace(/&#(\d+);/g,function(v,b){return String.fromCharCode(parseInt(b,10))})},o=function(_,v,b){if(_&&typeof _=="string"&&v.comma&&_.indexOf(",")>-1)return _.split(",");if(v.throwOnLimitExceeded&&b>=v.arrayLimit)throw new RangeError("Array limit exceeded. Only "+v.arrayLimit+" element"+(v.arrayLimit===1?"":"s")+" allowed in an array.");return _},h="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",d=function(v,b){var A={__proto__:null},T=b.ignoreQueryPrefix?v.replace(/^\?/,""):v;T=T.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var C=b.parameterLimit===1/0?void 0:b.parameterLimit,N=T.split(b.delimiter,b.throwOnLimitExceeded?C+1:C);if(b.throwOnLimitExceeded&&N.length>C)throw new RangeError("Parameter limit exceeded. Only "+C+" parameter"+(C===1?"":"s")+" allowed.");var M=-1,P,D=b.charset;if(b.charsetSentinel)for(P=0;P<N.length;++P)N[P].indexOf("utf8=")===0&&(N[P]===c?D="utf-8":N[P]===h&&(D="iso-8859-1"),M=P,P=N.length);for(P=0;P<N.length;++P)if(P!==M){var q=N[P],B=q.indexOf("]="),X=B===-1?q.indexOf("="):B+1,V,J;X===-1?(V=b.decoder(q,s.decoder,D,"key"),J=b.strictNullHandling?null:""):(V=b.decoder(q.slice(0,X),s.decoder,D,"key"),J=n.maybeMap(o(q.slice(X+1),b,e(A[V])?A[V].length:0),function(z){return b.decoder(z,s.decoder,D,"value")})),J&&b.interpretNumericEntities&&D==="iso-8859-1"&&(J=l(String(J))),q.indexOf("[]=")>-1&&(J=e(J)?[J]:J);var ot=t.call(A,V);ot&&b.duplicates==="combine"?A[V]=n.combine(A[V],J):(!ot||b.duplicates==="last")&&(A[V]=J)}return A},p=function(_,v,b,A){var T=0;if(_.length>0&&_[_.length-1]==="[]"){var C=_.slice(0,-1).join("");T=Array.isArray(v)&&v[C]?v[C].length:0}for(var N=A?v:o(v,b,T),M=_.length-1;M>=0;--M){var P,D=_[M];if(D==="[]"&&b.parseArrays)P=b.allowEmptyArrays&&(N===""||b.strictNullHandling&&N===null)?[]:n.combine([],N);else{P=b.plainObjects?{__proto__:null}:{};var q=D.charAt(0)==="["&&D.charAt(D.length-1)==="]"?D.slice(1,-1):D,B=b.decodeDotInKeys?q.replace(/%2E/g,"."):q,X=parseInt(B,10);!b.parseArrays&&B===""?P={0:N}:!isNaN(X)&&D!==B&&String(X)===B&&X>=0&&b.parseArrays&&X<=b.arrayLimit?(P=[],P[X]=N):B!=="__proto__"&&(P[B]=N)}N=P}return N},g=function(v,b,A,T){if(v){var C=A.allowDots?v.replace(/\.([^.[]+)/g,"[$1]"):v,N=/(\[[^[\]]*])/,M=/(\[[^[\]]*])/g,P=A.depth>0&&N.exec(C),D=P?C.slice(0,P.index):C,q=[];if(D){if(!A.plainObjects&&t.call(Object.prototype,D)&&!A.allowPrototypes)return;q.push(D)}for(var B=0;A.depth>0&&(P=M.exec(C))!==null&&B<A.depth;){if(B+=1,!A.plainObjects&&t.call(Object.prototype,P[1].slice(1,-1))&&!A.allowPrototypes)return;q.push(P[1])}if(P){if(A.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+A.depth+" and strictDepth is true");q.push("["+C.slice(P.index)+"]")}return p(q,b,A,T)}},y=function(v){if(!v)return s;if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.decodeDotInKeys<"u"&&typeof v.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(v.decoder!==null&&typeof v.decoder<"u"&&typeof v.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof v.throwOnLimitExceeded<"u"&&typeof v.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var b=typeof v.charset>"u"?s.charset:v.charset,A=typeof v.duplicates>"u"?s.duplicates:v.duplicates;if(A!=="combine"&&A!=="first"&&A!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var T=typeof v.allowDots>"u"?v.decodeDotInKeys===!0?!0:s.allowDots:!!v.allowDots;return{allowDots:T,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:typeof v.allowPrototypes=="boolean"?v.allowPrototypes:s.allowPrototypes,allowSparse:typeof v.allowSparse=="boolean"?v.allowSparse:s.allowSparse,arrayLimit:typeof v.arrayLimit=="number"?v.arrayLimit:s.arrayLimit,charset:b,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:s.charsetSentinel,comma:typeof v.comma=="boolean"?v.comma:s.comma,decodeDotInKeys:typeof v.decodeDotInKeys=="boolean"?v.decodeDotInKeys:s.decodeDotInKeys,decoder:typeof v.decoder=="function"?v.decoder:s.decoder,delimiter:typeof v.delimiter=="string"||n.isRegExp(v.delimiter)?v.delimiter:s.delimiter,depth:typeof v.depth=="number"||v.depth===!1?+v.depth:s.depth,duplicates:A,ignoreQueryPrefix:v.ignoreQueryPrefix===!0,interpretNumericEntities:typeof v.interpretNumericEntities=="boolean"?v.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:typeof v.parameterLimit=="number"?v.parameterLimit:s.parameterLimit,parseArrays:v.parseArrays!==!1,plainObjects:typeof v.plainObjects=="boolean"?v.plainObjects:s.plainObjects,strictDepth:typeof v.strictDepth=="boolean"?!!v.strictDepth:s.strictDepth,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:s.strictNullHandling,throwOnLimitExceeded:typeof v.throwOnLimitExceeded=="boolean"?v.throwOnLimitExceeded:!1}};return Lf=function(_,v){var b=y(v);if(_===""||_===null||typeof _>"u")return b.plainObjects?{__proto__:null}:{};for(var A=typeof _=="string"?d(_,b):_,T=b.plainObjects?{__proto__:null}:{},C=Object.keys(A),N=0;N<C.length;++N){var M=C[N],P=g(M,A[M],b,typeof _=="string");T=n.merge(T,P,b)}return b.allowSparse===!0?T:n.compact(T)},Lf}var Ff,qv;function DE(){if(qv)return Ff;qv=1;var n=CE(),t=ME(),e=Qd();return Ff={formats:e,parse:t,stringify:n},Ff}var $v;function OE(){if($v)return Ps;$v=1;var n=K1();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var e=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],h=["{","}","|","\\","^","`"].concat(o),c=["'"].concat(h),d=["%","/","?",";","#"].concat(c),p=["/","?","#"],g=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=DE();function C(D,q,B){if(D&&typeof D=="object"&&D instanceof t)return D;var X=new t;return X.parse(D,q,B),X}t.prototype.parse=function(D,q,B){if(typeof D!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof D);var X=D.indexOf("?"),V=X!==-1&&X<D.indexOf("#")?"?":"#",J=D.split(V),ot=/\\/g;J[0]=J[0].replace(ot,"/"),D=J.join(V);var z=D;if(z=z.trim(),!B&&D.split("#").length===1){var $=l.exec(z);if($)return this.path=z,this.href=z,this.pathname=$[1],$[2]?(this.search=$[2],q?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):q&&(this.search="",this.query={}),this}var et=e.exec(z);if(et){et=et[0];var ut=et.toLowerCase();this.protocol=ut,z=z.substr(et.length)}if(B||et||z.match(/^\/\/[^@/]+@[^@/]+/)){var S=z.substr(0,2)==="//";S&&!(et&&b[et])&&(z=z.substr(2),this.slashes=!0)}if(!b[et]&&(S||et&&!A[et])){for(var I=-1,w=0;w<p.length;w++){var H=z.indexOf(p[w]);H!==-1&&(I===-1||H<I)&&(I=H)}var E,O;I===-1?O=z.lastIndexOf("@"):O=z.lastIndexOf("@",I),O!==-1&&(E=z.slice(0,O),z=z.slice(O+1),this.auth=decodeURIComponent(E)),I=-1;for(var w=0;w<d.length;w++){var H=z.indexOf(d[w]);H!==-1&&(I===-1||H<I)&&(I=H)}I===-1&&(I=z.length),this.host=z.slice(0,I),z=z.slice(I),this.parseHost(),this.hostname=this.hostname||"";var F=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!F)for(var L=this.hostname.split(/\./),w=0,Y=L.length;w<Y;w++){var tt=L[w];if(tt&&!tt.match(y)){for(var at="",ft=0,ht=tt.length;ft<ht;ft++)tt.charCodeAt(ft)>127?at+="x":at+=tt[ft];if(!at.match(y)){var dt=L.slice(0,w),st=L.slice(w+1),mt=tt.match(_);mt&&(dt.push(mt[1]),st.unshift(mt[2])),st.length&&(z="/"+st.join(".")+z),this.hostname=dt.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=n.toASCII(this.hostname));var bt=this.port?":"+this.port:"",Ct=this.hostname||"";this.host=Ct+bt,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),z[0]!=="/"&&(z="/"+z))}if(!v[ut])for(var w=0,Y=c.length;w<Y;w++){var Ut=c[w];if(z.indexOf(Ut)!==-1){var Et=encodeURIComponent(Ut);Et===Ut&&(Et=escape(Ut)),z=z.split(Ut).join(Et)}}var vt=z.indexOf("#");vt!==-1&&(this.hash=z.substr(vt),z=z.slice(0,vt));var ee=z.indexOf("?");if(ee!==-1?(this.search=z.substr(ee),this.query=z.substr(ee+1),q&&(this.query=T.parse(this.query)),z=z.slice(0,ee)):q&&(this.search="",this.query={}),z&&(this.pathname=z),A[ut]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var bt=this.pathname||"",se=this.search||"";this.path=bt+se}return this.href=this.format(),this};function N(D){return typeof D=="string"&&(D=C(D)),D instanceof t?D.format():t.prototype.format.call(D)}t.prototype.format=function(){var D=this.auth||"";D&&(D=encodeURIComponent(D),D=D.replace(/%3A/i,":"),D+="@");var q=this.protocol||"",B=this.pathname||"",X=this.hash||"",V=!1,J="";this.host?V=D+this.host:this.hostname&&(V=D+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(V+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(J=T.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var ot=this.search||J&&"?"+J||"";return q&&q.substr(-1)!==":"&&(q+=":"),this.slashes||(!q||A[q])&&V!==!1?(V="//"+(V||""),B&&B.charAt(0)!=="/"&&(B="/"+B)):V||(V=""),X&&X.charAt(0)!=="#"&&(X="#"+X),ot&&ot.charAt(0)!=="?"&&(ot="?"+ot),B=B.replace(/[?#]/g,function(z){return encodeURIComponent(z)}),ot=ot.replace("#","%23"),q+V+B+ot+X};function M(D,q){return C(D,!1,!0).resolve(q)}t.prototype.resolve=function(D){return this.resolveObject(C(D,!1,!0)).format()};function P(D,q){return D?C(D,!1,!0).resolveObject(q):q}return t.prototype.resolveObject=function(D){if(typeof D=="string"){var q=new t;q.parse(D,!1,!0),D=q}for(var B=new t,X=Object.keys(this),V=0;V<X.length;V++){var J=X[V];B[J]=this[J]}if(B.hash=D.hash,D.href==="")return B.href=B.format(),B;if(D.slashes&&!D.protocol){for(var ot=Object.keys(D),z=0;z<ot.length;z++){var $=ot[z];$!=="protocol"&&(B[$]=D[$])}return A[B.protocol]&&B.hostname&&!B.pathname&&(B.pathname="/",B.path=B.pathname),B.href=B.format(),B}if(D.protocol&&D.protocol!==B.protocol){if(!A[D.protocol]){for(var et=Object.keys(D),ut=0;ut<et.length;ut++){var S=et[ut];B[S]=D[S]}return B.href=B.format(),B}if(B.protocol=D.protocol,!D.host&&!b[D.protocol]){for(var Y=(D.pathname||"").split("/");Y.length&&!(D.host=Y.shift()););D.host||(D.host=""),D.hostname||(D.hostname=""),Y[0]!==""&&Y.unshift(""),Y.length<2&&Y.unshift(""),B.pathname=Y.join("/")}else B.pathname=D.pathname;if(B.search=D.search,B.query=D.query,B.host=D.host||"",B.auth=D.auth,B.hostname=D.hostname||D.host,B.port=D.port,B.pathname||B.search){var I=B.pathname||"",w=B.search||"";B.path=I+w}return B.slashes=B.slashes||D.slashes,B.href=B.format(),B}var H=B.pathname&&B.pathname.charAt(0)==="/",E=D.host||D.pathname&&D.pathname.charAt(0)==="/",O=E||H||B.host&&D.pathname,F=O,L=B.pathname&&B.pathname.split("/")||[],Y=D.pathname&&D.pathname.split("/")||[],tt=B.protocol&&!A[B.protocol];if(tt&&(B.hostname="",B.port=null,B.host&&(L[0]===""?L[0]=B.host:L.unshift(B.host)),B.host="",D.protocol&&(D.hostname=null,D.port=null,D.host&&(Y[0]===""?Y[0]=D.host:Y.unshift(D.host)),D.host=null),O=O&&(Y[0]===""||L[0]==="")),E)B.host=D.host||D.host===""?D.host:B.host,B.hostname=D.hostname||D.hostname===""?D.hostname:B.hostname,B.search=D.search,B.query=D.query,L=Y;else if(Y.length)L||(L=[]),L.pop(),L=L.concat(Y),B.search=D.search,B.query=D.query;else if(D.search!=null){if(tt){B.host=L.shift(),B.hostname=B.host;var at=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;at&&(B.auth=at.shift(),B.hostname=at.shift(),B.host=B.hostname)}return B.search=D.search,B.query=D.query,(B.pathname!==null||B.search!==null)&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.href=B.format(),B}if(!L.length)return B.pathname=null,B.search?B.path="/"+B.search:B.path=null,B.href=B.format(),B;for(var ft=L.slice(-1)[0],ht=(B.host||D.host||L.length>1)&&(ft==="."||ft==="..")||ft==="",dt=0,st=L.length;st>=0;st--)ft=L[st],ft==="."?L.splice(st,1):ft===".."?(L.splice(st,1),dt++):dt&&(L.splice(st,1),dt--);if(!O&&!F)for(;dt--;dt)L.unshift("..");O&&L[0]!==""&&(!L[0]||L[0].charAt(0)!=="/")&&L.unshift(""),ht&&L.join("/").substr(-1)!=="/"&&L.push("");var mt=L[0]===""||L[0]&&L[0].charAt(0)==="/";if(tt){B.hostname=mt?"":L.length?L.shift():"",B.host=B.hostname;var at=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;at&&(B.auth=at.shift(),B.hostname=at.shift(),B.host=B.hostname)}return O=O||B.host&&L.length,O&&!mt&&L.unshift(""),L.length>0?B.pathname=L.join("/"):(B.pathname=null,B.path=null),(B.pathname!==null||B.search!==null)&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.auth=D.auth||B.auth,B.slashes=B.slashes||D.slashes,B.href=B.format(),B},t.prototype.parseHost=function(){var D=this.host,q=s.exec(D);q&&(q=q[0],q!==":"&&(this.port=q.substr(1)),D=D.substr(0,D.length-q.length)),D&&(this.hostname=D)},Ps.parse=C,Ps.resolve=M,Ps.resolveObject=P,Ps.format=N,Ps.Url=t,Ps}OE();const Wv={};function kt(n,t,e=3){if(Wv[t])return;let s=new Error().stack;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${n}`):(s=s.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${n}`),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${n}`),console.warn(s))),Wv[t]=!0}function Ri(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function el(n){return n.split("?")[0].split("#")[0]}function BE(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function IE(n,t,e){return n.replace(new RegExp(BE(t),"g"),e)}function NE(n,t){let e="",s=0,l=-1,o=0,h=-1;for(let c=0;c<=n.length;++c){if(c<n.length)h=n.charCodeAt(c);else{if(h===47)break;h=47}if(h===47){if(!(l===c-1||o===1))if(l!==c-1&&o===2){if(e.length<2||s!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const d=e.lastIndexOf("/");if(d!==e.length-1){d===-1?(e="",s=0):(e=e.slice(0,d),s=e.length-1-e.lastIndexOf("/")),l=c,o=0;continue}}else if(e.length===2||e.length===1){e="",s=0,l=c,o=0;continue}}}else e.length>0?e+=`/${n.slice(l+1,c)}`:e=n.slice(l+1,c),s=c-l-1;l=c,o=0}else h===46&&o!==-1?++o:o=-1}return e}const Me={toPosix(n){return IE(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){Ri(n),n=this.toPosix(n);const t=/^file:\/\/\//.exec(n);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(n);return e?e[0]:""},toAbsolute(n,t,e){if(Ri(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const s=el(this.toPosix(t??yt.ADAPTER.getBaseUrl())),l=el(this.toPosix(e??this.rootname(s)));return n=this.toPosix(n),n.startsWith("/")?Me.join(l,n.slice(1)):this.isAbsolute(n)?n:this.join(s,n)},normalize(n){if(Ri(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let t="";const e=n.startsWith("/");this.hasProtocol(n)&&(t=this.rootname(n),n=n.slice(t.length));const s=n.endsWith("/");return n=NE(n),n.length>0&&s&&(n+="/"),e?`/${n}`:t+n},isAbsolute(n){return Ri(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let t;for(let e=0;e<n.length;++e){const s=n[e];if(Ri(s),s.length>0)if(t===void 0)t=s;else{const l=n[e-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?t+=`/../${s}`:t+=`/${s}`}}return t===void 0?".":this.normalize(t)},dirname(n){if(Ri(n),n.length===0)return".";n=this.toPosix(n);let t=n.charCodeAt(0);const e=t===47;let s=-1,l=!0;const o=this.getProtocol(n),h=n;n=n.slice(o.length);for(let c=n.length-1;c>=1;--c)if(t=n.charCodeAt(c),t===47){if(!l){s=c;break}}else l=!1;return s===-1?e?"/":this.isUrl(h)?o+n:o:e&&s===1?"//":o+n.slice(0,s)},rootname(n){Ri(n),n=this.toPosix(n);let t="";if(n.startsWith("/")?t="/":t=this.getProtocol(n),this.isUrl(n)){const e=n.indexOf("/",t.length);e!==-1?t=n.slice(0,e):t=n,t.endsWith("/")||(t+="/")}return t},basename(n,t){Ri(n),t&&Ri(t),n=el(this.toPosix(n));let e=0,s=-1,l=!0,o;if(t!==void 0&&t.length>0&&t.length<=n.length){if(t.length===n.length&&t===n)return"";let h=t.length-1,c=-1;for(o=n.length-1;o>=0;--o){const d=n.charCodeAt(o);if(d===47){if(!l){e=o+1;break}}else c===-1&&(l=!1,c=o+1),h>=0&&(d===t.charCodeAt(h)?--h===-1&&(s=o):(h=-1,s=c))}return e===s?s=c:s===-1&&(s=n.length),n.slice(e,s)}for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===47){if(!l){e=o+1;break}}else s===-1&&(l=!1,s=o+1);return s===-1?"":n.slice(e,s)},extname(n){Ri(n),n=el(this.toPosix(n));let t=-1,e=0,s=-1,l=!0,o=0;for(let h=n.length-1;h>=0;--h){const c=n.charCodeAt(h);if(c===47){if(!l){e=h+1;break}continue}s===-1&&(l=!1,s=h+1),c===46?t===-1?t=h:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||s===-1||o===0||o===1&&t===s-1&&t===e+1?"":n.slice(t,s)},parse(n){Ri(n);const t={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return t;n=el(this.toPosix(n));let e=n.charCodeAt(0);const s=this.isAbsolute(n);let l;t.root=this.rootname(n),s||this.hasProtocol(n)?l=1:l=0;let o=-1,h=0,c=-1,d=!0,p=n.length-1,g=0;for(;p>=l;--p){if(e=n.charCodeAt(p),e===47){if(!d){h=p+1;break}continue}c===-1&&(d=!1,c=p+1),e===46?o===-1?o=p:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||c===-1||g===0||g===1&&o===c-1&&o===h+1?c!==-1&&(h===0&&s?t.base=t.name=n.slice(1,c):t.base=t.name=n.slice(h,c)):(h===0&&s?(t.name=n.slice(1,o),t.base=n.slice(1,c)):(t.name=n.slice(h,o),t.base=n.slice(h,c)),t.ext=n.slice(o,c)),t.dir=this.dirname(n),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let Gf;async function UE(){return Gf??(Gf=(async()=>{var o;const n=document.createElement("canvas").getContext("webgl");if(!n)return Ze.UNPACK;const t=await new Promise(h=>{const c=document.createElement("video");c.onloadeddata=()=>h(c),c.onerror=()=>h(null),c.autoplay=!1,c.crossOrigin="anonymous",c.preload="auto",c.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",c.load()});if(!t)return Ze.UNPACK;const e=n.createTexture();n.bindTexture(n.TEXTURE_2D,e);const s=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,s),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t);const l=new Uint8Array(4);return n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,l),n.deleteFramebuffer(s),n.deleteTexture(e),(o=n.getExtension("WEBGL_lose_context"))==null||o.loseContext(),l[0]<=l[3]?Ze.PMA:Ze.UNPACK})()),Gf}let Hf;function PE(){return typeof Hf>"u"&&(Hf=function(){var t;const n={stencil:!0,failIfMajorPerformanceCaveat:yt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!yt.ADAPTER.getWebGLRenderingContext())return!1;const e=yt.ADAPTER.createCanvas();let s=e.getContext("webgl",n)||e.getContext("experimental-webgl",n);const l=!!((t=s==null?void 0:s.getContextAttributes())!=null&&t.stencil);if(s){const o=s.getExtension("WEBGL_lose_context");o&&o.loseContext()}return s=null,l}catch{return!1}}()),Hf}var LE={grad:.9,turn:360,rad:360/(2*Math.PI)},Tr=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Ce=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*n)/e+0},bi=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),n>e?e:n>t?n:t},s_=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Zv=function(n){return{r:bi(n.r,0,255),g:bi(n.g,0,255),b:bi(n.b,0,255),a:bi(n.a)}},kf=function(n){return{r:Ce(n.r),g:Ce(n.g),b:Ce(n.b),a:Ce(n.a,3)}},FE=/^#([0-9a-f]{3,8})$/i,Bo=function(n){var t=n.toString(16);return t.length<2?"0"+t:t},n_=function(n){var t=n.r,e=n.g,s=n.b,l=n.a,o=Math.max(t,e,s),h=o-Math.min(t,e,s),c=h?o===t?(e-s)/h:o===e?2+(s-t)/h:4+(t-e)/h:0;return{h:60*(c<0?c+6:c),s:o?h/o*100:0,v:o/255*100,a:l}},a_=function(n){var t=n.h,e=n.s,s=n.v,l=n.a;t=t/360*6,e/=100,s/=100;var o=Math.floor(t),h=s*(1-e),c=s*(1-(t-o)*e),d=s*(1-(1-t+o)*e),p=o%6;return{r:255*[s,c,h,h,d,s][p],g:255*[d,s,s,c,h,h][p],b:255*[h,h,d,s,s,c][p],a:l}},Kv=function(n){return{h:s_(n.h),s:bi(n.s,0,100),l:bi(n.l,0,100),a:bi(n.a)}},Qv=function(n){return{h:Ce(n.h),s:Ce(n.s),l:Ce(n.l),a:Ce(n.a,3)}},Jv=function(n){return a_((e=(t=n).s,{h:t.h,s:(e*=((s=t.l)<50?s:100-s)/100)>0?2*e/(s+e)*100:0,v:s+e,a:t.a}));var t,e,s},dl=function(n){return{h:(t=n_(n)).h,s:(l=(200-(e=t.s))*(s=t.v)/100)>0&&l<200?e*s/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,e,s,l},GE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,HE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,kE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fd={string:[[function(n){var t=FE.exec(n);return t?(n=t[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Ce(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Ce(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var t=kE.exec(n)||zE.exec(n);return t?t[2]!==t[4]||t[4]!==t[6]?null:Zv({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(n){var t=GE.exec(n)||HE.exec(n);if(!t)return null;var e,s,l=Kv({h:(e=t[1],s=t[2],s===void 0&&(s="deg"),Number(e)*(LE[s]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Jv(l)},"hsl"]],object:[[function(n){var t=n.r,e=n.g,s=n.b,l=n.a,o=l===void 0?1:l;return Tr(t)&&Tr(e)&&Tr(s)?Zv({r:Number(t),g:Number(e),b:Number(s),a:Number(o)}):null},"rgb"],[function(n){var t=n.h,e=n.s,s=n.l,l=n.a,o=l===void 0?1:l;if(!Tr(t)||!Tr(e)||!Tr(s))return null;var h=Kv({h:Number(t),s:Number(e),l:Number(s),a:Number(o)});return Jv(h)},"hsl"],[function(n){var t=n.h,e=n.s,s=n.v,l=n.a,o=l===void 0?1:l;if(!Tr(t)||!Tr(e)||!Tr(s))return null;var h=function(c){return{h:s_(c.h),s:bi(c.s,0,100),v:bi(c.v,0,100),a:bi(c.a)}}({h:Number(t),s:Number(e),v:Number(s),a:Number(o)});return a_(h)},"hsv"]]},t0=function(n,t){for(var e=0;e<t.length;e++){var s=t[e][0](n);if(s)return[s,t[e][1]]}return[null,void 0]},XE=function(n){return typeof n=="string"?t0(n.trim(),fd.string):typeof n=="object"&&n!==null?t0(n,fd.object):[null,void 0]},zf=function(n,t){var e=dl(n);return{h:e.h,s:bi(e.s+100*t,0,100),l:e.l,a:e.a}},Xf=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},e0=function(n,t){var e=dl(n);return{h:e.h,s:e.s,l:bi(e.l+100*t,0,100),a:e.a}},dd=function(){function n(t){this.parsed=XE(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Ce(Xf(this.rgba),2)},n.prototype.isDark=function(){return Xf(this.rgba)<.5},n.prototype.isLight=function(){return Xf(this.rgba)>=.5},n.prototype.toHex=function(){return t=kf(this.rgba),e=t.r,s=t.g,l=t.b,h=(o=t.a)<1?Bo(Ce(255*o)):"","#"+Bo(e)+Bo(s)+Bo(l)+h;var t,e,s,l,o,h},n.prototype.toRgb=function(){return kf(this.rgba)},n.prototype.toRgbString=function(){return t=kf(this.rgba),e=t.r,s=t.g,l=t.b,(o=t.a)<1?"rgba("+e+", "+s+", "+l+", "+o+")":"rgb("+e+", "+s+", "+l+")";var t,e,s,l,o},n.prototype.toHsl=function(){return Qv(dl(this.rgba))},n.prototype.toHslString=function(){return t=Qv(dl(this.rgba)),e=t.h,s=t.s,l=t.l,(o=t.a)<1?"hsla("+e+", "+s+"%, "+l+"%, "+o+")":"hsl("+e+", "+s+"%, "+l+"%)";var t,e,s,l,o},n.prototype.toHsv=function(){return t=n_(this.rgba),{h:Ce(t.h),s:Ce(t.s),v:Ce(t.v),a:Ce(t.a,3)};var t},n.prototype.invert=function(){return zi({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},n.prototype.saturate=function(t){return t===void 0&&(t=.1),zi(zf(this.rgba,t))},n.prototype.desaturate=function(t){return t===void 0&&(t=.1),zi(zf(this.rgba,-t))},n.prototype.grayscale=function(){return zi(zf(this.rgba,-1))},n.prototype.lighten=function(t){return t===void 0&&(t=.1),zi(e0(this.rgba,t))},n.prototype.darken=function(t){return t===void 0&&(t=.1),zi(e0(this.rgba,-t))},n.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},n.prototype.alpha=function(t){return typeof t=="number"?zi({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):Ce(this.rgba.a,3);var e},n.prototype.hue=function(t){var e=dl(this.rgba);return typeof t=="number"?zi({h:t,s:e.s,l:e.l,a:e.a}):Ce(e.h)},n.prototype.isEqual=function(t){return this.toHex()===zi(t).toHex()},n}(),zi=function(n){return n instanceof dd?n:new dd(n)},i0=[],VE=function(n){n.forEach(function(t){i0.indexOf(t)<0&&(t(dd,fd),i0.push(t))})};function jE(n,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var l in e)s[e[l]]=l;var o={};n.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,d,p=s[this.toHex()];if(p)return p;if(h!=null&&h.closest){var g=this.toRgb(),y=1/0,_="black";if(!o.length)for(var v in e)o[v]=new n(e[v]).toRgb();for(var b in e){var A=(c=g,d=o[b],Math.pow(c.r-d.r,2)+Math.pow(c.g-d.g,2)+Math.pow(c.b-d.b,2));A<y&&(y=A,_=b)}return _}},t.string.push([function(h){var c=h.toLowerCase(),d=c==="transparent"?"#0000":e[c];return d?new n(d).toRgb():null},"name"])}VE([jE]);const zn=class Ko{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Ko)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const s=typeof t;if(s!==typeof e)return!1;if(s==="number"||s==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((l,o)=>l===e[o]);if(t!==null&&e!==null){const l=Object.keys(t),o=Object.keys(e);return l.length!==o.length?!1:l.every(h=>t[h]===e[h])}return t===e}toRgba(){const[t,e,s,l]=this._components;return{r:t,g:e,b:s,a:l}}toRgb(){const[t,e,s]=this._components;return{r:t,g:e,b:s}}toRgbaString(){const[t,e,s]=this.toUint8RgbArray();return`rgba(${t},${e},${s},${this.alpha})`}toUint8RgbArray(t){const[e,s,l]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(s*255),t[2]=Math.round(l*255),t}toRgbArray(t){t=t??[];const[e,s,l]=this._components;return t[0]=e,t[1]=s,t[2]=l,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,s,l,o]=Ko.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=s,this._components[2]*=l,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let s=this._int>>16&255,l=this._int>>8&255,o=this._int&255;return e&&(s=s*t+.5|0,l=l*t+.5|0,o=o*t+.5|0),(t*255<<24)+(s<<16)+(l<<8)+o}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,s,l]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(s*t)/t,this._components[2]=Math.round(l*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,s,l,o]=this._components;return t[0]=e,t[1]=s,t[2]=l,t[3]=o,t}normalize(t){let e,s,l,o;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;e=(h>>16&255)/255,s=(h>>8&255)/255,l=(h&255)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,s,l,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,s,l,o=255]=t,e/=255,s/=255,l/=255,o/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const c=Ko.HEX_PATTERN.exec(t);c&&(t=`#${c[2]}`)}const h=zi(t);h.isValid()&&({r:e,g:s,b:l,a:o}=h.rgba,e/=255,s/=255,l/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=s,this._components[2]=l,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,s]=this._components;this._int=(t*255<<16)+(e*255<<8)+(s*255|0)}_clamp(t,e=0,s=1){return typeof t=="number"?Math.min(Math.max(t,e),s):(t.forEach((l,o)=>{t[o]=Math.min(Math.max(l,e),s)}),t)}};zn.shared=new zn,zn.temp=new zn,zn.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ie=zn;function YE(n){return kt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),ie.shared.setValue(n).toHex()}function qE(n){return kt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),ie.shared.setValue(n).toNumber()}function $E(){const n=[],t=[];for(let s=0;s<32;s++)n[s]=s,t[s]=s;n[Mt.NORMAL_NPM]=Mt.NORMAL,n[Mt.ADD_NPM]=Mt.ADD,n[Mt.SCREEN_NPM]=Mt.SCREEN,t[Mt.NORMAL]=Mt.NORMAL_NPM,t[Mt.ADD]=Mt.ADD_NPM,t[Mt.SCREEN]=Mt.SCREEN_NPM;const e=[];return e.push(t),e.push(n),e}const l_=$E();function o_(n,t){return l_[t?1:0][n]}function WE(n,t=null){const e=n*6;if(t=t||new Uint16Array(e),t.length!==e)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${e}`);for(let s=0,l=0;s<e;s+=6,l+=4)t[s+0]=l+0,t[s+1]=l+1,t[s+2]=l+2,t[s+3]=l+0,t[s+4]=l+2,t[s+5]=l+3;return t}function u_(n){if(n.BYTES_PER_ELEMENT===4)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(n.BYTES_PER_ELEMENT===2){if(n instanceof Uint16Array)return"Uint16Array"}else if(n.BYTES_PER_ELEMENT===1&&n instanceof Uint8Array)return"Uint8Array";return null}function au(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function r0(n){return!(n&n-1)&&!!n}function s0(n){let t=(n>65535?1:0)<<4;n>>>=t;let e=(n>255?1:0)<<3;return n>>>=e,t|=e,e=(n>15?1:0)<<2,n>>>=e,t|=e,e=(n>3?1:0)<<1,n>>>=e,t|=e,t|n>>1}function Zn(n,t,e){const s=n.length;let l;if(t>=s||e===0)return;e=t+e>s?s-t:e;const o=s-e;for(l=t;l<o;++l)n[l]=n[l+e];n.length=o}function ls(n){return n===0?0:n<0?-1:1}let ZE=0;function $s(){return++ZE}const pd=class{constructor(n,t,e,s){this.left=n,this.top=t,this.right=e,this.bottom=s}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};pd.EMPTY=new pd(0,0,0,0);let n0=pd;const a0={},Xi=Object.create(null),is=Object.create(null);class KE{constructor(t,e,s){this._canvas=yt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=s||yt.RESOLUTION,this.resize(t,e)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,e){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(e*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function l0(n,t,e){for(let s=0,l=4*e*t;s<t;++s,l+=4)if(n[l+3]!==0)return!1;return!0}function o0(n,t,e,s,l){const o=4*t;for(let h=s,c=s*o+4*e;h<=l;++h,c+=o)if(n[c+3]!==0)return!1;return!0}function QE(n){const{width:t,height:e}=n,s=n.getContext("2d",{willReadFrequently:!0});if(s===null)throw new TypeError("Failed to get canvas 2D context");const l=s.getImageData(0,0,t,e).data;let o=0,h=0,c=t-1,d=e-1;for(;h<e&&l0(l,t,h);)++h;if(h===e)return n0.EMPTY;for(;l0(l,t,d);)--d;for(;o0(l,t,o,h,d);)++o;for(;o0(l,t,c,h,d);)--c;return++c,++d,new n0(o,h,c,d)}function JE(n){const t=QE(n),{width:e,height:s}=t;let l=null;if(!t.isEmpty()){const o=n.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");l=o.getImageData(t.left,t.top,e,s)}return{width:e,height:s,data:l}}function tT(n,t=globalThis.location){if(n.startsWith("data:"))return"";t=t||globalThis.location;const e=new URL(n,document.baseURI);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function Cr(n,t=1){var s;const e=(s=yt.RETINA_PREFIX)==null?void 0:s.exec(n);return e?parseFloat(e[1]):t}var pt=(n=>(n.Renderer="renderer",n.Application="application",n.RendererSystem="renderer-webgl-system",n.RendererPlugin="renderer-webgl-plugin",n.CanvasRendererSystem="renderer-canvas-system",n.CanvasRendererPlugin="renderer-canvas-plugin",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n))(pt||{});const md=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},u0=(n,t)=>md(n).priority??t,Tt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(md).forEach(t=>{t.type.forEach(e=>{var s,l;return(l=(s=this._removeHandlers)[e])==null?void 0:l.call(s,t)})}),this},add(...n){return n.map(md).forEach(t=>{t.type.forEach(e=>{var o,h;const s=this._addHandlers,l=this._queue;s[e]?(o=s[e])==null||o.call(s,t):(l[e]=l[e]||[],(h=l[e])==null||h.push(t))})}),this},handle(n,t,e){var h;const s=this._addHandlers,l=this._removeHandlers;if(s[n]||l[n])throw new Error(`Extension type ${n} already has a handler`);s[n]=t,l[n]=e;const o=this._queue;return o[n]&&((h=o[n])==null||h.forEach(c=>t(c)),delete o[n]),this},handleByMap(n,t){return this.handle(n,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(n,t,e=-1){return this.handle(n,s=>{t.includes(s.ref)||(t.push(s.ref),t.sort((l,o)=>u0(o,e)-u0(l,e)))},s=>{const l=t.indexOf(s.ref);l!==-1&&t.splice(l,1)})}};class gd{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const eT=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function iT(n){let t="";for(let e=0;e<n;++e)e>0&&(t+=`
else `),e<n-1&&(t+=`if(test == ${e}.0){}`);return t}function rT(n,t){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);for(;;){const s=eT.replace(/%forloop%/gi,iT(n));if(t.shaderSource(e,s),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))n=n/2|0;else break}return n}const Vf=0,jf=1,Yf=2,qf=3,$f=4,Wf=5;class tr{constructor(){this.data=0,this.blendMode=Mt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Vf)}set blend(t){!!(this.data&1<<Vf)!==t&&(this.data^=1<<Vf)}get offsets(){return!!(this.data&1<<jf)}set offsets(t){!!(this.data&1<<jf)!==t&&(this.data^=1<<jf)}get culling(){return!!(this.data&1<<Yf)}set culling(t){!!(this.data&1<<Yf)!==t&&(this.data^=1<<Yf)}get depthTest(){return!!(this.data&1<<qf)}set depthTest(t){!!(this.data&1<<qf)!==t&&(this.data^=1<<qf)}get depthMask(){return!!(this.data&1<<Wf)}set depthMask(t){!!(this.data&1<<Wf)!==t&&(this.data^=1<<Wf)}get clockwiseFrontFace(){return!!(this.data&1<<$f)}set clockwiseFrontFace(t){!!(this.data&1<<$f)!==t&&(this.data^=1<<$f)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==Mt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new tr;return t.depthTest=!1,t.blend=!0,t}}tr.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const yd=[];function h_(n,t){if(!n)return null;let e="";if(typeof n=="string"){const s=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);s&&(e=s[1].toLowerCase())}for(let s=yd.length-1;s>=0;--s){const l=yd[s];if(l.test&&l.test(n,e))return new l(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class Bi{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,e,s,l,o,h,c,d){if(arguments.length>8)throw new Error("max arguments reached");const{name:p,items:g}=this;this._aliasCount++;for(let y=0,_=g.length;y<_;y++)g[y][p](t,e,s,l,o,h,c,d);return g===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Bi.prototype,{dispatch:{value:Bi.prototype.emit},run:{value:Bi.prototype.emit}});class pl{constructor(t=0,e=0){this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Bi("setRealSize"),this.onUpdate=new Bi("update"),this.onError=new Bi("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,e,s){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,e){return!1}}class Tu extends pl{constructor(t,e){const{width:s,height:l}=e||{};if(!s||!l)throw new Error("BufferResource width or height invalid");super(s,l),this.data=t,this.unpackAlignment=e.unpackAlignment??4}upload(t,e,s){const l=t.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,this.unpackAlignment),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===Ze.UNPACK);const o=e.realWidth,h=e.realHeight;return s.width===o&&s.height===h?l.texSubImage2D(e.target,0,0,0,o,h,e.format,s.type,this.data):(s.width=o,s.height=h,l.texImage2D(e.target,0,s.internalFormat,o,h,0,e.format,s.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const sT={scaleMode:Ar.NEAREST,alphaMode:Ze.NPM},vd=class Xn extends ml{constructor(t=null,e=null){super(),e=Object.assign({},Xn.defaultOptions,e);const{alphaMode:s,mipmap:l,anisotropicLevel:o,scaleMode:h,width:c,height:d,wrapMode:p,format:g,type:y,target:_,resolution:v,resourceOptions:b}=e;t&&!(t instanceof pl)&&(t=h_(t,b),t.internal=!0),this.resolution=v||yt.RESOLUTION,this.width=Math.round((c||0)*this.resolution)/this.resolution,this.height=Math.round((d||0)*this.resolution)/this.resolution,this._mipmap=l,this.anisotropicLevel=o,this._wrapMode=p,this._scaleMode=h,this.format=g,this.type=y,this.target=_,this.alphaMode=s,this.uid=$s(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=c>0&&d>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let s;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,s=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,s=!0),s&&this.dirtyStyleId++,this}setSize(t,e,s){return s=s||this.resolution,this.setRealSize(t*s,e*s,s)}setRealSize(t,e,s){return this.resolution=s||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=r0(this.realWidth)&&r0(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete is[this.cacheId],delete Xi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Xn.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,s=yt.STRICT_TEXTURE_CACHE){const l=typeof t=="string";let o=null;if(l)o=t;else{if(!t._pixiId){const c=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${c}_${$s()}`}o=t._pixiId}let h=is[o];if(l&&s&&!h)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return h||(h=new Xn(t,e),h.cacheId=o,Xn.addToCache(h,o)),h}static fromBuffer(t,e,s,l){t=t||new Float32Array(e*s*4);const o=new Tu(t,{width:e,height:s,...l==null?void 0:l.resourceOptions});let h,c;return t instanceof Float32Array?(h=ct.RGBA,c=wt.FLOAT):t instanceof Int32Array?(h=ct.RGBA_INTEGER,c=wt.INT):t instanceof Uint32Array?(h=ct.RGBA_INTEGER,c=wt.UNSIGNED_INT):t instanceof Int16Array?(h=ct.RGBA_INTEGER,c=wt.SHORT):t instanceof Uint16Array?(h=ct.RGBA_INTEGER,c=wt.UNSIGNED_SHORT):t instanceof Int8Array?(h=ct.RGBA,c=wt.BYTE):(h=ct.RGBA,c=wt.UNSIGNED_BYTE),o.internal=!0,new Xn(o,Object.assign({},sT,{type:c,format:h},l))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),is[e]&&is[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),is[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=is[t];if(e){const s=e.textureCacheIds.indexOf(t);return s>-1&&e.textureCacheIds.splice(s,1),delete is[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete is[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};vd.defaultOptions={mipmap:Qi.POW2,anisotropicLevel:0,scaleMode:Ar.LINEAR,wrapMode:us.CLAMP,alphaMode:Ze.UNPACK,target:Wn.TEXTURE_2D,format:ct.RGBA,type:wt.UNSIGNED_BYTE},vd._globalBatch=0;let It=vd;class _d{constructor(){this.texArray=null,this.blend=0,this.type=$i.TRIANGLES,this.start=0,this.size=0,this.data=null}}let nT=0;class de{constructor(t,e=!0,s=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=s,this.static=e,this.id=nT++,this.disposeRunner=new Bi("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?Zi.ELEMENT_ARRAY_BUFFER:Zi.ARRAY_BUFFER}get index(){return this.type===Zi.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new de(t)}}class lu{constructor(t,e=0,s=!1,l=wt.FLOAT,o,h,c,d=1){this.buffer=t,this.size=e,this.normalized=s,this.type=l,this.stride=o,this.start=h,this.instance=c,this.divisor=d}destroy(){this.buffer=null}static from(t,e,s,l,o){return new lu(t,e,s,l,o)}}const aT={Float32Array,Uint32Array,Int32Array,Uint8Array};function lT(n,t){let e=0,s=0;const l={};for(let d=0;d<n.length;d++)s+=t[d],e+=n[d].length;const o=new ArrayBuffer(e*4);let h=null,c=0;for(let d=0;d<n.length;d++){const p=t[d],g=n[d],y=u_(g);l[y]||(l[y]=new aT[y](o)),h=l[y];for(let _=0;_<g.length;_++){const v=(_/p|0)*s+c,b=_%p;h[v+b]=g[_]}c+=p}return new Float32Array(o)}const h0={5126:4,5123:2,5121:1};let oT=0;const uT={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class hs{constructor(t=[],e={}){this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=oT++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Bi("disposeGeometry"),this.refCount=0}addAttribute(t,e,s=0,l=!1,o,h,c,d=!1){if(!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof de||(e instanceof Array&&(e=new Float32Array(e)),e=new de(e));const p=t.split("|");if(p.length>1){for(let y=0;y<p.length;y++)this.addAttribute(p[y],e,s,l,o);return this}let g=this.buffers.indexOf(e);return g===-1&&(this.buffers.push(e),g=this.buffers.length-1),this.attributes[t]=new lu(g,s,l,o,h,c,d),this.instanced=this.instanced||d,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof de||(t instanceof Array&&(t=new Uint16Array(t)),t=new de(t)),t.type=Zi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],e=[],s=new de;let l;for(l in this.attributes){const o=this.attributes[l],h=this.buffers[o.buffer];t.push(h.data),e.push(o.size*h0[o.type]/4),o.buffer=0}for(s.data=lT(t,e),l=0;l<this.buffers.length;l++)this.buffers[l]!==this.indexBuffer&&this.buffers[l].destroy();return this.buffers=[s],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new hs;for(let e=0;e<this.buffers.length;e++)t.buffers[e]=new de(this.buffers[e].data.slice(0));for(const e in this.attributes){const s=this.attributes[e];t.attributes[e]=new lu(s.buffer,s.size,s.normalized,s.type,s.stride,s.start,s.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Zi.ELEMENT_ARRAY_BUFFER),t}static merge(t){const e=new hs,s=[],l=[],o=[];let h;for(let c=0;c<t.length;c++){h=t[c];for(let d=0;d<h.buffers.length;d++)l[d]=l[d]||0,l[d]+=h.buffers[d].data.length,o[d]=0}for(let c=0;c<h.buffers.length;c++)s[c]=new uT[u_(h.buffers[c].data)](l[c]),e.buffers[c]=new de(s[c]);for(let c=0;c<t.length;c++){h=t[c];for(let d=0;d<h.buffers.length;d++)s[d].set(h.buffers[d].data,o[d]),o[d]+=h.buffers[d].data.length}if(e.attributes=h.attributes,h.indexBuffer){e.indexBuffer=e.buffers[h.buffers.indexOf(h.indexBuffer)],e.indexBuffer.type=Zi.ELEMENT_ARRAY_BUFFER;let c=0,d=0,p=0,g=0;for(let y=0;y<h.buffers.length;y++)if(h.buffers[y]!==h.indexBuffer){g=y;break}for(const y in h.attributes){const _=h.attributes[y];(_.buffer|0)===g&&(d+=_.size*h0[_.type]/4)}for(let y=0;y<t.length;y++){const _=t[y].indexBuffer.data;for(let v=0;v<_.length;v++)e.indexBuffer.data[v+p]+=c;c+=t[y].buffers[g].data.length/d,p+=_.length}}return e}}class c_ extends hs{constructor(t=!1){super(),this._buffer=new de(null,t,!1),this._indexBuffer=new de(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,wt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,wt.FLOAT).addAttribute("aColor",this._buffer,4,!0,wt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,wt.FLOAT).addIndex(this._indexBuffer)}}const ou=Math.PI*2,hT=180/Math.PI,cT=Math.PI/180;var Pe=(n=>(n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",n))(Pe||{});class Gt{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new Gt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}}Gt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Io=[new Gt,new Gt,new Gt,new Gt];class Nt{constructor(t=0,e=0,s=0,l=0){this.x=Number(t),this.y=Number(e),this.width=Number(s),this.height=Number(l),this.type=Pe.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Nt(0,0,0,0)}clone(){return new Nt(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}intersects(t,e){if(!e){const X=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=X)return!1;const V=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>V}const s=this.left,l=this.right,o=this.top,h=this.bottom;if(l<=s||h<=o)return!1;const c=Io[0].set(t.left,t.top),d=Io[1].set(t.left,t.bottom),p=Io[2].set(t.right,t.top),g=Io[3].set(t.right,t.bottom);if(p.x<=c.x||d.y<=c.y)return!1;const y=Math.sign(e.a*e.d-e.b*e.c);if(y===0||(e.apply(c,c),e.apply(d,d),e.apply(p,p),e.apply(g,g),Math.max(c.x,d.x,p.x,g.x)<=s||Math.min(c.x,d.x,p.x,g.x)>=l||Math.max(c.y,d.y,p.y,g.y)<=o||Math.min(c.y,d.y,p.y,g.y)>=h))return!1;const _=y*(d.y-c.y),v=y*(c.x-d.x),b=_*s+v*o,A=_*l+v*o,T=_*s+v*h,C=_*l+v*h;if(Math.max(b,A,T,C)<=_*c.x+v*c.y||Math.min(b,A,T,C)>=_*g.x+v*g.y)return!1;const N=y*(c.y-p.y),M=y*(p.x-c.x),P=N*s+M*o,D=N*l+M*o,q=N*s+M*h,B=N*l+M*h;return!(Math.max(P,D,q,B)<=N*c.x+M*c.y||Math.min(P,D,q,B)>=N*g.x+M*g.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),s=Math.min(this.x+this.width,t.x+t.width),l=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(s-e,0),this.y=l,this.height=Math.max(o-l,0),this}ceil(t=1,e=.001){const s=Math.ceil((this.x+this.width-e)*t)/t,l=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=s-this.x,this.height=l-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),s=Math.max(this.x+this.width,t.x+t.width),l=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=s-e,this.y=l,this.height=o-l,this}}Nt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Au{constructor(t=0,e=0,s=0){this.x=t,this.y=e,this.radius=s,this.type=Pe.CIRC}clone(){return new Au(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const s=this.radius*this.radius;let l=this.x-t,o=this.y-e;return l*=l,o*=o,l+o<=s}getBounds(){return new Nt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Au.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Su{constructor(t=0,e=0,s=0,l=0){this.x=t,this.y=e,this.width=s,this.height=l,this.type=Pe.ELIP}clone(){return new Su(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;let s=(t-this.x)/this.width,l=(e-this.y)/this.height;return s*=s,l*=l,s+l<=1}getBounds(){return new Nt(this.x-this.width,this.y-this.height,this.width,this.height)}}Su.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Ys{constructor(...t){let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const s=[];for(let l=0,o=e.length;l<o;l++)s.push(e[l].x,e[l].y);e=s}this.points=e,this.type=Pe.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),e=new Ys(t);return e.closeStroke=this.closeStroke,e}contains(t,e){let s=!1;const l=this.points.length/2;for(let o=0,h=l-1;o<l;h=o++){const c=this.points[o*2],d=this.points[o*2+1],p=this.points[h*2],g=this.points[h*2+1];d>e!=g>e&&t<(p-c)*((e-d)/(g-d))+c&&(s=!s)}return s}}Ys.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((n,t)=>`${n}, ${t}`,"")}]`};class wu{constructor(t=0,e=0,s=0,l=0,o=20){this.x=t,this.y=e,this.width=s,this.height=l,this.radius=o,this.type=Pe.RREC}clone(){return new wu(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+s&&e<=this.y+this.height-s||t>=this.x+s&&t<=this.x+this.width-s)return!0;let l=t-(this.x+s),o=e-(this.y+s);const h=s*s;if(l*l+o*o<=h||(l=t-(this.x+this.width-s),l*l+o*o<=h)||(o=e-(this.y+this.height-s),l*l+o*o<=h)||(l=t-(this.x+s),l*l+o*o<=h))return!0}return!1}}wu.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class re{constructor(t=1,e=0,s=0,l=1,o=0,h=0){this.array=null,this.a=t,this.b=e,this.c=s,this.d=l,this.tx=o,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,s,l,o,h){return this.a=t,this.b=e,this.c=s,this.d=l,this.tx=o,this.ty=h,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const s=e||this.array;return t?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(t,e){e=e||new Gt;const s=t.x,l=t.y;return e.x=this.a*s+this.c*l+this.tx,e.y=this.b*s+this.d*l+this.ty,e}applyInverse(t,e){e=e||new Gt;const s=1/(this.a*this.d+this.c*-this.b),l=t.x,o=t.y;return e.x=this.d*s*l+-this.c*s*o+(this.ty*this.c-this.tx*this.d)*s,e.y=this.a*s*o+-this.b*s*l+(-this.ty*this.a+this.tx*this.b)*s,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),s=Math.sin(t),l=this.a,o=this.c,h=this.tx;return this.a=l*e-this.b*s,this.b=l*s+this.b*e,this.c=o*e-this.d*s,this.d=o*s+this.d*e,this.tx=h*e-this.ty*s,this.ty=h*s+this.ty*e,this}append(t){const e=this.a,s=this.b,l=this.c,o=this.d;return this.a=t.a*e+t.b*l,this.b=t.a*s+t.b*o,this.c=t.c*e+t.d*l,this.d=t.c*s+t.d*o,this.tx=t.tx*e+t.ty*l+this.tx,this.ty=t.tx*s+t.ty*o+this.ty,this}setTransform(t,e,s,l,o,h,c,d,p){return this.a=Math.cos(c+p)*o,this.b=Math.sin(c+p)*o,this.c=-Math.sin(c-d)*h,this.d=Math.cos(c-d)*h,this.tx=t-(s*this.a+l*this.c),this.ty=e-(s*this.b+l*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const s=this.a,l=this.c;this.a=s*t.a+this.b*t.c,this.b=s*t.b+this.b*t.d,this.c=l*t.a+this.d*t.c,this.d=l*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,s=this.b,l=this.c,o=this.d,h=t.pivot,c=-Math.atan2(-l,o),d=Math.atan2(s,e),p=Math.abs(c+d);return p<1e-5||Math.abs(ou-p)<1e-5?(t.rotation=d,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=c,t.skew.y=d),t.scale.x=Math.sqrt(e*e+s*s),t.scale.y=Math.sqrt(l*l+o*o),t.position.x=this.tx+(h.x*e+h.y*l),t.position.y=this.ty+(h.x*s+h.y*o),t}invert(){const t=this.a,e=this.b,s=this.c,l=this.d,o=this.tx,h=t*l-e*s;return this.a=l/h,this.b=-e/h,this.c=-s/h,this.d=t/h,this.tx=(s*this.ty-l*o)/h,this.ty=-(t*this.ty-e*o)/h,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new re;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new re}static get TEMP_MATRIX(){return new re}}re.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Gs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Hs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ks=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],zs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],xd=[],f_=[],No=Math.sign;function fT(){for(let n=0;n<16;n++){const t=[];xd.push(t);for(let e=0;e<16;e++){const s=No(Gs[n]*Gs[e]+ks[n]*Hs[e]),l=No(Hs[n]*Gs[e]+zs[n]*Hs[e]),o=No(Gs[n]*ks[e]+ks[n]*zs[e]),h=No(Hs[n]*ks[e]+zs[n]*zs[e]);for(let c=0;c<16;c++)if(Gs[c]===s&&Hs[c]===l&&ks[c]===o&&zs[c]===h){t.push(c);break}}}for(let n=0;n<16;n++){const t=new re;t.set(Gs[n],Hs[n],ks[n],zs[n],0,0),f_.push(t)}}fT();const le={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>Gs[n],uY:n=>Hs[n],vX:n=>ks[n],vY:n=>zs[n],inv:n=>n&8?n&15:-n&7,add:(n,t)=>xd[n][t],sub:(n,t)=>xd[n][le.inv(t)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,t)=>Math.abs(n)*2<=Math.abs(t)?t>=0?le.S:le.N:Math.abs(t)*2<=Math.abs(n)?n>0?le.E:le.W:t>0?n>0?le.SE:le.SW:n>0?le.NE:le.NW,matrixAppendRotationInv:(n,t,e=0,s=0)=>{const l=f_[le.inv(t)];l.tx=e,l.ty=s,n.append(l)}};class wr{constructor(t,e,s=0,l=0){this._x=s,this._y=l,this.cb=t,this.scope=e}clone(t=this.cb,e=this.scope){return new wr(t,e,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}wr.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const bd=class{constructor(){this.worldTransform=new re,this.localTransform=new re,this.position=new wr(this.onChange,this,0,0),this.scale=new wr(this.onChange,this,1,1),this.pivot=new wr(this.onChange,this,0,0),this.skew=new wr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(n){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==n._worldID){const e=n.worldTransform,s=this.worldTransform;s.a=t.a*e.a+t.b*e.c,s.b=t.a*e.b+t.b*e.d,s.c=t.c*e.a+t.d*e.c,s.d=t.c*e.b+t.d*e.d,s.tx=t.tx*e.a+t.ty*e.c+e.tx,s.ty=t.tx*e.b+t.ty*e.d+e.ty,this._parentID=n._worldID,this._worldID++}}setFromMatrix(n){n.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(n){this._rotation!==n&&(this._rotation=n,this.updateSkew())}};bd.IDENTITY=new bd;let Jd=bd;Jd.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var dT=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,pT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function c0(n,t,e){const s=n.createShader(t);return n.shaderSource(s,e),n.compileShader(s),s}function Zf(n){const t=new Array(n);for(let e=0;e<t.length;e++)t[e]=!1;return t}function d_(n,t){switch(n){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Zf(2*t);case"bvec3":return Zf(3*t);case"bvec4":return Zf(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Kn=[{test:n=>n.type==="float"&&n.size===1&&!n.isArray,code:n=>`
            if(uv["${n}"] !== ud["${n}"].value)
            {
                ud["${n}"].value = uv["${n}"]
                gl.uniform1f(ud["${n}"].location, uv["${n}"])
            }
            `},{test:(n,t)=>(n.type==="sampler2D"||n.type==="samplerCube"||n.type==="sampler2DArray")&&n.size===1&&!n.isArray&&(t==null||t.castToBaseTexture!==void 0),code:n=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${n}"], t);

            if(ud["${n}"].value !== t)
            {
                ud["${n}"].value = t;
                gl.uniform1i(ud["${n}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(n,t)=>n.type==="mat3"&&n.size===1&&!n.isArray&&t.a!==void 0,code:n=>`
            gl.uniformMatrix3fv(ud["${n}"].location, false, uv["${n}"].toArray(true));
            `,codeUbo:n=>`
                var ${n}_matrix = uv.${n}.toArray(true);

                data[offset] = ${n}_matrix[0];
                data[offset+1] = ${n}_matrix[1];
                data[offset+2] = ${n}_matrix[2];
        
                data[offset + 4] = ${n}_matrix[3];
                data[offset + 5] = ${n}_matrix[4];
                data[offset + 6] = ${n}_matrix[5];
        
                data[offset + 8] = ${n}_matrix[6];
                data[offset + 9] = ${n}_matrix[7];
                data[offset + 10] = ${n}_matrix[8];
            `},{test:(n,t)=>n.type==="vec2"&&n.size===1&&!n.isArray&&t.x!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${n}"].location, v.x, v.y);
                }`,codeUbo:n=>`
                v = uv.${n};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:n=>n.type==="vec2"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${n}"].location, v[0], v[1]);
                }
            `},{test:(n,t)=>n.type==="vec4"&&n.size===1&&!n.isArray&&t.width!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${n}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(n,t)=>n.type==="vec4"&&n.size===1&&!n.isArray&&t.red!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${n}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(n,t)=>n.type==="vec3"&&n.size===1&&!n.isArray&&t.red!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${n}"].location, v.red, v.green, v.blue)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:n=>n.type==="vec4"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${n}"].location, v[0], v[1], v[2], v[3])
                }`}],mT={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},gT={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function yT(n,t){var s;const e=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const l in n.uniforms){const o=t[l];if(!o){((s=n.uniforms[l])==null?void 0:s.group)===!0&&(n.uniforms[l].ubo?e.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${l}, '${l}');
                    `):e.push(`
                        renderer.shader.syncUniformGroup(uv.${l}, syncData);
                    `));continue}const h=n.uniforms[l];let c=!1;for(let d=0;d<Kn.length;d++)if(Kn[d].test(o,h)){e.push(Kn[d].code(l,h)),c=!0;break}if(!c){const d=(o.size===1&&!o.isArray?mT:gT)[o.type].replace("location",`ud["${l}"].location`);e.push(`
            cu = ud["${l}"];
            cv = cu.value;
            v = uv["${l}"];
            ${d};`)}}return new Function("ud","uv","renderer","syncData",e.join(`
`))}const p_={};let Hn=p_;function vT(){if(Hn===p_||Hn!=null&&Hn.isContextLost()){const n=yt.ADAPTER.createCanvas();let t;yt.PREFER_ENV>=Zs.WEBGL2&&(t=n.getContext("webgl2",{})),t||(t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Hn=t}return Hn}let Uo;function _T(){if(!Uo){Uo=xi.MEDIUM;const n=vT();if(n&&n.getShaderPrecisionFormat){const t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);t&&(Uo=t.precision?xi.HIGH:xi.MEDIUM)}}return Uo}function f0(n,t){const e=n.getShaderSource(t).split(`
`).map((p,g)=>`${g}: ${p}`),s=n.getShaderInfoLog(t),l=s.split(`
`),o={},h=l.map(p=>parseFloat(p.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(p=>p&&!o[p]?(o[p]=!0,!0):!1),c=[""];h.forEach(p=>{e[p-1]=`%c${e[p-1]}%c`,c.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const d=e.join(`
`);c[0]=d,console.error(s),console.groupCollapsed("click to view full shader code"),console.warn(...c),console.groupEnd()}function xT(n,t,e,s){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||f0(n,e),n.getShaderParameter(s,n.COMPILE_STATUS)||f0(n,s),console.error("PixiJS Error: Could not initialize shader."),n.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}const bT={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function m_(n){return bT[n]}let Po=null;const d0={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function g_(n,t){if(!Po){const e=Object.keys(d0);Po={};for(let s=0;s<e.length;++s){const l=e[s];Po[n[l]]=d0[l]}}return Po[t]}function p0(n,t,e){if(n.substring(0,9)!=="precision"){let s=t;return t===xi.HIGH&&e!==xi.HIGH&&(s=xi.MEDIUM),`precision ${s} float;
${n}`}else if(e!==xi.HIGH&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}let il;function ET(){if(typeof il=="boolean")return il;try{il=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{il=!1}return il}let TT=0;const Lo={},Ed=class Vn{constructor(t,e,s="pixi-shader",l={}){this.extra={},this.id=TT++,this.vertexSrc=t||Vn.defaultVertexSrc,this.fragmentSrc=e||Vn.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=l,this.vertexSrc.substring(0,8)!=="#version"&&(s=s.replace(/\s+/g,"-"),Lo[s]?(Lo[s]++,s+=`-${Lo[s]}`):Lo[s]=1,this.vertexSrc=`#define SHADER_NAME ${s}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${s}
${this.fragmentSrc}`,this.vertexSrc=p0(this.vertexSrc,Vn.defaultVertexPrecision,xi.HIGH),this.fragmentSrc=p0(this.fragmentSrc,Vn.defaultFragmentPrecision,_T())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return pT}static get defaultFragmentSrc(){return dT}static from(t,e,s){const l=t+e;let o=a0[l];return o||(a0[l]=o=new Vn(t,e,s)),o}};Ed.defaultVertexPrecision=xi.HIGH,Ed.defaultFragmentPrecision=Sr.apple.device?xi.HIGH:xi.MEDIUM;let Rr=Ed,AT=0;class Ii{constructor(t,e,s){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=AT++,this.static=!!e,this.ubo=!!s,t instanceof de?(this.buffer=t,this.buffer.type=Zi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new de(new Float32Array(1)),this.buffer.type=Zi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,e,s){if(!this.ubo)this.uniforms[t]=new Ii(e,s);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,e,s){return new Ii(t,e,s)}static uboFrom(t,e){return new Ii(t,e??!0,!0)}}class Ki{constructor(t,e){this.uniformBindCount=0,this.program=t,e?e instanceof Ii?this.uniformGroup=e:this.uniformGroup=new Ii(e):this.uniformGroup=new Ii({}),this.disposeRunner=new Bi("disposeShader")}checkUniformExists(t,e){if(e.uniforms[t])return!0;for(const s in e.uniforms){const l=e.uniforms[s];if(l.group===!0&&this.checkUniformExists(t,l))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,e,s){const l=Rr.from(t,e);return new Ki(l,s)}}class ST{constructor(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},!e.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!e.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const s=new Int32Array(t);for(let o=0;o<t;o++)s[o]=o;this.defaultGroupCache[t]=Ii.from({uSamplers:s},!0);let l=this.fragTemplate;l=l.replace(/%count%/gi,`${t}`),l=l.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Rr(this.vertexSrc,l)}const e={tint:new Float32Array([1,1,1,1]),translationMatrix:new re,default:this.defaultGroupCache[t]};return new Ki(this.programCache[t],e)}generateSampleSrc(t){let e="";e+=`
`,e+=`
`;for(let s=0;s<t;s++)s>0&&(e+=`
else `),s<t-1&&(e+=`if(vTextureId < ${s}.5)`),e+=`
{`,e+=`
	color = texture2D(uSamplers[${s}], vTextureCoord);`,e+=`
}`;return e+=`
`,e+=`
`,e}}class Td{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function wT(){return!Sr.apple.device}function RT(n){let t=!0;const e=yt.ADAPTER.getNavigator();if(Sr.tablet||Sr.phone){if(Sr.apple.device){const s=e.userAgent.match(/OS (\d+)_(\d+)?/);s&&parseInt(s[1],10)<11&&(t=!1)}if(Sr.android.device){const s=e.userAgent.match(/Android\s([0-9.]*)/);s&&parseInt(s[1],10)<7&&(t=!1)}}return t?n:4}class Ru{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var CT=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,MT=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const al=class Mi extends Ru{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=c_,this.vertexSize=6,this.state=tr.for2d(),this.size=Mi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??RT(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??wT(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return kt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return MT}static get defaultFragmentTemplate(){return CT}setShaderGenerator({vertex:t=Mi.defaultVertexSrc,fragment:e=Mi.defaultFragmentTemplate}={}){this.shaderGenerator=new ST(t,e)}contextChange(){const t=this.renderer.gl;yt.PREFER_ENV===Zs.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Mi.defaultMaxTextures),this.maxTextures=rT(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Mi,s=this.size/4,l=Math.floor(s/this.maxTextures)+1;for(;t.length<s;)t.push(new _d);for(;e.length<l;)e.push(new Td);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,s=Mi._textureArrayPool,l=this.renderer.batch,o=this._tempBoundTextures,h=this.renderer.textureGC.count;let c=++It._globalBatch,d=0,p=s[0],g=0;l.copyBoundTextures(o,e);for(let y=0;y<this._bufferSize;++y){const _=t[y];t[y]=null,_._batchEnabled!==c&&(p.count>=e&&(l.boundArray(p,o,c,e),this.buildDrawCalls(p,g,y),g=y,p=s[++d],++c),_._batchEnabled=c,_.touched=h,p.elements[p.count++]=_)}p.count>0&&(l.boundArray(p,o,c,e),this.buildDrawCalls(p,g,this._bufferSize),++d,++c);for(let y=0;y<o.length;y++)o[y]=null;It._globalBatch=c}buildDrawCalls(t,e,s){const{_bufferedElements:l,_attributeBuffer:o,_indexBuffer:h,vertexSize:c}=this,d=Mi._drawCallPool;let p=this._dcIndex,g=this._aIndex,y=this._iIndex,_=d[p];_.start=this._iIndex,_.texArray=t;for(let v=e;v<s;++v){const b=l[v],A=b._texture.baseTexture,T=l_[A.alphaMode?1:0][b.blendMode];l[v]=null,e<v&&_.blend!==T&&(_.size=y-_.start,e=v,_=d[++p],_.texArray=t,_.start=y),this.packInterleavedGeometry(b,o,h,g,y),g+=b.vertexData.length/2*c,y+=b.indices.length,_.blend=T}e<s&&(_.size=y-_.start,++p),this._dcIndex=p,this._aIndex=g,this._iIndex=y}bindAndClearTexArray(t){const e=this.renderer.texture;for(let s=0;s<t.count;s++)e.bind(t.elements[s],t.ids[s]),t.elements[s]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:s}=this;Mi.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:s}=this.renderer,l=Mi._drawCallPool;let o=null;for(let h=0;h<t;h++){const{texArray:c,type:d,size:p,start:g,blend:y}=l[h];o!==c&&(o=c,this.bindAndClearTexArray(c)),this.state.blendMode=y,s.set(this.state),e.drawElements(d,p,e.UNSIGNED_SHORT,g*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Mi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=au(Math.ceil(t/8)),s=s0(e),l=e*8;this._aBuffers.length<=s&&(this._iBuffers.length=s+1);let o=this._aBuffers[l];return o||(this._aBuffers[l]=o=new gd(l*this.vertexSize*4)),o}getIndexBuffer(t){const e=au(Math.ceil(t/12)),s=s0(e),l=e*12;this._iBuffers.length<=s&&(this._iBuffers.length=s+1);let o=this._iBuffers[s];return o||(this._iBuffers[s]=o=new Uint16Array(l)),o}packInterleavedGeometry(t,e,s,l,o){const{uint32View:h,float32View:c}=e,d=l/this.vertexSize,p=t.uvs,g=t.indices,y=t.vertexData,_=t._texture.baseTexture._batchLocation,v=Math.min(t.worldAlpha,1),b=ie.shared.setValue(t._tintRGB).toPremultiplied(v,t._texture.baseTexture.alphaMode>0);for(let A=0;A<y.length;A+=2)c[l++]=y[A],c[l++]=y[A+1],c[l++]=p[A],c[l++]=p[A+1],h[l++]=b,c[l++]=_;for(let A=0;A<g.length;A++)s[o++]=d+g[A]}};al.defaultBatchSize=4096,al.extension={name:"batch",type:pt.RendererPlugin},al._drawCallPool=[],al._textureArrayPool=[];let Xs=al;Tt.add(Xs);var DT=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,OT=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Ad=class ll extends Ki{constructor(t,e,s){const l=Rr.from(t||ll.defaultVertexSrc,e||ll.defaultFragmentSrc);super(l,s),this.padding=0,this.resolution=ll.defaultResolution,this.multisample=ll.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new tr}apply(t,e,s,l,o){t.applyFilter(this,e,s,l)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return OT}static get defaultFragmentSrc(){return DT}};Ad.defaultResolution=1,Ad.defaultMultisample=ye.NONE;let je=Ad;class uu{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ie(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:e,background:s,backgroundAlpha:l}=t,o=s??e;o!==void 0&&(this.color=o),this.alpha=l}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}uu.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},uu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"background"};Tt.add(uu);class y_{constructor(t){this.renderer=t,this.emptyRenderer=new Ru(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,e){const{boundTextures:s}=this.renderer.texture;for(let l=e-1;l>=0;--l)t[l]=s[l]||null,t[l]&&(t[l]._batchLocation=l)}boundArray(t,e,s,l){const{elements:o,ids:h,count:c}=t;let d=0;for(let p=0;p<c;p++){const g=o[p],y=g._batchLocation;if(y>=0&&y<l&&e[y]===g){h[p]=y;continue}for(;d<l;){const _=e[d];if(_&&_._batchEnabled===s&&_._batchLocation===d){d++;continue}h[p]=d,g._batchLocation=d,e[d]=g;break}}}destroy(){this.renderer=null}}y_.extension={type:pt.RendererSystem,name:"batch"};Tt.add(y_);let m0=0;class hu{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=m0++}init(t){if(t.context)this.initFromContext(t.context);else{const e=this.renderer.background.alpha<1,s=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:e,premultipliedAlpha:s,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=m0++,this.renderer.runners.contextChange.emit(t);const e=this.renderer.view;e.addEventListener!==void 0&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const e=this.createContext(this.renderer.view,t);this.initFromContext(e)}createContext(t,e){let s;if(yt.PREFER_ENV>=Zs.WEBGL2&&(s=t.getContext("webgl2",e)),s)this.webGLVersion=2;else if(this.webGLVersion=1,s=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!s)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=s,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const e=t.getContextAttributes(),s="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;s&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const l=s||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=l,l||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}hu.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},hu.extension={type:pt.RendererSystem,name:"context"};Tt.add(hu);class Sd{constructor(t,e){if(this.width=Math.round(t),this.height=Math.round(e),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Bi("disposeFramebuffer"),this.multisample=ye.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,e){return this.colorTextures[t]=e||new It(null,{scaleMode:Ar.NEAREST,resolution:1,mipmap:Qi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new It(null,{scaleMode:Ar.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Qi.OFF,format:ct.DEPTH_COMPONENT,type:wt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,e){if(t=Math.round(t),e=Math.round(e),!t||!e)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&e===this.height)){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(let s=0;s<this.colorTextures.length;s++){const l=this.colorTextures[s],o=l.resolution;l.setSize(t/o,e/o)}if(this.depthTexture){const s=this.depthTexture.resolution;this.depthTexture.setSize(t/s,e/s)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class v_ extends It{constructor(t={}){if(typeof t=="number"){const e=arguments[0],s=arguments[1],l=arguments[2],o=arguments[3];t={width:e,height:s,scaleMode:l,resolution:o}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=ye.NONE),super(null,t),this.mipmap=Qi.OFF,this.valid=!0,this._clear=new ie([0,0,0,0]),this.framebuffer=new Sd(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Mr extends pl{constructor(t){const e=t,s=e.naturalWidth||e.videoWidth||e.displayWidth||e.width,l=e.naturalHeight||e.videoHeight||e.displayHeight||e.height;super(s,l),this.source=t,this.noSubImage=!1}static crossOrigin(t,e,s){s===void 0&&!e.startsWith("data:")?t.crossOrigin=tT(e):s!==!1&&(t.crossOrigin=typeof s=="string"?s:"anonymous")}upload(t,e,s,l){const o=t.gl,h=e.realWidth,c=e.realHeight;if(l=l||this.source,typeof HTMLImageElement<"u"&&l instanceof HTMLImageElement){if(!l.complete||l.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&l instanceof HTMLVideoElement&&l.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===Ze.UNPACK),!this.noSubImage&&e.target===o.TEXTURE_2D&&s.width===h&&s.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.format,s.type,l):(s.width=h,s.height=c,o.texImage2D(e.target,0,s.internalFormat,e.format,s.type,l)),!0}update(){if(this.destroyed)return;const t=this.source,e=t.naturalWidth||t.videoWidth||t.width,s=t.naturalHeight||t.videoHeight||t.height;this.resize(e,s),super.update()}dispose(){this.source=null}}class __ extends Mr{constructor(t,e){if(e=e||{},typeof t=="string"){const s=new Image;Mr.crossOrigin(s,t,e.crossorigin),s.src=t,t=s}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(e.createBitmap??yt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.bitmap=null,this._load=null,e.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((e,s)=>{const l=this.source;this.url=l.src;const o=()=>{this.destroyed||(l.onload=null,l.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};l.complete&&l.src?o():(l.onload=o,l.onerror=h=>{s(h),this.onError.emit(h)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const e=globalThis.createImageBitmap,s=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:s?"cors":"no-cors"}).then(l=>l.blob()).then(l=>e(l,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ze.UNPACK?"premultiply":"none"})).then(l=>this.destroyed?Promise.reject():(this.bitmap=l,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,e,s){if(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,e,s);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,e,s,this.bitmap),!this.preserveBitmap){let l=!0;const o=e._glTextures;for(const h in o){const c=o[h];if(c!==s&&c.dirtyId!==e.dirtyId){l=!1;break}}l&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class tp{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,e,s){const l=e.width,o=e.height;if(s){const h=t.width/2/l,c=t.height/2/o,d=t.x/l+h,p=t.y/o+c;s=le.add(s,le.NW),this.x0=d+h*le.uX(s),this.y0=p+c*le.uY(s),s=le.add(s,2),this.x1=d+h*le.uX(s),this.y1=p+c*le.uY(s),s=le.add(s,2),this.x2=d+h*le.uX(s),this.y2=p+c*le.uY(s),s=le.add(s,2),this.x3=d+h*le.uX(s),this.y3=p+c*le.uY(s)}else this.x0=t.x/l,this.y0=t.y/o,this.x1=(t.x+t.width)/l,this.y1=t.y/o,this.x2=(t.x+t.width)/l,this.y2=(t.y+t.height)/o,this.x3=t.x/l,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}tp.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const g0=new tp;function Fo(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}class xt extends ml{constructor(t,e,s,l,o,h,c){if(super(),this.noFrame=!1,e||(this.noFrame=!0,e=new Nt(0,0,1,1)),t instanceof xt&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=l,this.valid=!1,this.destroyed=!1,this._uvs=g0,this.uvMatrix=null,this.orig=s||e,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=h?new Gt(h.x,h.y):new Gt(0,0),this.defaultBorders=c,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=e:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:e}=this.baseTexture;e!=null&&e.url&&Xi[e.url]&&xt.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,xt.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var l;const t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),s=new xt(this.baseTexture,!this.noFrame&&t,e,(l=this.trim)==null?void 0:l.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(s._frame=t),s}updateUvs(){this._uvs===g0&&(this._uvs=new tp),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,e={},s=yt.STRICT_TEXTURE_CACHE){const l=typeof t=="string";let o=null;if(l)o=t;else if(t instanceof It){if(!t.cacheId){const c=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t.cacheId=`${c}-${$s()}`,It.addToCache(t,t.cacheId)}o=t.cacheId}else{if(!t._pixiId){const c=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${c}_${$s()}`}o=t._pixiId}let h=Xi[o];if(l&&s&&!h)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!h&&!(t instanceof It)?(e.resolution||(e.resolution=Cr(t)),h=new xt(new It(t,e)),h.baseTexture.cacheId=o,It.addToCache(h.baseTexture,o),xt.addToCache(h,o)):!h&&t instanceof It&&(h=new xt(t),xt.addToCache(h,o)),h}static fromURL(t,e){const s=Object.assign({autoLoad:!1},e==null?void 0:e.resourceOptions),l=xt.from(t,Object.assign({resourceOptions:s},e),!1),o=l.baseTexture.resource;return l.baseTexture.valid?Promise.resolve(l):o.load().then(()=>Promise.resolve(l))}static fromBuffer(t,e,s,l){return new xt(It.fromBuffer(t,e,s,l))}static fromLoader(t,e,s,l){const o=new It(t,Object.assign({scaleMode:It.defaultOptions.scaleMode,resolution:Cr(e)},l)),{resource:h}=o;h instanceof __&&(h.url=e);const c=new xt(o);return s||(s=e),It.addToCache(c.baseTexture,s),xt.addToCache(c,s),s!==e&&(It.addToCache(c.baseTexture,e),xt.addToCache(c,e)),c.baseTexture.valid?Promise.resolve(c):new Promise(d=>{c.baseTexture.once("loaded",()=>d(c))})}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Xi[e]&&Xi[e]!==t&&console.warn(`Texture added to the cache with an id [${e}] that already had an entry`),Xi[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Xi[t];if(e){const s=e.textureCacheIds.indexOf(t);return s>-1&&e.textureCacheIds.splice(s,1),delete Xi[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)Xi[t.textureCacheIds[e]]===t&&delete Xi[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:e,y:s,width:l,height:o}=t,h=e+l>this.baseTexture.width,c=s+o>this.baseTexture.height;if(h||c){const d=h&&c?"and":"or",p=`X: ${e} + ${l} = ${e+l} > ${this.baseTexture.width}`,g=`Y: ${s} + ${o} = ${s+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${p} ${d} ${g}`)}this.valid=l&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return xt._EMPTY||(xt._EMPTY=new xt(new It),Fo(xt._EMPTY),Fo(xt._EMPTY.baseTexture)),xt._EMPTY}static get WHITE(){if(!xt._WHITE){const t=yt.ADAPTER.createCanvas(16,16),e=t.getContext("2d");t.width=16,t.height=16,e.fillStyle="white",e.fillRect(0,0,16,16),xt._WHITE=new xt(It.from(t)),Fo(xt._WHITE),Fo(xt._WHITE.baseTexture)}return xt._WHITE}}class Ks extends xt{constructor(t,e){super(t,e),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e,s=!0){const l=this.baseTexture.resolution,o=Math.round(t*l)/l,h=Math.round(e*l)/l;this.valid=o>0&&h>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=h,s&&this.baseTexture.resize(o,h),this.updateUvs()}setResolution(t){const{baseTexture:e}=this;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))}static create(t){return new Ks(new v_(t))}}class x_{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,e,s=ye.NONE){const l=new v_(Object.assign({width:t,height:e,resolution:1,multisample:s},this.textureOptions));return new Ks(l)}getOptimalTexture(t,e,s=1,l=ye.NONE){let o;t=Math.max(Math.ceil(t*s-1e-6),1),e=Math.max(Math.ceil(e*s-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||e!==this._pixelsHeight?(t=au(t),e=au(e),o=((t&65535)<<16|e&65535)>>>0,l>1&&(o+=l*4294967296)):o=l>1?-l:-1,this.texturePool[o]||(this.texturePool[o]=[]);let h=this.texturePool[o].pop();return h||(h=this.createTexture(t,e,l)),h.filterPoolKey=o,h.setResolution(s),h}getFilterTexture(t,e,s){const l=this.getOptimalTexture(t.width,t.height,e||t.resolution,s||ye.NONE);return l.filterFrame=t.filterFrame,l}returnTexture(t){const e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const e in this.texturePool){const s=this.texturePool[e];if(s)for(let l=0;l<s.length;l++)s[l].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const s=this.texturePool[e];if(s)for(let l=0;l<s.length;l++)s[l].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}x_.SCREEN_KEY=-1;class BT extends hs{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class b_ extends hs{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new de(this.vertices),this.uvBuffer=new de(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,e){let s=0,l=0;return this.uvs[0]=s,this.uvs[1]=l,this.uvs[2]=s+e.width/t.width,this.uvs[3]=l,this.uvs[4]=s+e.width/t.width,this.uvs[5]=l+e.height/t.height,this.uvs[6]=s,this.uvs[7]=l+e.height/t.height,s=e.x,l=e.y,this.vertices[0]=s,this.vertices[1]=l,this.vertices[2]=s+e.width,this.vertices[3]=l,this.vertices[4]=s+e.width,this.vertices[5]=l+e.height,this.vertices[6]=s,this.vertices[7]=l+e.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class IT{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ye.NONE,this.sourceFrame=new Nt,this.destinationFrame=new Nt,this.bindingSourceFrame=new Nt,this.bindingDestinationFrame=new Nt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Go=[new Gt,new Gt,new Gt,new Gt],Kf=new re;class E_{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new x_,this.statePool=[],this.quad=new BT,this.quadUv=new b_,this.tempRect=new Nt,this.activeState={},this.globalUniforms=new Ii({outputFrame:new Nt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,e){const s=this.renderer,l=this.defaultFilterStack,o=this.statePool.pop()||new IT,h=s.renderTexture;let c,d;if(h.current){const T=h.current;c=T.resolution,d=T.multisample}else c=s.resolution,d=s.multisample;let p=e[0].resolution||c,g=e[0].multisample??d,y=e[0].padding,_=e[0].autoFit,v=e[0].legacy??!0;for(let T=1;T<e.length;T++){const C=e[T];p=Math.min(p,C.resolution||c),g=Math.min(g,C.multisample??d),y=this.useMaxPadding?Math.max(y,C.padding):y+C.padding,_=_&&C.autoFit,v=v||(C.legacy??!0)}l.length===1&&(this.defaultFilterStack[0].renderTexture=h.current),l.push(o),o.resolution=p,o.multisample=g,o.legacy=v,o.target=t,o.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),o.sourceFrame.pad(y);const b=this.tempRect.copyFrom(h.sourceFrame);s.projection.transform&&this.transformAABB(Kf.copyFrom(s.projection.transform).invert(),b),_?(o.sourceFrame.fit(b),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(b)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,h.current?h.current.resolution:s.resolution,h.sourceFrame,h.destinationFrame,s.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,p,g),o.filters=e,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const A=this.tempRect;A.x=0,A.y=0,A.width=o.sourceFrame.width,A.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(h.sourceFrame),o.bindingDestinationFrame.copyFrom(h.destinationFrame),o.transform=s.projection.transform,s.projection.transform=null,h.bind(o.renderTexture,o.sourceFrame,A),s.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,e=t.pop(),s=e.filters;this.activeState=e;const l=this.globalUniforms.uniforms;l.outputFrame=e.sourceFrame,l.resolution=e.resolution;const o=l.inputSize,h=l.inputPixel,c=l.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],h[0]=Math.round(o[0]*e.resolution),h[1]=Math.round(o[1]*e.resolution),h[2]=1/h[0],h[3]=1/h[1],c[0]=.5*h[2],c[1]=.5*h[3],c[2]=e.sourceFrame.width*o[2]-.5*h[2],c[3]=e.sourceFrame.height*o[3]-.5*h[3],e.legacy){const p=l.filterArea;p[0]=e.destinationFrame.width,p[1]=e.destinationFrame.height,p[2]=e.sourceFrame.x,p[3]=e.sourceFrame.y,l.filterClamp=l.inputClamp}this.globalUniforms.update();const d=t[t.length-1];if(this.renderer.framebuffer.blit(),s.length===1)s[0].apply(this,e.renderTexture,d.renderTexture,qi.BLEND,e),this.returnFilterTexture(e.renderTexture);else{let p=e.renderTexture,g=this.getOptimalFilterTexture(p.width,p.height,e.resolution);g.filterFrame=p.filterFrame;let y=0;for(y=0;y<s.length-1;++y){y===1&&e.multisample>1&&(g=this.getOptimalFilterTexture(p.width,p.height,e.resolution),g.filterFrame=p.filterFrame),s[y].apply(this,p,g,qi.CLEAR,e);const _=p;p=g,g=_}s[y].apply(this,p,d.renderTexture,qi.BLEND,e),y>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(p),this.returnFilterTexture(g)}e.clear(),this.statePool.push(e)}bindAndClear(t,e=qi.CLEAR){const{renderTexture:s,state:l}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t==null?void 0:t.filterFrame){const h=this.tempRect;h.x=0,h.y=0,h.width=t.filterFrame.width,h.height=t.filterFrame.height,s.bind(t,t.filterFrame,h)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?s.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=l.stateId&1||this.forceClear;(e===qi.CLEAR||e===qi.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,e,s,l){const o=this.renderer;o.state.set(t.state),this.bindAndClear(s,l),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw($i.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw($i.TRIANGLE_STRIP))}calculateSpriteMatrix(t,e){const{sourceFrame:s,destinationFrame:l}=this.activeState,{orig:o}=e._texture,h=t.set(l.width,0,0,l.height,s.x,s.y),c=e.worldTransform.copyTo(re.TEMP_MATRIX);return c.invert(),h.prepend(c),h.scale(1/o.width,1/o.height),h.translate(e.anchor.x,e.anchor.y),h}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,e,s=1,l=ye.NONE){return this.texturePool.getOptimalTexture(t,e,s,l)}getFilterTexture(t,e,s){if(typeof t=="number"){const o=t;t=e,e=o}t=t||this.activeState.renderTexture;const l=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,s||ye.NONE);return l.filterFrame=t.filterFrame,l}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,e){const s=Go[0],l=Go[1],o=Go[2],h=Go[3];s.set(e.left,e.top),l.set(e.left,e.bottom),o.set(e.right,e.top),h.set(e.right,e.bottom),t.apply(s,s),t.apply(l,l),t.apply(o,o),t.apply(h,h);const c=Math.min(s.x,l.x,o.x,h.x),d=Math.min(s.y,l.y,o.y,h.y),p=Math.max(s.x,l.x,o.x,h.x),g=Math.max(s.y,l.y,o.y,h.y);e.x=c,e.y=d,e.width=p-c,e.height=g-d}roundFrame(t,e,s,l,o){if(!(t.width<=0||t.height<=0||s.width<=0||s.height<=0)){if(o){const{a:h,b:c,c:d,d:p}=o;if((Math.abs(c)>1e-4||Math.abs(d)>1e-4)&&(Math.abs(h)>1e-4||Math.abs(p)>1e-4))return}o=o?Kf.copyFrom(o):Kf.identity(),o.translate(-s.x,-s.y).scale(l.width/s.width,l.height/s.height).translate(l.x,l.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}}}E_.extension={type:pt.RendererSystem,name:"filter"};Tt.add(E_);class NT{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ye.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const UT=new Nt;class T_{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Sd(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Nt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let e=this.renderer.context.extensions.drawBuffers,s=this.renderer.context.extensions.depthTexture;yt.PREFER_ENV===Zs.WEBGL_LEGACY&&(e=null,s=null),e?t.drawBuffers=l=>e.drawBuffersWEBGL(l):(this.hasMRT=!1,t.drawBuffers=()=>{}),s||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,e,s=0){const{gl:l}=this;if(t){const o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,l.bindFramebuffer(l.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==s&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=s),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,s)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let h=0;h<t.colorTextures.length;h++){const c=t.colorTextures[h];this.renderer.texture.unbind(c.parentTextureArray||c)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){const h=e.width>>s,c=e.height>>s,d=h/e.width;this.setViewport(e.x*d,e.y*d,h,c)}else{const h=t.width>>s,c=t.height>>s;this.setViewport(0,0,h,c)}}else this.current&&(this.current=null,l.bindFramebuffer(l.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,e,s,l){const o=this.viewport;t=Math.round(t),e=Math.round(e),s=Math.round(s),l=Math.round(l),(o.width!==s||o.height!==l||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=s,o.height=l,this.gl.viewport(t,e,s,l))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,e,s,l,o=cd.COLOR|cd.DEPTH){const{gl:h}=this;h.clearColor(t,e,s,l),h.clear(o)}initFramebuffer(t){const{gl:e}=this,s=new NT(e.createFramebuffer());return s.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=s,this.managedFramebuffers.push(t),t.disposeRunner.add(this),s}resizeFramebuffer(t){const{gl:e}=this,s=t.glFramebuffers[this.CONTEXT_UID];if(s.stencil){e.bindRenderbuffer(e.RENDERBUFFER,s.stencil);let h;this.renderer.context.webGLVersion===1?h=e.DEPTH_STENCIL:t.depth&&t.stencil?h=e.DEPTH24_STENCIL8:t.depth?h=e.DEPTH_COMPONENT24:h=e.STENCIL_INDEX8,s.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,s.multisample,h,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,h,t.width,t.height)}const l=t.colorTextures;let o=l.length;e.drawBuffers||(o=Math.min(o,1));for(let h=0;h<o;h++){const c=l[h],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),h===0&&s.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,s.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,s.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,e){const{gl:s}=this,l=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures;let h=o.length;s.drawBuffers||(h=Math.min(h,1)),l.multisample>1&&this.canMultisampleFramebuffer(t)?l.msaaBuffer=l.msaaBuffer||s.createRenderbuffer():l.msaaBuffer&&(s.deleteRenderbuffer(l.msaaBuffer),l.msaaBuffer=null,l.blitFramebuffer&&(l.blitFramebuffer.dispose(),l.blitFramebuffer=null));const c=[];for(let d=0;d<h;d++){const p=o[d],g=p.parentTextureArray||p;this.renderer.texture.bind(g,0),d===0&&l.msaaBuffer?(s.bindRenderbuffer(s.RENDERBUFFER,l.msaaBuffer),s.renderbufferStorageMultisample(s.RENDERBUFFER,l.multisample,g._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,l.msaaBuffer)):(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+d,p.target,g._glTextures[this.CONTEXT_UID].texture,e),c.push(s.COLOR_ATTACHMENT0+d))}if(c.length>1&&s.drawBuffers(c),t.depthTexture&&this.writeDepthTexture){const d=t.depthTexture;this.renderer.texture.bind(d,0),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,d._glTextures[this.CONTEXT_UID].texture,e)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){l.stencil=l.stencil||s.createRenderbuffer();let d,p;this.renderer.context.webGLVersion===1?(d=s.DEPTH_STENCIL_ATTACHMENT,p=s.DEPTH_STENCIL):t.depth&&t.stencil?(d=s.DEPTH_STENCIL_ATTACHMENT,p=s.DEPTH24_STENCIL8):t.depth?(d=s.DEPTH_ATTACHMENT,p=s.DEPTH_COMPONENT24):(d=s.STENCIL_ATTACHMENT,p=s.STENCIL_INDEX8),s.bindRenderbuffer(s.RENDERBUFFER,l.stencil),l.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,l.multisample,p,t.width,t.height):s.renderbufferStorage(s.RENDERBUFFER,p,t.width,t.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,d,s.RENDERBUFFER,l.stencil)}else l.stencil&&(s.deleteRenderbuffer(l.stencil),l.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:e}=this;let s=ye.NONE;if(t<=1||e===null)return s;for(let l=0;l<e.length;l++)if(e[l]<=t){s=e[l];break}return s===1&&(s=ye.NONE),s}blit(t,e,s){const{current:l,renderer:o,gl:h,CONTEXT_UID:c}=this;if(o.context.webGLVersion!==2||!l)return;const d=l.glFramebuffers[c];if(!d)return;if(!t){if(!d.msaaBuffer)return;const g=l.colorTextures[0];if(!g)return;d.blitFramebuffer||(d.blitFramebuffer=new Sd(l.width,l.height),d.blitFramebuffer.addColorTexture(0,g)),t=d.blitFramebuffer,t.colorTextures[0]!==g&&(t.colorTextures[0]=g,t.dirtyId++,t.dirtyFormat++),(t.width!==l.width||t.height!==l.height)&&(t.width=l.width,t.height=l.height,t.dirtyId++,t.dirtySize++)}e||(e=UT,e.width=l.width,e.height=l.height),s||(s=e);const p=e.width===s.width&&e.height===s.height;this.bind(t),h.bindFramebuffer(h.READ_FRAMEBUFFER,d.framebuffer),h.blitFramebuffer(e.left,e.top,e.right,e.bottom,s.left,s.top,s.right,s.bottom,h.COLOR_BUFFER_BIT,p?h.NEAREST:h.LINEAR),h.bindFramebuffer(h.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,e){const s=t.glFramebuffers[this.CONTEXT_UID],l=this.gl;if(!s)return;delete t.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(l.deleteFramebuffer(s.framebuffer),s.msaaBuffer&&l.deleteRenderbuffer(s.msaaBuffer),s.stencil&&l.deleteRenderbuffer(s.stencil)),s.blitFramebuffer&&this.disposeFramebuffer(s.blitFramebuffer,e)}disposeAll(t){const e=this.managedFramebuffers;this.managedFramebuffers=[];for(let s=0;s<e.length;s++)this.disposeFramebuffer(e[s],t)}forceStencil(){const t=this.current;if(!t)return;const e=t.glFramebuffers[this.CONTEXT_UID];if(!e||e.stencil&&t.stencil)return;t.stencil=!0;const s=t.width,l=t.height,o=this.gl,h=e.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,h);let c,d;this.renderer.context.webGLVersion===1?(c=o.DEPTH_STENCIL_ATTACHMENT,d=o.DEPTH_STENCIL):t.depth?(c=o.DEPTH_STENCIL_ATTACHMENT,d=o.DEPTH24_STENCIL8):(c=o.STENCIL_ATTACHMENT,d=o.STENCIL_INDEX8),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,d,s,l):o.renderbufferStorage(o.RENDERBUFFER,d,s,l),o.framebufferRenderbuffer(o.FRAMEBUFFER,c,o.RENDERBUFFER,h)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Nt}destroy(){this.renderer=null}}T_.extension={type:pt.RendererSystem,name:"framebuffer"};Tt.add(T_);const Qf={5126:4,5123:2,5121:1};class A_{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){let s=this.renderer.context.extensions.vertexArrayObject;yt.PREFER_ENV===Zs.WEBGL_LEGACY&&(s=null),s?(t.createVertexArray=()=>s.createVertexArrayOES(),t.bindVertexArray=l=>s.bindVertexArrayOES(l),t.deleteVertexArray=l=>s.deleteVertexArrayOES(l)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(e.webGLVersion!==2){const s=t.getExtension("ANGLE_instanced_arrays");s?(t.vertexAttribDivisor=(l,o)=>s.vertexAttribDivisorANGLE(l,o),t.drawElementsInstanced=(l,o,h,c,d)=>s.drawElementsInstancedANGLE(l,o,h,c,d),t.drawArraysInstanced=(l,o,h,c)=>s.drawArraysInstancedANGLE(l,o,h,c)):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex}bind(t,e){e=e||this.renderer.shader.shader;const{gl:s}=this;let l=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;l||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=l={},o=!0);const h=l[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==h&&(this._activeVao=h,this.hasVao?s.bindVertexArray(h):this.activateVao(t,e.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,e=this.renderer.buffer;for(let s=0;s<t.buffers.length;s++){const l=t.buffers[s];e.update(l)}}checkCompatibility(t,e){const s=t.attributes,l=e.attributeData;for(const o in l)if(!s[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(t,e){const s=t.attributes,l=e.attributeData,o=["g",t.id];for(const h in s)l[h]&&o.push(h,l[h].location);return o.join("-")}initGeometryVao(t,e,s=!0){const l=this.gl,o=this.CONTEXT_UID,h=this.renderer.buffer,c=e.program;c.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,c);const d=this.getSignature(t,c),p=t.glVertexArrayObjects[this.CONTEXT_UID];let g=p[d];if(g)return p[c.id]=g,g;const y=t.buffers,_=t.attributes,v={},b={};for(const A in y)v[A]=0,b[A]=0;for(const A in _)!_[A].size&&c.attributeData[A]?_[A].size=c.attributeData[A].size:_[A].size||console.warn(`PIXI Geometry attribute '${A}' size cannot be determined (likely the bound shader does not have the attribute)`),v[_[A].buffer]+=_[A].size*Qf[_[A].type];for(const A in _){const T=_[A],C=T.size;T.stride===void 0&&(v[T.buffer]===C*Qf[T.type]?T.stride=0:T.stride=v[T.buffer]),T.start===void 0&&(T.start=b[T.buffer],b[T.buffer]+=C*Qf[T.type])}g=l.createVertexArray(),l.bindVertexArray(g);for(let A=0;A<y.length;A++){const T=y[A];h.bind(T),s&&T._glBuffers[o].refCount++}return this.activateVao(t,c),p[c.id]=g,p[d]=g,l.bindVertexArray(null),h.unbind(Zi.ARRAY_BUFFER),g}disposeGeometry(t,e){var c;if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const s=t.glVertexArrayObjects[this.CONTEXT_UID],l=this.gl,o=t.buffers,h=(c=this.renderer)==null?void 0:c.buffer;if(t.disposeRunner.remove(this),!!s){if(h)for(let d=0;d<o.length;d++){const p=o[d]._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!e&&h.dispose(o[d],e))}if(!e){for(const d in s)if(d[0]==="g"){const p=s[d];this._activeVao===p&&this.unbind(),l.deleteVertexArray(p)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const e=Object.keys(this.managedGeometries);for(let s=0;s<e.length;s++)this.disposeGeometry(this.managedGeometries[e[s]],t)}activateVao(t,e){const s=this.gl,l=this.CONTEXT_UID,o=this.renderer.buffer,h=t.buffers,c=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);let d=null;for(const p in c){const g=c[p],y=h[g.buffer],_=y._glBuffers[l];if(e.attributeData[p]){d!==_&&(o.bind(y),d=_);const v=e.attributeData[p].location;if(s.enableVertexAttribArray(v),s.vertexAttribPointer(v,g.size,g.type||s.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)s.vertexAttribDivisor(v,g.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,e,s,l){const{gl:o}=this,h=this._activeGeometry;if(h.indexBuffer){const c=h.indexBuffer.data.BYTES_PER_ELEMENT,d=c===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?h.instanced?o.drawElementsInstanced(t,e||h.indexBuffer.data.length,d,(s||0)*c,l||1):o.drawElements(t,e||h.indexBuffer.data.length,d,(s||0)*c):console.warn("unsupported index buffer type: uint32")}else h.instanced?o.drawArraysInstanced(t,s,e||h.getSize(),l||1):o.drawArrays(t,s,e||h.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}A_.extension={type:pt.RendererSystem,name:"geometry"};Tt.add(A_);const y0=new re;class S_{constructor(t,e){this._texture=t,this.mapCoord=new re,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,e){e===void 0&&(e=t);const s=this.mapCoord;for(let l=0;l<t.length;l+=2){const o=t[l],h=t[l+1];e[l]=o*s.a+h*s.c+s.tx,e[l+1]=o*s.b+h*s.d+s.ty}return e}update(t){const e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;const s=e._uvs;this.mapCoord.set(s.x1-s.x0,s.y1-s.y0,s.x3-s.x0,s.y3-s.y0,s.x0,s.y0);const l=e.orig,o=e.trim;o&&(y0.set(l.width/o.width,0,0,l.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(y0));const h=e.baseTexture,c=this.uClampFrame,d=this.clampMargin/h.resolution,p=this.clampOffset;return c[0]=(e._frame.x+d+p)/h.width,c[1]=(e._frame.y+d+p)/h.height,c[2]=(e._frame.x+e._frame.width-d+p)/h.width,c[3]=(e._frame.y+e._frame.height-d+p)/h.height,this.uClampOffset[0]=p/h.realWidth,this.uClampOffset[1]=p/h.realHeight,this.isSimple=e._frame.width===h.width&&e._frame.height===h.height&&e.rotate===0,!0}}var PT=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,LT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class FT extends je{constructor(t,e,s){let l=null;typeof t!="string"&&e===void 0&&s===void 0&&(l=t,t=void 0,e=void 0,s=void 0),super(t||LT,e||PT,s),this.maskSprite=l,this.maskMatrix=new re}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,e,s,l){const o=this._maskSprite,h=o._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new S_(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,o).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,t.applyFilter(this,e,s,l))}}class GT{constructor(t=null){this.type=be.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=je.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=be.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class w_{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,e){let s=e;if(!s.isMaskData){const o=this.maskDataPool.pop()||new GT;o.pooled=!0,o.maskObject=e,s=o}const l=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(s.copyCountersOrReset(l),s._colorMask=l?l._colorMask:15,s.autoDetect&&this.detect(s),s._target=t,s.type!==be.SPRITE&&this.maskStack.push(s),s.enabled)switch(s.type){case be.SCISSOR:this.renderer.scissor.push(s);break;case be.STENCIL:this.renderer.stencil.push(s);break;case be.SPRITE:s.copyCountersOrReset(null),this.pushSpriteMask(s);break;case be.COLOR:this.pushColorMask(s);break}s.type===be.SPRITE&&this.maskStack.push(s)}pop(t){const e=this.maskStack.pop();if(!(!e||e._target!==t)){if(e.enabled)switch(e.type){case be.SCISSOR:this.renderer.scissor.pop(e);break;case be.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case be.SPRITE:this.popSpriteMask(e);break;case be.COLOR:this.popColorMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){const s=this.maskStack[this.maskStack.length-1];s.type===be.SPRITE&&s._filters&&(s._filters[0].maskSprite=s.maskObject)}}}detect(t){const e=t.maskObject;e?e.isSprite?t.type=be.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=be.SCISSOR:t.type=be.STENCIL:t.type=be.COLOR}pushSpriteMask(t){const{maskObject:e}=t,s=t._target;let l=t._filters;l||(l=this.alphaMaskPool[this.alphaMaskIndex],l||(l=this.alphaMaskPool[this.alphaMaskIndex]=[new FT])),l[0].resolution=t.resolution,l[0].multisample=t.multisample,l[0].maskSprite=e;const o=s.filterArea;s.filterArea=e.getBounds(!0),this.renderer.filter.push(s,l),s.filterArea=o,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const e=t._colorMask,s=t._colorMask=e&t.colorMask;s!==e&&this.renderer.gl.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)}popColorMask(t){const e=t._colorMask,s=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;s!==e&&this.renderer.gl.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)}destroy(){this.renderer=null}}w_.extension={type:pt.RendererSystem,name:"mask"};Tt.add(w_);class R_{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:e}=this.renderer,s=this.getStackLength();this.maskStack=t;const l=this.getStackLength();l!==s&&(l===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const v0=new re,_0=[],C_=class Qo extends R_{constructor(t){super(t),this.glConst=yt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:s}=t,{renderer:l}=this,o=l.renderTexture,h=s.getBounds(!0,_0.pop()??new Nt);this.roundFrameToPixels(h,o.current?o.current.resolution:l.resolution,o.sourceFrame,o.destinationFrame,l.projection.transform),e&&h.fit(e),t._scissorRectLocal=h}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:s,c:l,d:o}=t;return(Math.abs(s)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(o)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Qo.isMatrixRotated(e.worldTransform)||Qo.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const s=t._scissorRectLocal;return s.width>0&&s.height>0}roundFrameToPixels(t,e,s,l,o){Qo.isMatrixRotated(o)||(o=o?v0.copyFrom(o):v0.identity(),o.translate(-s.x,-s.y).scale(l.width/s.width,l.height/s.height).translate(l.x,l.y),this.renderer.filter.transformAABB(o,t),t.fit(l),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&_0.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};C_.extension={type:pt.RendererSystem,name:"scissor"};let HT=C_;Tt.add(HT);class M_ extends R_{constructor(t){super(t),this.glConst=yt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const e=t.maskObject,{gl:s}=this.renderer,l=t._stencilCounter;l===0&&(this.renderer.framebuffer.forceStencil(),s.clearStencil(0),s.clear(s.STENCIL_BUFFER_BIT),s.enable(s.STENCIL_TEST)),t._stencilCounter++;const o=t._colorMask;o!==0&&(t._colorMask=0,s.colorMask(!1,!1,!1,!1)),s.stencilFunc(s.EQUAL,l,4294967295),s.stencilOp(s.KEEP,s.KEEP,s.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,o!==0&&(t._colorMask=o,s.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(t){const e=this.renderer.gl;if(this.getStackLength()===0)e.disable(e.STENCIL_TEST);else{const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,l=s?s._colorMask:15;l!==0&&(s._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,l!==0&&(s._colorMask=l,e.colorMask((l&1)!==0,(l&2)!==0,(l&4)!==0,(l&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}M_.extension={type:pt.RendererSystem,name:"stencil"};Tt.add(M_);class D_{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return kt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return kt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return kt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const e in t)this.plugins[e]=new t[e](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}D_.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"_plugin"};Tt.add(D_);class O_{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new re,this.transform=null}update(t,e,s,l){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,s,l),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(t,e,s,l){const o=this.projectionMatrix,h=l?-1:1;o.identity(),o.a=1/e.width*2,o.d=h*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-h-e.y*o.d}setTransform(t){}destroy(){this.renderer=null}}O_.extension={type:pt.RendererSystem,name:"projection"};Tt.add(O_);const kT=new Jd,x0=new Nt;class B_{constructor(t){this.renderer=t,this._tempMatrix=new re}generateTexture(t,e){const{region:s,...l}=e||{},o=(s==null?void 0:s.copyTo(x0))||t.getLocalBounds(x0,!0),h=l.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/h),o.height=Math.max(o.height,1/h),l.width=o.width,l.height=o.height,l.resolution=h,l.multisample??(l.multisample=this.renderer.multisample);const c=Ks.create(l);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const d=t.transform;return t.transform=kT,this.renderer.render(t,{renderTexture:c,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=d,c}destroy(){}}B_.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"textureGenerator"};Tt.add(B_);const Ls=new Nt,rl=new Nt;class I_{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Nt,this.destinationFrame=new Nt,this.viewportFrame=new Nt}contextChange(){var e;const t=(e=this.renderer)==null?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,e,s){const l=this.renderer;this.current=t;let o,h,c;t?(o=t.baseTexture,c=o.resolution,e||(Ls.width=t.frame.width,Ls.height=t.frame.height,e=Ls),s||(rl.x=t.frame.x,rl.y=t.frame.y,rl.width=e.width,rl.height=e.height,s=rl),h=o.framebuffer):(c=l.resolution,e||(Ls.width=l._view.screen.width,Ls.height=l._view.screen.height,e=Ls),s||(s=Ls,s.width=e.width,s.height=e.height));const d=this.viewportFrame;d.x=s.x*c,d.y=s.y*c,d.width=s.width*c,d.height=s.height*c,t||(d.y=l.view.height-(d.y+d.height)),d.ceil(),this.renderer.framebuffer.bind(h,d),this.renderer.projection.update(s,e,c,!h),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(s)}clear(t,e){const s=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,l=ie.shared.setValue(t||s);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&l.premultiply(l.alpha);const o=this.destinationFrame,h=this.current?this.current.baseTexture:this.renderer._view.screen,c=o.width!==h.width||o.height!==h.height;if(c){let{x:d,y:p,width:g,height:y}=this.viewportFrame;d=Math.round(d),p=Math.round(p),g=Math.round(g),y=Math.round(y),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(d,p,g,y)}this.renderer.framebuffer.clear(l.red,l.green,l.blue,l.alpha,e),c&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}I_.extension={type:pt.RendererSystem,name:"renderTexture"};Tt.add(I_);class zT{constructor(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function XT(n,t){const e={},s=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES);for(let l=0;l<s;l++){const o=t.getActiveAttrib(n,l);if(o.name.startsWith("gl_"))continue;const h=g_(t,o.type),c={type:h,name:o.name,size:m_(h),location:t.getAttribLocation(n,o.name)};e[o.name]=c}return e}function VT(n,t){const e={},s=t.getProgramParameter(n,t.ACTIVE_UNIFORMS);for(let l=0;l<s;l++){const o=t.getActiveUniform(n,l),h=o.name.replace(/\[.*?\]$/,""),c=!!o.name.match(/\[.*?\]$/),d=g_(t,o.type);e[h]={name:h,index:l,type:d,size:o.size,isArray:c,value:d_(d,o.size)}}return e}function jT(n,t){var c;const e=c0(n,n.VERTEX_SHADER,t.vertexSrc),s=c0(n,n.FRAGMENT_SHADER,t.fragmentSrc),l=n.createProgram();n.attachShader(l,e),n.attachShader(l,s);const o=(c=t.extra)==null?void 0:c.transformFeedbackVaryings;if(o&&(typeof n.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):n.transformFeedbackVaryings(l,o.names,o.bufferMode==="separate"?n.SEPARATE_ATTRIBS:n.INTERLEAVED_ATTRIBS)),n.linkProgram(l),n.getProgramParameter(l,n.LINK_STATUS)||xT(n,l,e,s),t.attributeData=XT(l,n),t.uniformData=VT(l,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const d=Object.keys(t.attributeData);d.sort((p,g)=>p>g?1:-1);for(let p=0;p<d.length;p++)t.attributeData[d[p]].location=p,n.bindAttribLocation(l,p,d[p]);n.linkProgram(l)}n.deleteShader(e),n.deleteShader(s);const h={};for(const d in t.uniformData){const p=t.uniformData[d];h[d]={location:n.getUniformLocation(l,d),value:d_(p.type,p.size)}}return new zT(l,h)}function YT(n,t,e,s,l){e.buffer.update(l)}const qT={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},N_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function $T(n){const t=n.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let e=0,s=0,l=0;for(let o=0;o<t.length;o++){const h=t[o];if(e=N_[h.data.type],h.data.size>1&&(e=Math.max(e,16)*h.data.size),h.dataLen=e,s%e!==0&&s<16){const c=s%e%16;s+=c,l+=c}s+e>16?(l=Math.ceil(l/16)*16,h.offset=l,l+=e,s=e):(h.offset=l,s+=e,l+=e)}return l=Math.ceil(l/16)*16,{uboElements:t,size:l}}function WT(n,t){const e=[];for(const s in n)t[s]&&e.push(t[s]);return e.sort((s,l)=>s.index-l.index),e}function ZT(n,t){if(!n.autoManage)return{size:0,syncFunc:YT};const e=WT(n.uniforms,t),{uboElements:s,size:l}=$T(e),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let h=0;h<s.length;h++){const c=s[h],d=n.uniforms[c.data.name],p=c.data.name;let g=!1;for(let y=0;y<Kn.length;y++){const _=Kn[y];if(_.codeUbo&&_.test(c.data,d)){o.push(`offset = ${c.offset/4};`,Kn[y].codeUbo(c.data.name,d)),g=!0;break}}if(!g)if(c.data.size>1){const y=m_(c.data.type),_=Math.max(N_[c.data.type]/16,1),v=y/_,b=(4-v%4)%4;o.push(`
                cv = ud.${p}.value;
                v = uv.${p};
                offset = ${c.offset/4};

                t = 0;

                for(var i=0; i < ${c.data.size*_}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${b};
                }

                `)}else{const y=qT[c.data.type];o.push(`
                cv = ud.${p}.value;
                v = uv.${p};
                offset = ${c.offset/4};
                ${y};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:l,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let KT=0;const Ho={textureCount:0,uboCount:0};class U_{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=KT++}systemCheck(){if(!ET())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const s=t.program,l=s.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==s&&(this.program=s,this.gl.useProgram(l.program)),e||(Ho.textureCount=0,Ho.uboCount=0,this.syncUniformGroup(t.uniformGroup,Ho)),l}setUniforms(t){const e=this.shader.program,s=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(s.uniformData,t,this.renderer)}syncUniformGroup(t,e){const s=this.getGlProgram();(!t.static||t.dirtyId!==s.uniformDirtyGroups[t.id])&&(s.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,s,e))}syncUniforms(t,e,s){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,s)}createSyncGroups(t){const e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=yT(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,e){const s=this.getGlProgram();if(!t.static||t.dirtyId!==0||!s.uniformGroups[t.id]){t.dirtyId=0;const l=s.uniformGroups[t.id]||this.createSyncBufferGroup(t,s,e);t.buffer.update(),l(s.uniformData,t.uniforms,this.renderer,Ho,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,s.uniformBufferBindings[e])}createSyncBufferGroup(t,e,s){const{gl:l}=this.renderer;this.renderer.buffer.bind(t.buffer);const o=this.gl.getUniformBlockIndex(e.program,s);e.uniformBufferBindings[s]=this.shader.uniformBindCount,l.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const h=this.getSignature(t,this.shader.program.uniformData,"ubo");let c=this._uboCache[h];if(c||(c=this._uboCache[h]=ZT(t,this.shader.program.uniformData)),t.autoManage){const d=new Float32Array(c.size/4);t.buffer.update(d)}return e.uniformGroups[t.id]=c.syncFunc,e.uniformGroups[t.id]}getSignature(t,e,s){const l=t.uniforms,o=[`${s}-`];for(const h in l)o.push(h),e[h]&&o.push(e[h].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const e=this.gl,s=t.program,l=jT(e,s);return s.glPrograms[this.renderer.CONTEXT_UID]=l,l}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}U_.extension={type:pt.RendererSystem,name:"shader"};Tt.add(U_);class cu{constructor(t){this.renderer=t}run(t){const{renderer:e}=this;e.runners.init.emit(e.options),t.hello&&console.log(`PixiJS 7.4.2 - ${e.rendererLogId} - https://pixijs.com`),e.resize(e.screen.width,e.screen.height)}destroy(){}}cu.defaultOptions={hello:!1},cu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"startup"};Tt.add(cu);function QT(n,t=[]){return t[Mt.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.ADD]=[n.ONE,n.ONE],t[Mt.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.NONE]=[0,0],t[Mt.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[Mt.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Mt.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[Mt.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[Mt.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Mt.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[Mt.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[Mt.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[Mt.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[Mt.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Mt.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}const JT=0,tA=1,eA=2,iA=3,rA=4,sA=5,P_=class wd{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Mt.NONE,this._blendEq=!1,this.map=[],this.map[JT]=this.setBlend,this.map[tA]=this.setOffset,this.map[eA]=this.setCullFace,this.map[iA]=this.setDepthTest,this.map[rA]=this.setFrontFace,this.map[sA]=this.setDepthMask,this.checks=[],this.defaultState=new tr,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=QT(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,s=0;for(;e;)e&1&&this.map[s].call(this,!!(t.data&1<<s)),e=e>>1,s++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(wd.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(wd.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],s=this.gl;e.length===2?s.blendFunc(e[0],e[1]):s.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,s.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const s=this.checks.indexOf(t);e&&s===-1?this.checks.push(t):!e&&s!==-1&&this.checks.splice(s,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};P_.extension={type:pt.RendererSystem,name:"state"};let nA=P_;Tt.add(nA);class aA extends ml{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const e=(t.priority??[]).filter(l=>t.systems[l]),s=[...e,...Object.keys(t.systems).filter(l=>!e.includes(l))];for(const l of s)this.addSystem(t.systems[l],l)}addRunners(...t){t.forEach(e=>{this.runners[e]=new Bi(e)})}addSystem(t,e){const s=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=s,this._systemsHash[e]=s;for(const l in this.runners)this.runners[l].add(s);return this}emitWithCustomOptions(t,e){const s=Object.keys(this._systemsHash);t.items.forEach(l=>{const o=s.find(h=>this._systemsHash[h]===l);l[t.name](e[o])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const ol=class Jo{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Jo.defaultMaxIdle,this.checkCountMax=Jo.defaultCheckCountMax,this.mode=Jo.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Wd.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let s=!1;for(let l=0;l<e.length;l++){const o=e[l];o.resource&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[l]=null,s=!0)}if(s){let l=0;for(let o=0;o<e.length;o++)e[o]!==null&&(e[l++]=e[o]);e.length=l}}unload(t){const e=this.renderer.texture,s=t._texture;s&&!s.framebuffer&&e.destroyTexture(s);for(let l=t.children.length-1;l>=0;l--)this.unload(t.children[l])}destroy(){this.renderer=null}};ol.defaultMode=Wd.AUTO,ol.defaultMaxIdle=60*60,ol.defaultCheckCountMax=60*10,ol.extension={type:pt.RendererSystem,name:"textureGC"};let Vs=ol;Tt.add(Vs);class Jf{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=wt.UNSIGNED_BYTE,this.internalFormat=ct.RGBA,this.samplerType=0}}function lA(n){let t;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?t={[n.RGB]:gt.FLOAT,[n.RGBA]:gt.FLOAT,[n.ALPHA]:gt.FLOAT,[n.LUMINANCE]:gt.FLOAT,[n.LUMINANCE_ALPHA]:gt.FLOAT,[n.R8]:gt.FLOAT,[n.R8_SNORM]:gt.FLOAT,[n.RG8]:gt.FLOAT,[n.RG8_SNORM]:gt.FLOAT,[n.RGB8]:gt.FLOAT,[n.RGB8_SNORM]:gt.FLOAT,[n.RGB565]:gt.FLOAT,[n.RGBA4]:gt.FLOAT,[n.RGB5_A1]:gt.FLOAT,[n.RGBA8]:gt.FLOAT,[n.RGBA8_SNORM]:gt.FLOAT,[n.RGB10_A2]:gt.FLOAT,[n.RGB10_A2UI]:gt.FLOAT,[n.SRGB8]:gt.FLOAT,[n.SRGB8_ALPHA8]:gt.FLOAT,[n.R16F]:gt.FLOAT,[n.RG16F]:gt.FLOAT,[n.RGB16F]:gt.FLOAT,[n.RGBA16F]:gt.FLOAT,[n.R32F]:gt.FLOAT,[n.RG32F]:gt.FLOAT,[n.RGB32F]:gt.FLOAT,[n.RGBA32F]:gt.FLOAT,[n.R11F_G11F_B10F]:gt.FLOAT,[n.RGB9_E5]:gt.FLOAT,[n.R8I]:gt.INT,[n.R8UI]:gt.UINT,[n.R16I]:gt.INT,[n.R16UI]:gt.UINT,[n.R32I]:gt.INT,[n.R32UI]:gt.UINT,[n.RG8I]:gt.INT,[n.RG8UI]:gt.UINT,[n.RG16I]:gt.INT,[n.RG16UI]:gt.UINT,[n.RG32I]:gt.INT,[n.RG32UI]:gt.UINT,[n.RGB8I]:gt.INT,[n.RGB8UI]:gt.UINT,[n.RGB16I]:gt.INT,[n.RGB16UI]:gt.UINT,[n.RGB32I]:gt.INT,[n.RGB32UI]:gt.UINT,[n.RGBA8I]:gt.INT,[n.RGBA8UI]:gt.UINT,[n.RGBA16I]:gt.INT,[n.RGBA16UI]:gt.UINT,[n.RGBA32I]:gt.INT,[n.RGBA32UI]:gt.UINT,[n.DEPTH_COMPONENT16]:gt.FLOAT,[n.DEPTH_COMPONENT24]:gt.FLOAT,[n.DEPTH_COMPONENT32F]:gt.FLOAT,[n.DEPTH_STENCIL]:gt.FLOAT,[n.DEPTH24_STENCIL8]:gt.FLOAT,[n.DEPTH32F_STENCIL8]:gt.FLOAT}:t={[n.RGB]:gt.FLOAT,[n.RGBA]:gt.FLOAT,[n.ALPHA]:gt.FLOAT,[n.LUMINANCE]:gt.FLOAT,[n.LUMINANCE_ALPHA]:gt.FLOAT,[n.DEPTH_STENCIL]:gt.FLOAT},t}function oA(n){let t;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?t={[wt.UNSIGNED_BYTE]:{[ct.RGBA]:n.RGBA8,[ct.RGB]:n.RGB8,[ct.RG]:n.RG8,[ct.RED]:n.R8,[ct.RGBA_INTEGER]:n.RGBA8UI,[ct.RGB_INTEGER]:n.RGB8UI,[ct.RG_INTEGER]:n.RG8UI,[ct.RED_INTEGER]:n.R8UI,[ct.ALPHA]:n.ALPHA,[ct.LUMINANCE]:n.LUMINANCE,[ct.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[wt.BYTE]:{[ct.RGBA]:n.RGBA8_SNORM,[ct.RGB]:n.RGB8_SNORM,[ct.RG]:n.RG8_SNORM,[ct.RED]:n.R8_SNORM,[ct.RGBA_INTEGER]:n.RGBA8I,[ct.RGB_INTEGER]:n.RGB8I,[ct.RG_INTEGER]:n.RG8I,[ct.RED_INTEGER]:n.R8I},[wt.UNSIGNED_SHORT]:{[ct.RGBA_INTEGER]:n.RGBA16UI,[ct.RGB_INTEGER]:n.RGB16UI,[ct.RG_INTEGER]:n.RG16UI,[ct.RED_INTEGER]:n.R16UI,[ct.DEPTH_COMPONENT]:n.DEPTH_COMPONENT16},[wt.SHORT]:{[ct.RGBA_INTEGER]:n.RGBA16I,[ct.RGB_INTEGER]:n.RGB16I,[ct.RG_INTEGER]:n.RG16I,[ct.RED_INTEGER]:n.R16I},[wt.UNSIGNED_INT]:{[ct.RGBA_INTEGER]:n.RGBA32UI,[ct.RGB_INTEGER]:n.RGB32UI,[ct.RG_INTEGER]:n.RG32UI,[ct.RED_INTEGER]:n.R32UI,[ct.DEPTH_COMPONENT]:n.DEPTH_COMPONENT24},[wt.INT]:{[ct.RGBA_INTEGER]:n.RGBA32I,[ct.RGB_INTEGER]:n.RGB32I,[ct.RG_INTEGER]:n.RG32I,[ct.RED_INTEGER]:n.R32I},[wt.FLOAT]:{[ct.RGBA]:n.RGBA32F,[ct.RGB]:n.RGB32F,[ct.RG]:n.RG32F,[ct.RED]:n.R32F,[ct.DEPTH_COMPONENT]:n.DEPTH_COMPONENT32F},[wt.HALF_FLOAT]:{[ct.RGBA]:n.RGBA16F,[ct.RGB]:n.RGB16F,[ct.RG]:n.RG16F,[ct.RED]:n.R16F},[wt.UNSIGNED_SHORT_5_6_5]:{[ct.RGB]:n.RGB565},[wt.UNSIGNED_SHORT_4_4_4_4]:{[ct.RGBA]:n.RGBA4},[wt.UNSIGNED_SHORT_5_5_5_1]:{[ct.RGBA]:n.RGB5_A1},[wt.UNSIGNED_INT_2_10_10_10_REV]:{[ct.RGBA]:n.RGB10_A2,[ct.RGBA_INTEGER]:n.RGB10_A2UI},[wt.UNSIGNED_INT_10F_11F_11F_REV]:{[ct.RGB]:n.R11F_G11F_B10F},[wt.UNSIGNED_INT_5_9_9_9_REV]:{[ct.RGB]:n.RGB9_E5},[wt.UNSIGNED_INT_24_8]:{[ct.DEPTH_STENCIL]:n.DEPTH24_STENCIL8},[wt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ct.DEPTH_STENCIL]:n.DEPTH32F_STENCIL8}}:t={[wt.UNSIGNED_BYTE]:{[ct.RGBA]:n.RGBA,[ct.RGB]:n.RGB,[ct.ALPHA]:n.ALPHA,[ct.LUMINANCE]:n.LUMINANCE,[ct.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[wt.UNSIGNED_SHORT_5_6_5]:{[ct.RGB]:n.RGB},[wt.UNSIGNED_SHORT_4_4_4_4]:{[ct.RGBA]:n.RGBA},[wt.UNSIGNED_SHORT_5_5_5_1]:{[ct.RGBA]:n.RGBA}},t}class L_{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new It,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=oA(t),this.samplerTypes=lA(t);const e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(let l=0;l<e;l++)this.boundTextures[l]=null;this.emptyTextures={};const s=new Jf(t.createTexture());t.bindTexture(t.TEXTURE_2D,s.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=s,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Jf(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let l=0;l<6;l++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let l=0;l<this.boundTextures.length;l++)this.bind(null,l)}bind(t,e=0){const{gl:s}=this;if(t=t==null?void 0:t.castToBaseTexture(),(t==null?void 0:t.valid)&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const l=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,s.activeTexture(s.TEXTURE0+e)),s.bindTexture(t.target,l.texture)),l.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,s.activeTexture(s.TEXTURE0+e)),this.updateTexture(t)):l.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,s.activeTexture(s.TEXTURE0+e)),s.bindTexture(s.TEXTURE_2D,this.emptyTextures[s.TEXTURE_2D].texture),this.boundTextures[e]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:e,boundTextures:s}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let l=0;l<s.length;l++)s[l]===this.unknownTexture&&this.bind(null,l)}for(let l=0;l<s.length;l++)s[l]===t&&(this.currentLocation!==l&&(e.activeTexture(e.TEXTURE0+l),this.currentLocation=l),e.bindTexture(t.target,this.emptyTextures[t.target].texture),s[l]=null)}ensureSamplerType(t){const{boundTextures:e,hasIntegerTextures:s,CONTEXT_UID:l}=this;if(s)for(let o=t-1;o>=0;--o){const h=e[o];h&&h._glTextures[l].samplerType!==gt.FLOAT&&this.renderer.texture.unbind(h)}}initTexture(t){const e=new Jf(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e}initTextureType(t,e){var s;e.internalFormat=((s=this.internalFormats[t.type])==null?void 0:s[t.format])??t.format,e.samplerType=this.samplerTypes[e.internalFormat]??gt.FLOAT,this.webGLVersion===2&&t.type===wt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type}updateTexture(t){var l;const e=t._glTextures[this.CONTEXT_UID];if(!e)return;const s=this.renderer;if(this.initTextureType(t,e),(l=t.resource)==null?void 0:l.upload(s,t,e))e.samplerType!==gt.FLOAT&&(this.hasIntegerTextures=!0);else{const o=t.realWidth,h=t.realHeight,c=s.gl;(e.width!==o||e.height!==h||e.dirtyId<0)&&(e.width=o,e.height=h,c.texImage2D(t.target,0,e.internalFormat,o,h,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}destroyTexture(t,e){const{gl:s}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),s.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){const l=this.managedTextures.indexOf(t);l!==-1&&Zn(this.managedTextures,l,1)}}updateTextureStyle(t){var s;const e=t._glTextures[this.CONTEXT_UID];e&&((t.mipmap===Qi.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?e.mipmap=!1:e.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?e.wrapMode=us.CLAMP:e.wrapMode=t.wrapMode,(s=t.resource)!=null&&s.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)}setStyle(t,e){const s=this.gl;if(e.mipmap&&t.mipmap!==Qi.ON_MANUAL&&s.generateMipmap(t.target),s.texParameteri(t.target,s.TEXTURE_WRAP_S,e.wrapMode),s.texParameteri(t.target,s.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){s.texParameteri(t.target,s.TEXTURE_MIN_FILTER,t.scaleMode===Ar.LINEAR?s.LINEAR_MIPMAP_LINEAR:s.NEAREST_MIPMAP_NEAREST);const l=this.renderer.context.extensions.anisotropicFiltering;if(l&&t.anisotropicLevel>0&&t.scaleMode===Ar.LINEAR){const o=Math.min(t.anisotropicLevel,s.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT));s.texParameterf(t.target,l.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else s.texParameteri(t.target,s.TEXTURE_MIN_FILTER,t.scaleMode===Ar.LINEAR?s.LINEAR:s.NEAREST);s.texParameteri(t.target,s.TEXTURE_MAG_FILTER,t.scaleMode===Ar.LINEAR?s.LINEAR:s.NEAREST)}destroy(){this.renderer=null}}L_.extension={type:pt.RendererSystem,name:"texture"};Tt.add(L_);class F_{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:s}=this,l=t._glTransformFeedbacks[s]||this.createGLTransformFeedback(t);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,l)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,e){const{gl:s,renderer:l}=this;e&&l.shader.bind(e),s.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:e,renderer:s,CONTEXT_UID:l}=this,o=e.createTransformFeedback();t._glTransformFeedbacks[l]=o,e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,o);for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];c&&(s.buffer.update(c),c._glBuffers[l].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,h,c._glBuffers[l].buffer||null))}return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),o}disposeTransformFeedback(t,e){const s=t._glTransformFeedbacks[this.CONTEXT_UID],l=this.gl;t.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];if(!c)continue;const d=c._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!e&&o.dispose(c,e))}s&&(e||l.deleteTransformFeedback(s),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}F_.extension={type:pt.RendererSystem,name:"transformFeedback"};Tt.add(F_);class fu{constructor(t){this.renderer=t}init(t){this.screen=new Nt(0,0,t.width,t.height),this.element=t.view||yt.ADAPTER.createCanvas(),this.resolution=t.resolution||yt.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,e){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(e*this.resolution);const s=this.element.width/this.resolution,l=this.element.height/this.resolution;this.screen.width=s,this.screen.height=l,this.autoDensity&&(this.element.style.width=`${s}px`,this.element.style.height=`${l}px`),this.renderer.emit("resize",s,l),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){var e;t&&((e=this.element.parentNode)==null||e.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}fu.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},fu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"_view"};Tt.add(fu);yt.PREFER_ENV=Zs.WEBGL2;yt.STRICT_TEXTURE_CACHE=!1;yt.RENDER_OPTIONS={...hu.defaultOptions,...uu.defaultOptions,...fu.defaultOptions,...cu.defaultOptions};Object.defineProperties(yt,{WRAP_MODE:{get(){return It.defaultOptions.wrapMode},set(n){kt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),It.defaultOptions.wrapMode=n}},SCALE_MODE:{get(){return It.defaultOptions.scaleMode},set(n){kt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),It.defaultOptions.scaleMode=n}},MIPMAP_TEXTURES:{get(){return It.defaultOptions.mipmap},set(n){kt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),It.defaultOptions.mipmap=n}},ANISOTROPIC_LEVEL:{get(){return It.defaultOptions.anisotropicLevel},set(n){kt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),It.defaultOptions.anisotropicLevel=n}},FILTER_RESOLUTION:{get(){return kt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),je.defaultResolution},set(n){je.defaultResolution=n}},FILTER_MULTISAMPLE:{get(){return kt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),je.defaultMultisample},set(n){je.defaultMultisample=n}},SPRITE_MAX_TEXTURES:{get(){return Xs.defaultMaxTextures},set(n){kt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Xs.defaultMaxTextures=n}},SPRITE_BATCH_SIZE:{get(){return Xs.defaultBatchSize},set(n){kt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Xs.defaultBatchSize=n}},CAN_UPLOAD_SAME_BUFFER:{get(){return Xs.canUploadSameBuffer},set(n){kt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Xs.canUploadSameBuffer=n}},GC_MODE:{get(){return Vs.defaultMode},set(n){kt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Vs.defaultMode=n}},GC_MAX_IDLE:{get(){return Vs.defaultMaxIdle},set(n){kt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Vs.defaultMaxIdle=n}},GC_MAX_CHECK_COUNT:{get(){return Vs.defaultCheckCountMax},set(n){kt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Vs.defaultCheckCountMax=n}},PRECISION_VERTEX:{get(){return Rr.defaultVertexPrecision},set(n){kt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Rr.defaultVertexPrecision=n}},PRECISION_FRAGMENT:{get(){return Rr.defaultFragmentPrecision},set(n){kt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Rr.defaultFragmentPrecision=n}}});var Ws=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(Ws||{});class td{constructor(t,e=null,s=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=s,this.once=l}match(t,e=null){return this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const G_=class ri{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new td(null,null,1/0),this.deltaMS=1/ri.targetFPMS,this.elapsedMS=1/ri.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,s=Ws.NORMAL){return this._addListener(new td(t,e,s))}addOnce(t,e,s=Ws.NORMAL){return this._addListener(new td(t,e,s,!0))}_addListener(t){let e=this._head.next,s=this._head;if(!e)t.connect(s);else{for(;e;){if(t.priority>e.priority){t.connect(s);break}s=e,e=e.next}t.previous||t.connect(s)}return this._startIfPossible(),this}remove(t,e){let s=this._head.next;for(;s;)s.match(t,e)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const o=t-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=t-o%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*ri.targetFPMS;const s=this._head;let l=s.next;for(;l;)l=l.emit(this.deltaTime);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),s=Math.min(Math.max(0,e)/1e3,ri.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!ri._shared){const t=ri._shared=new ri;t.autoStart=!0,t._protected=!0}return ri._shared}static get system(){if(!ri._system){const t=ri._system=new ri;t.autoStart=!0,t._protected=!0}return ri._system}};G_.targetFPMS=.06;let si=G_;Object.defineProperties(yt,{TARGET_FPMS:{get(){return si.targetFPMS},set(n){kt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),si.targetFPMS=n}}});class H_{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,Ws.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?si.shared:new si,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}H_.extension=pt.Application;Tt.add(H_);const k_=[];Tt.handleByList(pt.Renderer,k_);function uA(n){for(const t of k_)if(t.test(n))return new t(n);throw new Error("Unable to auto-detect a suitable renderer.")}var hA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,cA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const fA=hA,z_=cA;class X_{constructor(t){this.renderer=t}contextChange(t){let e;if(this.renderer.context.webGLVersion===1){const s=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,s)}else{const s=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,s)}e>=ye.HIGH?this.multisample=ye.HIGH:e>=ye.MEDIUM?this.multisample=ye.MEDIUM:e>=ye.LOW?this.multisample=ye.LOW:this.multisample=ye.NONE}destroy(){}}X_.extension={type:pt.RendererSystem,name:"_multisample"};Tt.add(X_);class dA{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class V_{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:s}=this,l=t._glBuffers[s]||this.createGLBuffer(t);e.bindBuffer(t.type,l.buffer)}unbind(t){const{gl:e}=this;e.bindBuffer(t,null)}bindBufferBase(t,e){const{gl:s,CONTEXT_UID:l}=this;if(this.boundBufferBases[e]!==t){const o=t._glBuffers[l]||this.createGLBuffer(t);this.boundBufferBases[e]=t,s.bindBufferBase(s.UNIFORM_BUFFER,e,o.buffer)}}bindBufferRange(t,e,s){const{gl:l,CONTEXT_UID:o}=this;s=s||0;const h=t._glBuffers[o]||this.createGLBuffer(t);l.bindBufferRange(l.UNIFORM_BUFFER,e||0,h.buffer,s*256,256)}update(t){const{gl:e,CONTEXT_UID:s}=this,l=t._glBuffers[s]||this.createGLBuffer(t);if(t._updateID!==l.updateID)if(l.updateID=t._updateID,e.bindBuffer(t.type,l.buffer),l.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{const o=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;l.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,o)}}dispose(t,e){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const s=t._glBuffers[this.CONTEXT_UID],l=this.gl;t.disposeRunner.remove(this),s&&(e||l.deleteBuffer(s.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const e=Object.keys(this.managedBuffers);for(let s=0;s<e.length;s++)this.dispose(this.managedBuffers[e[s]],t)}createGLBuffer(t){const{CONTEXT_UID:e,gl:s}=this;return t._glBuffers[e]=new dA(s.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]}}V_.extension={type:pt.RendererSystem,name:"buffer"};Tt.add(V_);class j_{constructor(t){this.renderer=t}render(t,e){const s=this.renderer;let l,o,h,c;if(e&&(l=e.renderTexture,o=e.clear,h=e.transform,c=e.skipUpdateTransform),this.renderingToScreen=!l,s.runners.prerender.emit(),s.emit("prerender"),s.projection.transform=h,!s.context.isLost){if(l||(this.lastObjectRendered=t),!c){const d=t.enableTempParent();t.updateTransform(),t.disableTempParent(d)}s.renderTexture.bind(l),s.batch.currentRenderer.start(),(o??s.background.clearBeforeRender)&&s.renderTexture.clear(),t.render(s),s.batch.currentRenderer.flush(),l&&(e.blit&&s.framebuffer.blit(),l.baseTexture.update()),s.runners.postrender.emit(),s.projection.transform=null,s.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}j_.extension={type:pt.RendererSystem,name:"objectRenderer"};Tt.add(j_);const tu=class Rd extends aA{constructor(t){super(),this.type=$0.WEBGL,t=Object.assign({},yt.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Ii({projectionMatrix:new re},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Rd.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(kt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=Rd.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:PE()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return kt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return kt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return kt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return kt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){kt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return kt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){kt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return kt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};tu.extension={type:pt.Renderer,priority:1},tu.__plugins={},tu.__systems={};let ep=tu;Tt.handleByMap(pt.RendererPlugin,ep.__plugins);Tt.handleByMap(pt.RendererSystem,ep.__systems);Tt.add(ep);class Y_ extends pl{constructor(t,e){const{width:s,height:l}=e||{};super(s,l),this.items=[],this.itemDirtyIds=[];for(let o=0;o<t;o++){const h=new It;this.items.push(h),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,e){for(let s=0;s<this.length;s++)t[s]&&(t[s].castToBaseTexture?this.addBaseTextureAt(t[s].castToBaseTexture(),s):t[s]instanceof pl?this.addResourceAt(t[s],s):this.addResourceAt(h_(t[s],e),s))}dispose(){for(let t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,e){if(!this.items[e])throw new Error(`Index ${e} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)}unbind(t){super.unbind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(t).then(()=>{const{realWidth:e,realHeight:s}=this.items[0];return this.resize(e,s),this.update(),Promise.resolve(this)}),this._load}}class pA extends Y_{constructor(t,e){const{width:s,height:l}=e||{};let o,h;Array.isArray(t)?(o=t,h=t.length):h=t,super(h,{width:s,height:l}),o&&this.initFromArray(o,e)}addBaseTextureAt(t,e){if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=Wn.TEXTURE_2D_ARRAY}upload(t,e,s){const{length:l,itemDirtyIds:o,items:h}=this,{gl:c}=t;s.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,s.internalFormat,this._width,this._height,l,0,e.format,s.type,null);for(let d=0;d<l;d++){const p=h[d];o[d]<p.dirtyId&&(o[d]=p.dirtyId,p.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,d,p.resource.width,p.resource.height,1,e.format,s.type,p.resource.source))}return!0}}class mA extends Mr{constructor(t){super(t)}static test(t){const{OffscreenCanvas:e}=globalThis;return e&&t instanceof e?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const q_=class ul extends Y_{constructor(t,e){const{width:s,height:l,autoLoad:o,linkBaseTexture:h}=e||{};if(t&&t.length!==ul.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:s,height:l});for(let c=0;c<ul.SIDES;c++)this.items[c].target=Wn.TEXTURE_CUBE_MAP_POSITIVE_X+c;this.linkBaseTexture=h!==!1,t&&this.initFromArray(t,e),o!==!1&&this.load()}bind(t){super.bind(t),t.target=Wn.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,s){if(s===void 0&&(s=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Wn.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,s){const l=this.itemDirtyIds;for(let o=0;o<ul.SIDES;o++){const h=this.items[o];(l[o]<h.dirtyId||s.dirtyId<e.dirtyId)&&(h.valid&&h.resource?(h.resource.upload(t,h,s),l[o]=h.dirtyId):l[o]<-1&&(t.gl.texImage2D(h.target,0,s.internalFormat,e.realWidth,e.realHeight,0,e.format,s.type,null),l[o]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===ul.SIDES}};q_.SIDES=6;let gA=q_;class $n extends Mr{constructor(t,e){e=e||{};let s,l,o;typeof t=="string"?(s=$n.EMPTY,l=t,o=!0):(s=t,l=null,o=!1),super(s),this.url=l,this.crossOrigin=e.crossOrigin??!0,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.ownsImageBitmap=e.ownsImageBitmap??o,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,e)=>{if(this.url===null){t(this);return}try{const s=await yt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const l=await s.blob();if(this.destroyed)return;const o=await createImageBitmap(l,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ze.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),t(this)}catch(s){if(this.destroyed)return;e(s),this.onError.emit(s)}}),this._load)}upload(t,e,s){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),super.upload(t,e,s)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return $n._EMPTY=$n._EMPTY??yt.ADAPTER.createCanvas(0,0),$n._EMPTY}}const Cd=class eu extends Mr{constructor(t,e){e=e||{},super(yt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},eu.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Mr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,s=t.height;if(!e||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let l=e*this.scale,o=s*this.scale;(this._overrideWidth||this._overrideHeight)&&(l=this._overrideWidth||this._overrideHeight/s*e,o=this._overrideHeight||this._overrideWidth/e*s),l=Math.round(l),o=Math.round(o);const h=this.source;h.width=l,h.height=o,h._pixiId=`canvas_${$s()}`,h.getContext("2d").drawImage(t,0,0,e,s,0,0,l,o),this._resolve(),this._resolve=null}}static getSize(t){const e=eu.SVG_SIZE.exec(t),s={};return e&&(s[e[1]]=Math.round(parseFloat(e[3])),s[e[5]]=Math.round(parseFloat(e[7]))),s}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&eu.SVG_XML.test(t)}};Cd.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Cd.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Md=Cd;class yA extends Mr{constructor(t){super(t)}static test(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}const Dd=class Od extends Mr{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const s=document.createElement("video");e.autoLoad!==!1&&s.setAttribute("preload","auto"),e.playsinline!==!1&&(s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline","")),e.muted===!0&&(s.setAttribute("muted",""),s.muted=!0),e.loop===!0&&s.setAttribute("loop",""),e.autoPlay!==!1&&s.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const l=t[0].src||t[0];Mr.crossOrigin(s,l,e.crossorigin);for(let o=0;o<t.length;++o){const h=document.createElement("source");let{src:c,mime:d}=t[o];if(c=c||t[o],c.startsWith("data:"))d=c.slice(5,c.indexOf(";"));else if(!c.startsWith("blob:")){const p=c.split("?").shift().toLowerCase(),g=p.slice(p.lastIndexOf(".")+1);d=d||Od.MIME_TYPES[g]||`video/${g}`}h.src=c,d&&(h.type=d),s.appendChild(h)}t=s}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const e=si.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((e,s)=>{this.valid?e(this):(this._resolve=e,this._reject=s,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!e&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(si.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(si.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(si.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Od.TYPES.includes(e)}};Dd.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Dd.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let $_=Dd;yd.push($n,__,mA,$_,yA,Md,Tu,gA,pA);class du{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?Nt.EMPTY:(t=t||new Nt(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,e){const{a:s,b:l,c:o,d:h,tx:c,ty:d}=t,p=s*e.x+o*e.y+c,g=l*e.x+h*e.y+d;this.minX=Math.min(this.minX,p),this.maxX=Math.max(this.maxX,p),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)}addQuad(t){let e=this.minX,s=this.minY,l=this.maxX,o=this.maxY,h=t[0],c=t[1];e=h<e?h:e,s=c<s?c:s,l=h>l?h:l,o=c>o?c:o,h=t[2],c=t[3],e=h<e?h:e,s=c<s?c:s,l=h>l?h:l,o=c>o?c:o,h=t[4],c=t[5],e=h<e?h:e,s=c<s?c:s,l=h>l?h:l,o=c>o?c:o,h=t[6],c=t[7],e=h<e?h:e,s=c<s?c:s,l=h>l?h:l,o=c>o?c:o,this.minX=e,this.minY=s,this.maxX=l,this.maxY=o}addFrame(t,e,s,l,o){this.addFrameMatrix(t.worldTransform,e,s,l,o)}addFrameMatrix(t,e,s,l,o){const h=t.a,c=t.b,d=t.c,p=t.d,g=t.tx,y=t.ty;let _=this.minX,v=this.minY,b=this.maxX,A=this.maxY,T=h*e+d*s+g,C=c*e+p*s+y;_=T<_?T:_,v=C<v?C:v,b=T>b?T:b,A=C>A?C:A,T=h*l+d*s+g,C=c*l+p*s+y,_=T<_?T:_,v=C<v?C:v,b=T>b?T:b,A=C>A?C:A,T=h*e+d*o+g,C=c*e+p*o+y,_=T<_?T:_,v=C<v?C:v,b=T>b?T:b,A=C>A?C:A,T=h*l+d*o+g,C=c*l+p*o+y,_=T<_?T:_,v=C<v?C:v,b=T>b?T:b,A=C>A?C:A,this.minX=_,this.minY=v,this.maxX=b,this.maxY=A}addVertexData(t,e,s){let l=this.minX,o=this.minY,h=this.maxX,c=this.maxY;for(let d=e;d<s;d+=2){const p=t[d],g=t[d+1];l=p<l?p:l,o=g<o?g:o,h=p>h?p:h,c=g>c?g:c}this.minX=l,this.minY=o,this.maxX=h,this.maxY=c}addVertices(t,e,s,l){this.addVerticesMatrix(t.worldTransform,e,s,l)}addVerticesMatrix(t,e,s,l,o=0,h=o){const c=t.a,d=t.b,p=t.c,g=t.d,y=t.tx,_=t.ty;let v=this.minX,b=this.minY,A=this.maxX,T=this.maxY;for(let C=s;C<l;C+=2){const N=e[C],M=e[C+1],P=c*N+p*M+y,D=g*M+d*N+_;v=Math.min(v,P-o),A=Math.max(A,P+o),b=Math.min(b,D-h),T=Math.max(T,D+h)}this.minX=v,this.minY=b,this.maxX=A,this.maxY=T}addBounds(t){const e=this.minX,s=this.minY,l=this.maxX,o=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<s?t.minY:s,this.maxX=t.maxX>l?t.maxX:l,this.maxY=t.maxY>o?t.maxY:o}addBoundsMask(t,e){const s=t.minX>e.minX?t.minX:e.minX,l=t.minY>e.minY?t.minY:e.minY,o=t.maxX<e.maxX?t.maxX:e.maxX,h=t.maxY<e.maxY?t.maxY:e.maxY;if(s<=o&&l<=h){const c=this.minX,d=this.minY,p=this.maxX,g=this.maxY;this.minX=s<c?s:c,this.minY=l<d?l:d,this.maxX=o>p?o:p,this.maxY=h>g?h:g}}addBoundsMatrix(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,e){const s=t.minX>e.x?t.minX:e.x,l=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,h=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(s<=o&&l<=h){const c=this.minX,d=this.minY,p=this.maxX,g=this.maxY;this.minX=s<c?s:c,this.minY=l<d?l:d,this.maxX=o>p?o:p,this.maxY=h>g?h:g}}pad(t=0,e=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)}addFramePad(t,e,s,l,o,h){t-=o,e-=h,s+=o,l+=h,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>s?this.maxX:s,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>l?this.maxY:l}}class oe extends ml{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Jd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new du,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const e=Object.keys(t);for(let s=0;s<e.length;++s){const l=e[s];Object.defineProperty(oe.prototype,l,Object.getOwnPropertyDescriptor(t,l))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Nt),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new Nt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new du);const e=this.transform,s=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(s==null?void 0:s.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const l=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const h=this.getBounds(!1,t);return this.parent=s,this.transform=e,this._bounds=l,this._bounds.updateID+=this._boundsID-o,h}toGlobal(t,e,s=!1){return s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}toLocal(t,e,s,l){return e&&(t=e.toGlobal(t,s,l)),l||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,s)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}setTransform(t=0,e=0,s=1,l=1,o=0,h=0,c=0,d=0,p=0){return this.position.x=t,this.position.y=e,this.scale.x=s||1,this.scale.y=l||1,this.rotation=o,this.skew.x=h,this.skew.y=c,this.pivot.x=d,this.pivot.y=p,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new vA),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*hT}set angle(t){this.transform.rotation=t*cT}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,e._maskRefCount===0&&(e.renderable=!0,e.isMask=!1))}if(this._mask=t,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount===0&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class vA extends oe{constructor(){super(...arguments),this.sortDirty=null}}oe.prototype.displayObjectUpdateTransform=oe.prototype.updateTransform;const _A=new re;function xA(n,t){return n.zIndex===t.zIndex?n._lastSortedIndex-t._lastSortedIndex:n.zIndex-t.zIndex}const W_=class Bd extends oe{constructor(){super(),this.children=[],this.sortableChildren=Bd.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const s=this.getChildIndex(t),l=this.getChildIndex(e);this.children[s]=e,this.children[l]=t,this.onChildrenChange(s<l?s:l)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const s=this.getChildIndex(t);Zn(this.children,s,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],s=this.children.indexOf(e);if(s===-1)return null;e.parent=null,e.transform._parentID=-1,Zn(this.children,s,1),this._boundsID++,this.onChildrenChange(s),e.emit("removed",this),this.emit("childRemoved",e,this,s)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Zn(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const s=t,l=e,o=l-s;let h;if(o>0&&o<=l){h=this.children.splice(s,o);for(let c=0;c<h.length;++c)h[c].parent=null,h[c].transform&&(h[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let c=0;c<h.length;++c)h[c].emit("removed",this),this.emit("childRemoved",h[c],this,c);return h}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,s=this.children.length;e<s;++e){const l=this.children[e];l._lastSortedIndex=e,!t&&l.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(xA),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const s=this.children[t];s.visible&&s.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;s?(s.calculateBounds(),this._bounds.addBoundsMask(e._bounds,s._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const s=super.getLocalBounds(t);if(!e)for(let l=0,o=this.children.length;l<o;++l){const h=this.children[l];h.visible&&h.updateTransform()}return s}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let s,l;this.cullArea?(s=this.cullArea,l=this.worldTransform):this._render!==Bd.prototype._render&&(s=this.getBounds(!0));const o=t.projection.transform;if(o&&(l?(l=_A.copyFrom(l),l.prepend(o)):l=o),s&&e.intersects(s,l))this._render(t);else if(this.cullArea)return;for(let h=0,c=this.children.length;h<c;++h){const d=this.children[h],p=d.cullable;d.cullable=p||!this.cullArea,d.render(t),d.cullable=p}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let s=0,l=this.children.length;s<l;++s)this.children[s].render(t)}}renderAdvanced(t){var o,h,c;const e=this.filters,s=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let d=0;d<e.length;d++)e[d].enabled&&this._enabledFilters.push(e[d])}const l=e&&((o=this._enabledFilters)==null?void 0:o.length)||s&&(!s.isMaskData||s.enabled&&(s.autoDetect||s.type!==be.NONE));if(l&&t.batch.flush(),e&&((h=this._enabledFilters)!=null&&h.length)&&t.filter.push(this,this._enabledFilters),s&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let d=0,p=this.children.length;d<p;++d)this.children[d].render(t)}l&&t.batch.flush(),s&&t.mask.pop(this),e&&((c=this._enabledFilters)!=null&&c.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,s=this.removeChildren(0,this.children.length);if(e)for(let l=0;l<s.length;++l)s[l].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};W_.defaultSortableChildren=!1;let Ge=W_;Ge.prototype.containerUpdateTransform=Ge.prototype.updateTransform;Object.defineProperties(yt,{SORTABLE_CHILDREN:{get(){return Ge.defaultSortableChildren},set(n){kt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Ge.defaultSortableChildren=n}}});const sl=new Gt,bA=new Uint16Array([0,1,2,0,2,3]);class Ni extends Ge{constructor(t){super(),this._anchor=new wr(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ie(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Mt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||xt.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=bA,this.pluginName="batch",this.isSprite=!0,this._roundPixels=yt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ls(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ls(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const e=this.transform.worldTransform,s=e.a,l=e.b,o=e.c,h=e.d,c=e.tx,d=e.ty,p=this.vertexData,g=t.trim,y=t.orig,_=this._anchor;let v=0,b=0,A=0,T=0;if(g?(b=g.x-_._x*y.width,v=b+g.width,T=g.y-_._y*y.height,A=T+g.height):(b=-_._x*y.width,v=b+y.width,T=-_._y*y.height,A=T+y.height),p[0]=s*b+o*T+c,p[1]=h*T+l*b+d,p[2]=s*v+o*T+c,p[3]=h*T+l*v+d,p[4]=s*v+o*A+c,p[5]=h*A+l*v+d,p[6]=s*b+o*A+c,p[7]=h*A+l*b+d,this._roundPixels){const C=yt.RESOLUTION;for(let N=0;N<p.length;++N)p[N]=Math.round(p[N]*C)/C}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,e=this.vertexTrimmedData,s=t.orig,l=this._anchor,o=this.transform.worldTransform,h=o.a,c=o.b,d=o.c,p=o.d,g=o.tx,y=o.ty,_=-l._x*s.width,v=_+s.width,b=-l._y*s.height,A=b+s.height;if(e[0]=h*_+d*b+g,e[1]=p*b+c*_+y,e[2]=h*v+d*b+g,e[3]=p*b+c*v+y,e[4]=h*v+d*A+g,e[5]=p*A+c*v+y,e[6]=h*_+d*A+g,e[7]=p*A+c*_+y,this._roundPixels){const T=yt.RESOLUTION;for(let C=0;C<e.length;++C)e[C]=Math.round(e[C]*T)/T}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new du),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Nt),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,sl);const e=this._texture.orig.width,s=this._texture.orig.height,l=-e*this.anchor.x;let o=0;return sl.x>=l&&sl.x<l+e&&(o=-s*this.anchor.y,sl.y>=o&&sl.y<o+s)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t==null?void 0:t.texture){const e=typeof t=="boolean"?t:t==null?void 0:t.baseTexture;this._texture.destroy(!!e)}this._texture=null}static from(t,e){const s=t instanceof xt?t:xt.from(t,e);return new Ni(s)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const e=ls(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const e=ls(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||xt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const Z_=new re;oe.prototype._cacheAsBitmap=!1;oe.prototype._cacheData=null;oe.prototype._cacheAsBitmapResolution=null;oe.prototype._cacheAsBitmapMultisample=null;class EA{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(oe.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(n){if(this._cacheAsBitmap===n)return;this._cacheAsBitmap=n;let t;n?(this._cacheData||(this._cacheData=new EA),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}});oe.prototype._renderCached=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(n),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(n))};oe.prototype._initCachedDisplayObject=function(n){var _,v;if((_=this._cacheData)!=null&&_.sprite)return;const t=this.alpha;this.alpha=1,n.batch.flush();const e=this.getLocalBounds(new Nt,!0);if((v=this.filters)!=null&&v.length){const b=this.filters[0].padding;e.pad(b)}const s=this.cacheAsBitmapResolution||n.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const l=n.renderTexture.current,o=n.renderTexture.sourceFrame.clone(),h=n.renderTexture.destinationFrame.clone(),c=n.projection.transform,d=Ks.create({width:e.width,height:e.height,resolution:s,multisample:this.cacheAsBitmapMultisample??n.multisample}),p=`cacheAsBitmap_${$s()}`;this._cacheData.textureCacheId=p,It.addToCache(d.baseTexture,p),xt.addToCache(d,p);const g=this.transform.localTransform.copyTo(Z_).invert().translate(-e.x,-e.y);this.render=this._cacheData.originalRender,n.render(this,{renderTexture:d,clear:!0,transform:g,skipUpdateTransform:!1}),n.framebuffer.blit(),n.projection.transform=c,n.renderTexture.bind(l,o,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const y=new Ni(d);y.transform.worldTransform=this.transform.worldTransform,y.anchor.x=-(e.x/e.width),y.anchor.y=-(e.y/e.height),y.alpha=t,y._bounds=this._bounds,this._cacheData.sprite=y,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=y.containsPoint.bind(y)};oe.prototype._renderCachedCanvas=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(n),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(n))};oe.prototype._initCachedDisplayObjectCanvas=function(n){var g;if((g=this._cacheData)!=null&&g.sprite)return;const t=this.getLocalBounds(new Nt,!0),e=this.alpha;this.alpha=1;const s=n.canvasContext.activeContext,l=n._projTransform,o=this.cacheAsBitmapResolution||n.resolution;t.ceil(o),t.width=Math.max(t.width,1/o),t.height=Math.max(t.height,1/o);const h=Ks.create({width:t.width,height:t.height,resolution:o}),c=`cacheAsBitmap_${$s()}`;this._cacheData.textureCacheId=c,It.addToCache(h.baseTexture,c),xt.addToCache(h,c);const d=Z_;this.transform.localTransform.copyTo(d),d.invert(),d.tx-=t.x,d.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,n.render(this,{renderTexture:h,clear:!0,transform:d,skipUpdateTransform:!1}),n.canvasContext.activeContext=s,n._projTransform=l,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const p=new Ni(h);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(t.x/t.width),p.anchor.y=-(t.y/t.height),p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=n._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)};oe.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};oe.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};oe.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,It.removeFromCache(this._cacheData.textureCacheId),xt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};oe.prototype._cacheAsBitmapDestroy=function(n){this.cacheAsBitmap=!1,this.destroy(n)};oe.prototype.name=null;Ge.prototype.getChildByName=function(n,t){for(let e=0,s=this.children.length;e<s;e++)if(this.children[e].name===n)return this.children[e];if(t)for(let e=0,s=this.children.length;e<s;e++){const l=this.children[e];if(!l.getChildByName)continue;const o=l.getChildByName(n,!0);if(o)return o}return null};oe.prototype.getGlobalPosition=function(n=new Gt,t=!1){return this.parent?this.parent.toGlobal(this.position,n,t):(n.x=this.position.x,n.y=this.position.y),n};var TA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class AA extends je{constructor(t=1){super(fA,TA,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const SA={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},wA=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function RA(n){const t=SA[n],e=t.length;let s=wA,l="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let h;for(let c=0;c<n;c++){let d=o.replace("%index%",c.toString());h=c,c>=e&&(h=n-c-1),d=d.replace("%value%",t[h].toString()),l+=d,l+=`
`}return s=s.replace("%blur%",l),s=s.replace("%size%",n.toString()),s}const CA=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function MA(n,t){const e=Math.ceil(n/2);let s=CA,l="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let h=0;h<n;h++){let c=o.replace("%index%",h.toString());c=c.replace("%sampleIndex%",`${h-(e-1)}.0`),l+=c,l+=`
`}return s=s.replace("%blur%",l),s=s.replace("%size%",n.toString()),s}class Id extends je{constructor(t,e=8,s=4,l=je.defaultResolution,o=5){const h=MA(o,t),c=RA(o);super(h,c),this.horizontal=t,this.resolution=l,this._quality=0,this.quality=s,this.blur=e}apply(t,e,s,l){if(s?this.horizontal?this.uniforms.strength=1/s.width*(s.width/e.width):this.uniforms.strength=1/s.height*(s.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,e,s,l);else{const o=t.getFilterTexture(),h=t.renderer;let c=e,d=o;this.state.blend=!1,t.applyFilter(this,c,d,qi.CLEAR);for(let p=1;p<this.passes-1;p++){t.bindAndClear(c,qi.BLIT),this.uniforms.uSampler=d;const g=d;d=c,c=g,h.shader.bind(this),h.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,d,s,l),t.returnFilterTexture(o)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class DA extends je{constructor(t=8,e=4,s=je.defaultResolution,l=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Id(!0,t,e,s,l),this.blurYFilter=new Id(!1,t,e,s,l),this.resolution=s,this.quality=e,this.blur=t,this.repeatEdgePixels=!1}apply(t,e,s,l){const o=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(o&&h){const c=t.getFilterTexture();this.blurXFilter.apply(t,e,c,qi.CLEAR),this.blurYFilter.apply(t,c,s,l),t.returnFilterTexture(c)}else h?this.blurYFilter.apply(t,e,s,l):this.blurXFilter.apply(t,e,s,l)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var OA=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Nd extends je{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(z_,OA,t),this.alpha=1}_loadMatrix(t,e=!1){let s=t;e&&(this._multiply(s,this.uniforms.m,t),s=this._colorMatrix(s)),this.uniforms.m=s}_multiply(t,e,s){return t[0]=e[0]*s[0]+e[1]*s[5]+e[2]*s[10]+e[3]*s[15],t[1]=e[0]*s[1]+e[1]*s[6]+e[2]*s[11]+e[3]*s[16],t[2]=e[0]*s[2]+e[1]*s[7]+e[2]*s[12]+e[3]*s[17],t[3]=e[0]*s[3]+e[1]*s[8]+e[2]*s[13]+e[3]*s[18],t[4]=e[0]*s[4]+e[1]*s[9]+e[2]*s[14]+e[3]*s[19]+e[4],t[5]=e[5]*s[0]+e[6]*s[5]+e[7]*s[10]+e[8]*s[15],t[6]=e[5]*s[1]+e[6]*s[6]+e[7]*s[11]+e[8]*s[16],t[7]=e[5]*s[2]+e[6]*s[7]+e[7]*s[12]+e[8]*s[17],t[8]=e[5]*s[3]+e[6]*s[8]+e[7]*s[13]+e[8]*s[18],t[9]=e[5]*s[4]+e[6]*s[9]+e[7]*s[14]+e[8]*s[19]+e[9],t[10]=e[10]*s[0]+e[11]*s[5]+e[12]*s[10]+e[13]*s[15],t[11]=e[10]*s[1]+e[11]*s[6]+e[12]*s[11]+e[13]*s[16],t[12]=e[10]*s[2]+e[11]*s[7]+e[12]*s[12]+e[13]*s[17],t[13]=e[10]*s[3]+e[11]*s[8]+e[12]*s[13]+e[13]*s[18],t[14]=e[10]*s[4]+e[11]*s[9]+e[12]*s[14]+e[13]*s[19]+e[14],t[15]=e[15]*s[0]+e[16]*s[5]+e[17]*s[10]+e[18]*s[15],t[16]=e[15]*s[1]+e[16]*s[6]+e[17]*s[11]+e[18]*s[16],t[17]=e[15]*s[2]+e[16]*s[7]+e[17]*s[12]+e[18]*s[17],t[18]=e[15]*s[3]+e[16]*s[8]+e[17]*s[13]+e[18]*s[18],t[19]=e[15]*s[4]+e[16]*s[9]+e[17]*s[14]+e[18]*s[19]+e[19],t}_colorMatrix(t){const e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){const s=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(s,e)}tint(t,e){const[s,l,o]=ie.shared.setValue(t).toArray(),h=[s,0,0,0,0,0,l,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(h,e)}greyscale(t,e){const s=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(s,e)}blackAndWhite(t){const e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)}hue(t,e){t=(t||0)/180*Math.PI;const s=Math.cos(t),l=Math.sin(t),o=Math.sqrt,h=1/3,c=o(h),d=s+(1-s)*h,p=h*(1-s)-c*l,g=h*(1-s)+c*l,y=h*(1-s)+c*l,_=s+h*(1-s),v=h*(1-s)-c*l,b=h*(1-s)-c*l,A=h*(1-s)+c*l,T=s+h*(1-s),C=[d,p,g,0,0,y,_,v,0,0,b,A,T,0,0,0,0,0,1,0];this._loadMatrix(C,e)}contrast(t,e){const s=(t||0)+1,l=-.5*(s-1),o=[s,0,0,0,l,0,s,0,0,l,0,0,s,0,l,0,0,0,1,0];this._loadMatrix(o,e)}saturate(t=0,e){const s=t*2/3+1,l=(s-1)*-.5,o=[s,l,l,0,0,l,s,l,0,0,l,l,s,0,0,0,0,0,1,0];this._loadMatrix(o,e)}desaturate(){this.saturate(-1)}negative(t){const e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)}sepia(t){const e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)}technicolor(t){const e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)}polaroid(t){const e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)}toBGR(t){const e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)}kodachrome(t){const e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)}browni(t){const e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)}vintage(t){const e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)}colorTone(t,e,s,l,o){t=t||.2,e=e||.15,s=s||16770432,l=l||3375104;const h=ie.shared,[c,d,p]=h.setValue(s).toArray(),[g,y,_]=h.setValue(l).toArray(),v=[.3,.59,.11,0,0,c,d,p,t,0,g,y,_,e,0,c-g,d-y,p-_,0,0];this._loadMatrix(v,o)}night(t,e){t=t||.1;const s=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(s,e)}predator(t,e){const s=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(s,e)}lsd(t){const e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}Nd.prototype.grayscale=Nd.prototype.greyscale;var BA=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,IA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class NA extends je{constructor(t,e){const s=new re;t.renderable=!1,super(IA,BA,{mapSampler:t._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=s,e==null&&(e=20),this.scale=new Gt(e,e)}apply(t,e,s,l){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,h=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);h!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/h,this.uniforms.rotation[1]=o.b/h,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),t.applyFilter(this,e,s,l)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var UA=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,PA=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class LA extends je{constructor(){super(PA,UA)}}var FA=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class GA extends je{constructor(t=.5,e=Math.random()){super(z_,FA,{uNoise:0,uSeed:0}),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const b0={AlphaFilter:AA,BlurFilter:DA,BlurFilterPass:Id,ColorMatrixFilter:Nd,DisplacementFilter:NA,FXAAFilter:LA,NoiseFilter:GA};Object.entries(b0).forEach(([n,t])=>{Object.defineProperty(b0,n,{get(){return kt("7.1.0",`filters.${n} has moved to ${n}`),t}})});class HA{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(si.system.add(this.tickerUpdate,this,Ws.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(si.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const as=new HA;class gl{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=gl.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Gt,this.page=new Gt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,s){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,s,l,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class pu extends gl{constructor(){super(...arguments),this.client=new Gt,this.movement=new Gt,this.offset=new Gt,this.global=new Gt,this.screen=new Gt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,s){return t.worldTransform.applyInverse(s||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,s,l,o,h,c,d,p,g,y,_,v,b,A){throw new Error("Method not implemented.")}}class Di extends pu{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Qn extends pu{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Qn.DOM_DELTA_PIXEL=0,Qn.DOM_DELTA_LINE=1,Qn.DOM_DELTA_PAGE=2;const kA=2048,zA=new Gt,ed=new Gt;class XA{constructor(t){this.dispatch=new ml,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((s,l)=>s.priority-l.priority)}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let s=0,l=e.length;s<l;s++)e[s].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){as.pauseUpdate=!0;const s=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",l=this[s](this.rootTarget,this.rootTarget.eventMode,zA.set(t,e),this.hitTestFn,this.hitPruneFn);return l&&l[0]}propagate(t,e){if(!t.target)return;const s=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let l=0,o=s.length-1;l<o;l++)if(t.currentTarget=s[l],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let l=s.length-2;l>=0;l--)if(t.currentTarget=s[l],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,s=this._allInteractiveElements){if(s.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const l=Array.isArray(e)?e:[e];for(let o=s.length-1;o>=0;o--)l.forEach(h=>{t.currentTarget=s[o],this.notifyTarget(t,h)})}propagationPath(t){const e=[t];for(let s=0;s<kA&&t!==this.rootTarget;s++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,s,l,o,h=!1){let c=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(as.pauseUpdate=!1),t.interactiveChildren&&t.children){const g=t.children;for(let y=g.length-1;y>=0;y--){const _=g[y],v=this.hitTestMoveRecursive(_,this._isInteractive(e)?e:_.eventMode,s,l,o,h||o(t,s));if(v){if(v.length>0&&!v[v.length-1].parent)continue;const b=t.isInteractive();(v.length>0||b)&&(b&&this._allInteractiveElements.push(t),v.push(t)),this._hitElements.length===0&&(this._hitElements=v),c=!0}}}const d=this._isInteractive(e),p=t.isInteractive();return d&&p&&this._allInteractiveElements.push(t),h||this._hitElements.length>0?null:c?this._hitElements:d&&!o(t,s)&&l(t,s)?p?[t]:[]:null}hitTestRecursive(t,e,s,l,o){if(this._interactivePrune(t)||o(t,s))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(as.pauseUpdate=!1),t.interactiveChildren&&t.children){const d=t.children;for(let p=d.length-1;p>=0;p--){const g=d[p],y=this.hitTestRecursive(g,this._isInteractive(e)?e:g.eventMode,s,l,o);if(y){if(y.length>0&&!y[y.length-1].parent)continue;const _=t.isInteractive();return(y.length>0||_)&&y.push(t),y}}}const h=this._isInteractive(e),c=t.isInteractive();return h&&l(t,s)?c?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,e){var s;if(t.hitArea&&(t.worldTransform.applyInverse(e,ed),!t.hitArea.contains(ed.x,ed.y)))return!0;if(t._mask){const l=t._mask.isMaskData?t._mask.maskObject:t._mask;if(l&&!((s=l.containsPoint)!=null&&s.call(l,e)))return!0}return!1}hitTestFn(t,e){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(e):!1}notifyTarget(t,e){var o,h;e=e??t.type;const s=`on${e}`;(h=(o=t.currentTarget)[s])==null||h.call(o,t);const l=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,l),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),e.pointerType==="touch")this.dispatchEvent(e,"touchstart");else if(e.pointerType==="mouse"||e.pointerType==="pen"){const l=e.button===2;this.dispatchEvent(e,l?"rightdown":"mousedown")}const s=this.trackingData(t.pointerId);s.pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){var d,p;if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const s=e.pointerType==="mouse"||e.pointerType==="pen",l=this.trackingData(t.pointerId),o=this.findMountedTarget(l.overTargets);if(((d=l.overTargets)==null?void 0:d.length)>0&&o!==e.target){const g=t.type==="mousemove"?"mouseout":"pointerout",y=this.createPointerEvent(t,g,o);if(this.dispatchEvent(y,"pointerout"),s&&this.dispatchEvent(y,"mouseout"),!e.composedPath().includes(o)){const _=this.createPointerEvent(t,"pointerleave",o);for(_.eventPhase=_.AT_TARGET;_.target&&!e.composedPath().includes(_.target);)_.currentTarget=_.target,this.notifyTarget(_),s&&this.notifyTarget(_,"mouseleave"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(y)}if(o!==e.target){const g=t.type==="mousemove"?"mouseover":"pointerover",y=this.clonePointerEvent(e,g);this.dispatchEvent(y,"pointerover"),s&&this.dispatchEvent(y,"mouseover");let _=o==null?void 0:o.parent;for(;_&&_!==this.rootTarget.parent&&_!==e.target;)_=_.parent;if(!_||_===this.rootTarget.parent){const v=this.clonePointerEvent(e,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==o&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),s&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(y)}const h=[],c=this.enableGlobalMoveEvents??!0;this.moveOnAll?h.push("pointermove"):this.dispatchEvent(e,"pointermove"),c&&h.push("globalpointermove"),e.pointerType==="touch"&&(this.moveOnAll?h.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),c&&h.push("globaltouchmove")),s&&(this.moveOnAll?h.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),c&&h.push("globalmousemove"),this.cursor=(p=e.target)==null?void 0:p.cursor),h.length>0&&this.all(e,h),this._allInteractiveElements.length=0,this._hitElements.length=0,l.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){var h;if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),s=this.createPointerEvent(t),l=s.pointerType==="mouse"||s.pointerType==="pen";this.dispatchEvent(s,"pointerover"),l&&this.dispatchEvent(s,"mouseover"),s.pointerType==="mouse"&&(this.cursor=(h=s.target)==null?void 0:h.cursor);const o=this.clonePointerEvent(s,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),l&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;e.overTargets=s.composedPath(),this.freeEvent(s),this.freeEvent(o)}mapPointerOut(t){if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId);if(e.overTargets){const s=t.pointerType==="mouse"||t.pointerType==="pen",l=this.findMountedTarget(e.overTargets),o=this.createPointerEvent(t,"pointerout",l);this.dispatchEvent(o),s&&this.dispatchEvent(o,"mouseout");const h=this.createPointerEvent(t,"pointerleave",l);for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==this.rootTarget.parent;)h.currentTarget=h.target,this.notifyTarget(h),s&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;e.overTargets=null,this.freeEvent(o),this.freeEvent(h)}this.cursor=null}mapPointerUp(t){if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=performance.now(),s=this.createPointerEvent(t);if(this.dispatchEvent(s,"pointerup"),s.pointerType==="touch")this.dispatchEvent(s,"touchend");else if(s.pointerType==="mouse"||s.pointerType==="pen"){const c=s.button===2;this.dispatchEvent(s,c?"rightup":"mouseup")}const l=this.trackingData(t.pointerId),o=this.findMountedTarget(l.pressTargetsByButton[t.button]);let h=o;if(o&&!s.composedPath().includes(o)){let c=o;for(;c&&!s.composedPath().includes(c);){if(s.currentTarget=c,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch")this.notifyTarget(s,"touchendoutside");else if(s.pointerType==="mouse"||s.pointerType==="pen"){const d=s.button===2;this.notifyTarget(s,d?"rightupoutside":"mouseupoutside")}c=c.parent}delete l.pressTargetsByButton[t.button],h=c}if(h){const c=this.clonePointerEvent(s,"click");c.target=h,c.path=null,l.clicksByButton[t.button]||(l.clicksByButton[t.button]={clickCount:0,target:c.target,timeStamp:e});const d=l.clicksByButton[t.button];if(d.target===c.target&&e-d.timeStamp<200?++d.clickCount:d.clickCount=1,d.target=c.target,d.timeStamp=e,c.detail=d.clickCount,c.pointerType==="mouse"){const p=c.button===2;this.dispatchEvent(c,p?"rightclick":"click")}else c.pointerType==="touch"&&this.dispatchEvent(c,"tap");this.dispatchEvent(c,"pointertap"),this.freeEvent(c)}this.freeEvent(s)}mapPointerUpOutside(t){if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),s=this.findMountedTarget(e.pressTargetsByButton[t.button]),l=this.createPointerEvent(t);if(s){let o=s;for(;o;)l.currentTarget=o,this.notifyTarget(l,"pointerupoutside"),l.pointerType==="touch"?this.notifyTarget(l,"touchendoutside"):(l.pointerType==="mouse"||l.pointerType==="pen")&&this.notifyTarget(l,l.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(l)}mapWheel(t){if(!(t instanceof Qn)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let s=1;s<t.length&&t[s].parent===e;s++)e=t[s];return e}createPointerEvent(t,e,s){const l=this.allocateEvent(Di);return this.copyPointerData(t,l),this.copyMouseData(t,l),this.copyData(t,l),l.nativeEvent=t.nativeEvent,l.originalEvent=t,l.target=s??this.hitTest(l.global.x,l.global.y)??this._hitElements[0],typeof e=="string"&&(l.type=e),l}createWheelEvent(t){const e=this.allocateEvent(Qn);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const s=this.allocateEvent(Di);return s.nativeEvent=t.nativeEvent,s.originalEvent=t.originalEvent,this.copyPointerData(t,s),this.copyMouseData(t,s),this.copyData(t,s),s.target=t.target,s.path=t.composedPath().slice(),s.type=e??s.type,s}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof Di&&e instanceof Di&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof pu&&e instanceof pu&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}notifyListeners(t,e){const s=t.currentTarget._events[e];if(s&&t.currentTarget.isInteractive())if("fn"in s)s.once&&t.currentTarget.removeListener(e,s.fn,void 0,!0),s.fn.call(s.context,t);else for(let l=0,o=s.length;l<o&&!t.propagationImmediatelyStopped;l++)s[l].once&&t.currentTarget.removeListener(e,s[l].fn,void 0,!0),s[l].fn.call(s[l].context,t)}}const VA=1,jA={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Ud=class Pd{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new XA(null),as.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Di(null),this.rootWheelEvent=new Qn(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Pd.defaultEventFeatures},{set:(e,s,l)=>(s==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=l),e[s]=l,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:s}=this.renderer;this.setTargetElement(e),this.resolution=s,Pd._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const s=this.cursorStyles[t];if(s)switch(typeof s){case"string":e&&(this.domElement.style.cursor=s);break;case"function":s(t);break;case"object":e&&Object.assign(this.domElement.style,s);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let s=0,l=e.length;s<l;s++){const o=e[s],h=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,as.pointerMoved();const e=this.normalizeToPointerData(t);for(let s=0,l=e.length;s<l;s++){const o=this.bootstrapEvent(this.rootPointerEvent,e[s]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const s=e!==this.domElement?"outside":"",l=this.normalizeToPointerData(t);for(let o=0,h=l.length;o<h;o++){const c=this.bootstrapEvent(this.rootPointerEvent,l[o]);c.type+=s,this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);for(let s=0,l=e.length;s<l;s++){const o=this.bootstrapEvent(this.rootPointerEvent,e[s]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,as.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;as.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;as.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,s){const l=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;t.x=(e-l.left)*(this.domElement.width/l.width)*o,t.y=(s-l.top)*(this.domElement.height/l.height)*o}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let s=0,l=t.changedTouches.length;s<l;s++){const o=t.changedTouches[s];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=t.type,e.push(o)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const s=t;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=VA),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,e.push(s)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=jA[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};Ud.extension={name:"events",type:[pt.RendererSystem,pt.CanvasRendererSystem]},Ud.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Ld=Ud;Tt.add(Ld);function E0(n){return n==="dynamic"||n==="static"}const YA={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??E0(Ld.defaultEventMode)},set interactive(n){kt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=n,this.eventMode=n?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Ld.defaultEventMode},set eventMode(n){this._internalInteractive=E0(n),this._internalEventMode=n},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(n,t,e){const s=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,l=typeof e=="object"?e.signal:void 0,o=typeof e=="object"?e.once===!0:!1,h=typeof t=="function"?void 0:t;n=s?`${n}capture`:n;const c=typeof t=="function"?t:t.handleEvent,d=this;l&&l.addEventListener("abort",()=>{d.off(n,c,h)}),o?d.once(n,c,h):d.on(n,c,h)},removeEventListener(n,t,e){const s=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,l=typeof t=="function"?void 0:t;n=s?`${n}capture`:n,t=typeof t=="function"?t:t.handleEvent,this.off(n,t,l)},dispatchEvent(n){if(!(n instanceof gl))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=null,n.target=this,n.manager.dispatchEvent(n),!n.defaultPrevented}};oe.mixin(YA);const qA={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};oe.mixin(qA);const $A=9,ko=100,WA=0,ZA=0,T0=2,A0=1,KA=-1e3,QA=-1e3,JA=2;class K_{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Sr.tablet||Sr.phone)&&this.createTouchHook();const e=document.createElement("div");e.style.width=`${ko}px`,e.style.height=`${ko}px`,e.style.position="absolute",e.style.top=`${WA}px`,e.style.left=`${ZA}px`,e.style.zIndex=T0.toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${A0}px`,t.style.height=`${A0}px`,t.style.position="absolute",t.style.top=`${KA}px`,t.style.left=`${QA}px`,t.style.zIndex=JA.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)==null||t.appendChild(this.div))}deactivate(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)==null||t.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const e=t.children;if(e)for(let s=0;s<e.length;s++)this.updateAccessibleObjects(e[s])}update(){const t=performance.now();if(Sr.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:e,y:s,width:l,height:o}=this.renderer.view.getBoundingClientRect(),{width:h,height:c,resolution:d}=this.renderer,p=l/h*d,g=o/c*d;let y=this.div;y.style.left=`${e}px`,y.style.top=`${s}px`,y.style.width=`${h}px`,y.style.height=`${c}px`;for(let _=0;_<this.children.length;_++){const v=this.children[_];if(v.renderId!==this.renderId)v._accessibleActive=!1,Zn(this.children,_,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,_--;else{y=v._accessibleDiv;let b=v.hitArea;const A=v.worldTransform;v.hitArea?(y.style.left=`${(A.tx+b.x*A.a)*p}px`,y.style.top=`${(A.ty+b.y*A.d)*g}px`,y.style.width=`${b.width*A.a*p}px`,y.style.height=`${b.height*A.d*g}px`):(b=v.getBounds(),this.capHitArea(b),y.style.left=`${b.x*p}px`,y.style.top=`${b.y*g}px`,y.style.width=`${b.width*p}px`,y.style.height=`${b.height*g}px`,y.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(y.title=v.accessibleTitle),y.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&y.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==y.title||v.tabIndex!==y.tabIndex)&&(y.title=v.accessibleTitle,y.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(y))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:s}=this.renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>s&&(t.height=s-t.y)}addChild(t){let e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=`${ko}px`,e.style.height=`${ko}px`,e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=T0.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?e.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(e.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{displayObject:s}=t.target,l=this.renderer.events.rootBoundary,o=Object.assign(new gl(l),{target:s});l.rootTarget=this.renderer.lastObjectRendered,e.forEach(h=>l.dispatchEvent(o,h))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===$A&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}K_.extension={name:"accessibility",type:[pt.RendererPlugin,pt.CanvasRendererPlugin]};Tt.add(K_);const Q_=class Fd{constructor(t){this.stage=new Ge,t=Object.assign({forceCanvas:!1},t),this.renderer=uA(t),Fd._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){var t;return(t=this.renderer)==null?void 0:t.view}get screen(){var t;return(t=this.renderer)==null?void 0:t.screen}destroy(t,e){const s=Fd._plugins.slice(0);s.reverse(),s.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Q_._plugins=[];let Cu=Q_;Tt.handleByList(pt.Application,Cu._plugins);class J_{static init(t){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let e,s;if(this._resizeTo===globalThis.window)e=globalThis.innerWidth,s=globalThis.innerHeight;else{const{clientWidth:l,clientHeight:o}=this._resizeTo;e=l,s=o}this.renderer.resize(e,s),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}J_.extension=pt.Application;Tt.add(J_);const S0={loader:pt.LoadParser,resolver:pt.ResolveParser,cache:pt.CacheParser,detection:pt.DetectionParser};Tt.handle(pt.Asset,n=>{const t=n.ref;Object.entries(S0).filter(([e])=>!!t[e]).forEach(([e,s])=>Tt.add(Object.assign(t[e],{extension:t[e].extension??s})))},n=>{const t=n.ref;Object.keys(S0).filter(e=>!!t[e]).forEach(e=>Tt.remove(t[e]))});class tS{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let s=0;s<e;s++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function ra(n,t){if(Array.isArray(t)){for(const e of t)if(n.startsWith(`data:${e}`))return!0;return!1}return n.startsWith(`data:${t}`)}function cs(n,t){const e=n.split("?")[0],s=Me.extname(e).toLowerCase();return Array.isArray(t)?t.includes(s):s===t}const Oi=(n,t,e=!1)=>(Array.isArray(n)||(n=[n]),t?n.map(s=>typeof s=="string"||e?t(s):s):n),Gd=(n,t)=>{const e=t.split("?")[1];return e&&(n+=`?${e}`),n};function tx(n,t,e,s,l){const o=t[e];for(let h=0;h<o.length;h++){const c=o[h];e<t.length-1?tx(n.replace(s[e],c),t,e+1,s,l):l.push(n.replace(s[e],c))}}function eS(n){const t=/\{(.*?)\}/g,e=n.match(t),s=[];if(e){const l=[];e.forEach(o=>{const h=o.substring(1,o.length-1).split(",");l.push(h)}),tx(n,l,0,e,s)}else s.push(n);return s}const mu=n=>!Array.isArray(n);class iS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const s=Oi(t);let l;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.test(e)){l=d.getCacheableAssets(s,e);break}}l||(l={},s.forEach(c=>{l[c]=e}));const o=Object.keys(l),h={cacheKeys:o,keys:s};if(s.forEach(c=>{this._cacheMap.set(c,h)}),o.forEach(c=>{this._cache.has(c)&&this._cache.get(c)!==e&&console.warn("[Cache] already has key:",c),this._cache.set(c,l[c])}),e instanceof xt){const c=e;s.forEach(d=>{c.baseTexture!==xt.EMPTY.baseTexture&&It.addToCache(c.baseTexture,d),xt.addToCache(c,d)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(s=>{this._cache.delete(s)}),e.keys.forEach(s=>{this._cacheMap.delete(s)})}get parsers(){return this._parsers}}const js=new iS;class rS{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,s)=>(this._parsersValidated=!1,t[e]=s,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const s={promise:null,parser:null};return s.promise=(async()=>{var h,c;let l=null,o=null;if(e.loadParser&&(o=this._parserHash[e.loadParser],o||console.warn(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!o){for(let d=0;d<this.parsers.length;d++){const p=this.parsers[d];if(p.load&&((h=p.test)!=null&&h.call(p,t,e,this))){o=p;break}}if(!o)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}l=await o.load(t,e,this),s.parser=o;for(let d=0;d<this.parsers.length;d++){const p=this.parsers[d];p.parse&&p.parse&&await((c=p.testParse)==null?void 0:c.call(p,l,e,this))&&(l=await p.parse(l,e,this)||l,s.parser=p)}return l})(),s}async load(t,e){this._parsersValidated||this._validateParsers();let s=0;const l={},o=mu(t),h=Oi(t,p=>({alias:[p],src:p})),c=h.length,d=h.map(async p=>{const g=Me.toAbsolute(p.src);if(!l[p.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,p)),l[p.src]=await this.promiseCache[g].promise,e&&e(++s/c)}catch(y){throw delete this.promiseCache[g],delete l[p.src],new Error(`[Loader.load] Failed to load ${g}.
${y}`)}});return await Promise.all(d),o?l[h[0].src]:l}async unload(t){const e=Oi(t,s=>({alias:[s],src:s})).map(async s=>{var h,c;const l=Me.toAbsolute(s.src),o=this.promiseCache[l];if(o){const d=await o.promise;delete this.promiseCache[l],(c=(h=o.parser)==null?void 0:h.unload)==null||c.call(h,d,s,this)}});await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(t[e.name]&&console.warn(`[Assets] loadParser name conflict "${e.name}"`),{...t,[e.name]:e}),{})}}var Ui=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(Ui||{});const sS=".json",nS="application/json",aS={extension:{type:pt.LoadParser,priority:Ui.Low},name:"loadJson",test(n){return ra(n,nS)||cs(n,sS)},async load(n){return await(await yt.ADAPTER.fetch(n)).json()}};Tt.add(aS);const lS=".txt",oS="text/plain",uS={name:"loadTxt",extension:{type:pt.LoadParser,priority:Ui.Low},test(n){return ra(n,oS)||cs(n,lS)},async load(n){return await(await yt.ADAPTER.fetch(n)).text()}};Tt.add(uS);const hS=["normal","bold","100","200","300","400","500","600","700","800","900"],cS=[".ttf",".otf",".woff",".woff2"],fS=["font/ttf","font/otf","font/woff","font/woff2"],dS=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function pS(n){const t=Me.extname(n),e=Me.basename(n,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let s=e.length>0;for(const o of e)if(!o.match(dS)){s=!1;break}let l=e.join(" ");return s||(l=`"${l.replace(/[\\"]/g,"\\$&")}"`),l}const mS=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function gS(n){return mS.test(n)?n:encodeURI(n)}const yS={extension:{type:pt.LoadParser,priority:Ui.Low},name:"loadWebFont",test(n){return ra(n,fS)||cs(n,cS)},async load(n,t){var s,l,o;const e=yt.ADAPTER.getFontFaceSet();if(e){const h=[],c=((s=t.data)==null?void 0:s.family)??pS(n),d=((o=(l=t.data)==null?void 0:l.weights)==null?void 0:o.filter(g=>hS.includes(g)))??["normal"],p=t.data??{};for(let g=0;g<d.length;g++){const y=d[g],_=new FontFace(c,`url(${gS(n)})`,{...p,weight:y});await _.load(),e.add(_),h.push(_)}return h.length===1?h[0]:h}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){(Array.isArray(n)?n:[n]).forEach(t=>yt.ADAPTER.getFontFaceSet().delete(t))}};Tt.add(yS);const vS=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Jn=null,Hd=class{constructor(){Jn||(Jn=URL.createObjectURL(new Blob([vS],{type:"application/javascript"}))),this.worker=new Worker(Jn)}};Hd.revokeObjectURL=function(){Jn&&(URL.revokeObjectURL(Jn),Jn=null)};const _S=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let ta=null;class ex{constructor(){ta||(ta=URL.createObjectURL(new Blob([_S],{type:"application/javascript"}))),this.worker=new Worker(ta)}}ex.revokeObjectURL=function(){ta&&(URL.revokeObjectURL(ta),ta=null)};let w0=0,id;class xS{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new Hd;e.addEventListener("message",s=>{e.terminate(),Hd.revokeObjectURL(),t(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){id===void 0&&(id=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<id&&(this._createdWorkers++,t=new ex().worker,t.addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const s=new Promise((l,o)=>{this.queue.push({id:t,arguments:e,resolve:l,reject:o})});return this.next(),s}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const e=this.queue.pop(),s=e.id;this.resolveHash[w0]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:w0++,id:s})}}const R0=new xS;function yl(n,t,e){n.resource.internal=!0;const s=new xt(n),l=()=>{delete t.promiseCache[e],js.has(e)&&js.remove(e)};return s.baseTexture.once("destroyed",()=>{e in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),l())}),s.once("destroyed",()=>{n.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),l())}),s}const bS=[".jpeg",".jpg",".png",".webp",".avif"],ES=["image/jpeg","image/png","image/webp","image/avif"];async function TS(n){const t=await yt.ADAPTER.fetch(n);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${t.status} ${t.statusText}`);const e=await t.blob();return await createImageBitmap(e)}const Mu={name:"loadTextures",extension:{type:pt.LoadParser,priority:Ui.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return ra(n,ES)||cs(n,bS)},async load(n,t,e){var c;const s=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let l;s?this.config.preferWorkers&&await R0.isImageBitmapSupported()?l=await R0.loadImageBitmap(n):l=await TS(n):l=await new Promise((d,p)=>{const g=new Image;g.crossOrigin=this.config.crossOrigin,g.src=n,g.complete?d(g):(g.onload=()=>d(g),g.onerror=y=>p(y))});const o={...t.data};o.resolution??(o.resolution=Cr(n)),s&&((c=o.resourceOptions)==null?void 0:c.ownsImageBitmap)===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const h=new It(l,o);return h.resource.src=n,yl(h,e,n)},unload(n){n.destroy(!0)}};Tt.add(Mu);const AS=".svg",SS="image/svg+xml",wS={extension:{type:pt.LoadParser,priority:Ui.High},name:"loadSVG",test(n){return ra(n,SS)||cs(n,AS)},async testParse(n){return Md.test(n)},async parse(n,t,e){var o;const s=new Md(n,(o=t==null?void 0:t.data)==null?void 0:o.resourceOptions);await s.load();const l=new It(s,{resolution:Cr(n),...t==null?void 0:t.data});return l.resource.src=t.src,yl(l,e,t.src)},async load(n,t){return(await yt.ADAPTER.fetch(n)).text()},unload:Mu.unload};Tt.add(wS);const RS=[".mp4",".m4v",".webm",".ogv"],CS=["video/mp4","video/webm","video/ogg"],MS={name:"loadVideo",extension:{type:pt.LoadParser,priority:Ui.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(n){return ra(n,CS)||cs(n,RS)},async load(n,t,e){var h;let s;const l=await(await yt.ADAPTER.fetch(n)).blob(),o=URL.createObjectURL(l);try{const c={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(h=t==null?void 0:t.data)==null?void 0:h.resourceOptions,autoLoad:!0},d=new $_(o,c);await d.load();const p=new It(d,{alphaMode:await UE(),resolution:Cr(n),...t==null?void 0:t.data});p.resource.src=n,s=yl(p,e,n),s.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(c){throw URL.revokeObjectURL(o),c}return s},unload(n){n.destroy(!0)}};Tt.add(MS);class DS{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(e[s])}`).join("&")}}getAlias(t){const{alias:e,name:s,src:l,srcs:o}=t;return Oi(e||s||l||o,h=>typeof h=="string"?h:Array.isArray(h)?h.map(c=>(c==null?void 0:c.src)??(c==null?void 0:c.srcs)??c):h!=null&&h.src||h!=null&&h.srcs?h.src??h.srcs:h,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const s=[];Array.isArray(e)?e.forEach(l=>{const o=l.src??l.srcs,h=l.alias??l.name;let c;if(typeof h=="string"){const d=this._createBundleAssetId(t,h);s.push(d),c=[h,d]}else{const d=h.map(p=>this._createBundleAssetId(t,p));s.push(...d),c=[...h,...d]}this.add({...l,alias:c,src:o})}):Object.keys(e).forEach(l=>{const o=[l,this._createBundleAssetId(t,l)];if(typeof e[l]=="string")this.add({alias:o,src:e[l]});else if(Array.isArray(e[l]))this.add({alias:o,src:e[l]});else{const h=e[l],c=h.src??h.srcs;this.add({...h,alias:o,src:Array.isArray(c)?c:[c]})}s.push(...o)}),this._bundles[t]=s}add(t,e,s,l,o){const h=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(kt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),h.push({alias:t,src:e,data:s,format:l,loadParser:o})):Array.isArray(t)?h.push(...t):h.push(t);let c;c=d=>{this.hasKey(d)&&console.warn(`[Resolver] already has key: ${d} overwriting`)},Oi(h).forEach(d=>{const{src:p,srcs:g}=d;let{data:y,format:_,loadParser:v}=d;const b=Oi(p||g).map(C=>typeof C=="string"?eS(C):Array.isArray(C)?C:[C]),A=this.getAlias(d);Array.isArray(A)?A.forEach(c):c(A);const T=[];b.forEach(C=>{C.forEach(N=>{let M={};if(typeof N!="object"){M.src=N;for(let P=0;P<this._parsers.length;P++){const D=this._parsers[P];if(D.test(N)){M=D.parse(N);break}}}else y=N.data??y,_=N.format??_,v=N.loadParser??v,M={...M,...N};if(!A)throw new Error(`[Resolver] alias is undefined for this asset: ${M.src}`);M=this.buildResolvedAsset(M,{aliases:A,data:y,format:_,loadParser:v}),T.push(M)})}),A.forEach(C=>{this._assetMap[C]=T})})}resolveBundle(t){const e=mu(t);t=Oi(t);const s={};return t.forEach(l=>{const o=this._bundles[l];if(o){const h=this.resolve(o),c={};for(const d in h){const p=h[d];c[this._extractAssetIdFromBundle(l,d)]=p}s[l]=c}}),e?s[t[0]]:s}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const s={};for(const l in e)s[l]=e[l].src;return s}return e.src}resolve(t){const e=mu(t);t=Oi(t);const s={};return t.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let o=this._assetMap[l];const h=o[0],c=this._getPreferredOrder(o);c==null||c.priority.forEach(d=>{c.params[d].forEach(p=>{const g=o.filter(y=>y[d]?y[d]===p:!1);g.length&&(o=g)})}),this._resolverHash[l]=o[0]??h}else this._resolverHash[l]=this.buildResolvedAsset({alias:[l],src:l},{});s[l]=this._resolverHash[l]}),e?s[t[0]]:s}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const s=t[0],l=this._preferredOrder.find(o=>o.params.format.includes(s.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}buildResolvedAsset(t,e){const{aliases:s,data:l,loadParser:o,format:h}=e;return(this._basePath||this._rootPath)&&(t.src=Me.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=s??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...l||{},...t.data},t.loadParser=o??t.loadParser,t.format=h??t.format??Me.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}class OS{constructor(){this._detections=[],this._initialized=!1,this.resolver=new DS,this.loader=new rS,this.cache=js,this._backgroundLoader=new tS(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var o,h;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let c=t.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const e=((o=t.texturePreference)==null?void 0:o.resolution)??1,s=typeof e=="number"?[e]:e,l=await this._detectFormats({preferredFormats:(h=t.texturePreference)==null?void 0:h.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:l,resolution:s}}),t.preferences&&this.setPreferences(t.preferences)}add(t,e,s,l,o){this.resolver.add(t,e,s,l,o)}async load(t,e){this._initialized||await this.init();const s=mu(t),l=Oi(t).map(c=>{if(typeof c!="string"){const d=this.resolver.getAlias(c);return d.some(p=>!this.resolver.hasKey(p))&&this.add(c),Array.isArray(d)?d[0]:d}return this.resolver.hasKey(c)||this.add({alias:c,src:c}),c}),o=this.resolver.resolve(l),h=await this._mapLoadToResolve(o,e);return s?h[l[0]]:h}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let s=!1;typeof t=="string"&&(s=!0,t=[t]);const l=this.resolver.resolveBundle(t),o={},h=Object.keys(l);let c=0,d=0;const p=()=>{e==null||e(++c/d)},g=h.map(y=>{const _=l[y];return d+=Object.keys(_).length,this._mapLoadToResolve(_,p).then(v=>{o[y]=v})});return await Promise.all(g),s?o[t[0]]:o}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(s=>{this._backgroundLoader.add(Object.values(s))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return js.get(t);const e={};for(let s=0;s<t.length;s++)e[s]=js.get(t[s]);return e}async _mapLoadToResolve(t,e){const s=Object.values(t),l=Object.keys(t);this._backgroundLoader.active=!1;const o=await this.loader.load(s,e);this._backgroundLoader.active=!0;const h={};return s.forEach((c,d)=>{const p=o[c.src],g=[c.src];c.alias&&g.push(...c.alias),h[l[d]]=p,js.set(g,p)}),h}async unload(t){this._initialized||await this.init();const e=Oi(t).map(l=>typeof l!="string"?l.src:l),s=this.resolver.resolve(e);await this._unloadFromResolved(s)}async unloadBundle(t){this._initialized||await this.init(),t=Oi(t);const e=this.resolver.resolveBundle(t),s=Object.keys(e).map(l=>this._unloadFromResolved(e[l]));await Promise.all(s)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(s=>{js.remove(s.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const s of t.detections)t.skipDetections||await s.test()?e=await s.add(e):t.skipDetections||(e=await s.remove(e));return e=e.filter((s,l)=>e.indexOf(s)===l),e}get detections(){return this._detections}get preferWorkers(){return Mu.config.preferWorkers}set preferWorkers(t){kt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(s=>s in t).forEach(s=>{e.config[s]=t[s]})})}}const zo=new OS;Tt.handleByList(pt.LoadParser,zo.loader.parsers).handleByList(pt.ResolveParser,zo.resolver.parsers).handleByList(pt.CacheParser,zo.cache.parsers).handleByList(pt.DetectionParser,zo.detections);const BS={extension:pt.CacheParser,test:n=>Array.isArray(n)&&n.every(t=>t instanceof xt),getCacheableAssets:(n,t)=>{const e={};return n.forEach(s=>{t.forEach((l,o)=>{e[s+(o===0?"":o+1)]=l})}),e}};Tt.add(BS);async function ix(n){if("Image"in globalThis)return new Promise(t=>{const e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(n)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const IS={extension:{type:pt.DetectionParser,priority:1},test:async()=>ix("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async n=>[...n,"avif"],remove:async n=>n.filter(t=>t!=="avif")};Tt.add(IS);const NS={extension:{type:pt.DetectionParser,priority:0},test:async()=>ix("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async n=>[...n,"webp"],remove:async n=>n.filter(t=>t!=="webp")};Tt.add(NS);const C0=["png","jpg","jpeg"],US={extension:{type:pt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,...C0],remove:async n=>n.filter(t=>!C0.includes(t))};Tt.add(US);const PS="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function ip(n){return PS?!1:document.createElement("video").canPlayType(n)!==""}const LS={extension:{type:pt.DetectionParser,priority:0},test:async()=>ip("video/webm"),add:async n=>[...n,"webm"],remove:async n=>n.filter(t=>t!=="webm")};Tt.add(LS);const FS={extension:{type:pt.DetectionParser,priority:0},test:async()=>ip("video/mp4"),add:async n=>[...n,"mp4","m4v"],remove:async n=>n.filter(t=>t!=="mp4"&&t!=="m4v")};Tt.add(FS);const GS={extension:{type:pt.DetectionParser,priority:0},test:async()=>ip("video/ogg"),add:async n=>[...n,"ogv"],remove:async n=>n.filter(t=>t!=="ogv")};Tt.add(GS);const HS={extension:pt.ResolveParser,test:Mu.test,parse:n=>{var t;return{resolution:parseFloat(((t=yt.RETINA_PREFIX.exec(n))==null?void 0:t[1])??"1"),format:Me.extname(n).slice(1),src:n}}};Tt.add(HS);var Ue=(n=>(n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",n[n.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",n[n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",n[n.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",n[n.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",n))(Ue||{});const gu={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Vi,jn;function M0(){jn={bptc:Vi.getExtension("EXT_texture_compression_bptc"),astc:Vi.getExtension("WEBGL_compressed_texture_astc"),etc:Vi.getExtension("WEBGL_compressed_texture_etc"),s3tc:Vi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Vi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Vi.getExtension("WEBGL_compressed_texture_pvrtc")||Vi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Vi.getExtension("WEBGL_compressed_texture_etc1"),atc:Vi.getExtension("WEBGL_compressed_texture_atc")}}const kS={extension:{type:pt.DetectionParser,priority:2},test:async()=>{const n=yt.ADAPTER.createCanvas().getContext("webgl");return n?(Vi=n,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async n=>{jn||M0();const t=[];for(const e in jn)jn[e]&&t.push(e);return[...t,...n]},remove:async n=>(jn||M0(),n.filter(t=>!(t in jn)))};Tt.add(kS);class zS extends Tu{constructor(t,e={width:1,height:1,autoLoad:!0}){let s,l;typeof t=="string"?(s=t,l=new Uint8Array):(s=null,l=t),super(l,e),this.origin=s,this.buffer=l?new gd(l):null,this._load=null,this.loaded=!1,this.origin!==null&&e.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new gd(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class qs extends zS{constructor(t,e){super(t,e),this.format=e.format,this.levels=e.levels||1,this._width=e.width,this._height=e.height,this._extension=qs._formatToExtension(this.format),(e.levelBuffers||this.buffer)&&(this._levelBuffers=e.levelBuffers||qs._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,e,s){const l=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;l.pixelStorei(l.UNPACK_ALIGNMENT,4);for(let o=0,h=this.levels;o<h;o++){const{levelID:c,levelWidth:d,levelHeight:p,levelBuffer:g}=this._levelBuffers[o];l.compressedTexImage2D(l.TEXTURE_2D,c,this.format,d,p,0,g)}return!0}onBlobLoaded(){this._levelBuffers=qs._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t===36196)return"etc1";if(t===35986||t===35987||t===34798)return"atc";if(t>=36492&&t<=36495)return"bptc";if(t===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${t}`)}static _createLevelBuffers(t,e,s,l,o,h,c){const d=new Array(s);let p=t.byteOffset,g=h,y=c,_=g+l-1&~(l-1),v=y+o-1&~(o-1),b=_*v*gu[e];for(let A=0;A<s;A++)d[A]={levelID:A,levelWidth:s>1?g:_,levelHeight:s>1?y:v,levelBuffer:new Uint8Array(t.buffer,p,b)},p+=b,g=g>>1||1,y=y>>1||1,_=g+l-1&~(l-1),v=y+o-1&~(o-1),b=_*v*gu[e];return d}}const rd=4,Xo=124,XS=32,D0=20,VS=542327876,Vo={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},jS={FOURCC:2},jo={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},YS=1,qS=2,$S=4,WS=64,ZS=512,KS=131072,QS=827611204,JS=861165636,tw=894720068,ew=808540228,iw=4,rw={[QS]:Ue.COMPRESSED_RGBA_S3TC_DXT1_EXT,[JS]:Ue.COMPRESSED_RGBA_S3TC_DXT3_EXT,[tw]:Ue.COMPRESSED_RGBA_S3TC_DXT5_EXT},sw={70:Ue.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Ue.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Ue.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Ue.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Ue.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Ue.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Ue.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Ue.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Ue.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Ue.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Ue.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Ue.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Ue.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function nw(n){const t=new Uint32Array(n);if(t[0]!==VS)throw new Error("Invalid DDS file magic word");const e=new Uint32Array(n,0,Xo/Uint32Array.BYTES_PER_ELEMENT),s=e[Vo.HEIGHT],l=e[Vo.WIDTH],o=e[Vo.MIPMAP_COUNT],h=new Uint32Array(n,Vo.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,XS/Uint32Array.BYTES_PER_ELEMENT),c=h[YS];if(c&$S){const d=h[jS.FOURCC];if(d!==ew){const N=rw[d],M=rd+Xo,P=new Uint8Array(n,M);return[new qs(P,{format:N,width:l,height:s,levels:o})]}const p=rd+Xo,g=new Uint32Array(t.buffer,p,D0/Uint32Array.BYTES_PER_ELEMENT),y=g[jo.DXGI_FORMAT],_=g[jo.RESOURCE_DIMENSION],v=g[jo.MISC_FLAG],b=g[jo.ARRAY_SIZE],A=sw[y];if(A===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${y}`);if(v===iw)throw new Error("DDSParser does not support cubemap textures");if(_===6)throw new Error("DDSParser does not supported 3D texture data");const T=new Array,C=rd+Xo+D0;if(b===1)T.push(new Uint8Array(n,C));else{const N=gu[A];let M=0,P=l,D=s;for(let B=0;B<o;B++){const X=Math.max(1,P+3&-4),V=Math.max(1,D+3&-4),J=X*V*N;M+=J,P=P>>>1,D=D>>>1}let q=C;for(let B=0;B<b;B++)T.push(new Uint8Array(n,q,M)),q+=M}return T.map(N=>new qs(N,{format:A,width:l,height:s,levels:o}))}throw c&WS?new Error("DDSParser does not support uncompressed texture data."):c&ZS?new Error("DDSParser does not supported YUV uncompressed texture data."):c&KS?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&qS?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const O0=[171,75,84,88,32,49,49,187,13,10,26,10],aw=67305985,Ci={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},kd=64,B0={[wt.UNSIGNED_BYTE]:1,[wt.UNSIGNED_SHORT]:2,[wt.INT]:4,[wt.UNSIGNED_INT]:4,[wt.FLOAT]:4,[wt.HALF_FLOAT]:8},lw={[ct.RGBA]:4,[ct.RGB]:3,[ct.RG]:2,[ct.RED]:1,[ct.LUMINANCE]:1,[ct.LUMINANCE_ALPHA]:2,[ct.ALPHA]:1},ow={[wt.UNSIGNED_SHORT_4_4_4_4]:2,[wt.UNSIGNED_SHORT_5_5_5_1]:2,[wt.UNSIGNED_SHORT_5_6_5]:2};function uw(n,t,e=!1){const s=new DataView(t);if(!hw(n,s))return null;const l=s.getUint32(Ci.ENDIANNESS,!0)===aw,o=s.getUint32(Ci.GL_TYPE,l),h=s.getUint32(Ci.GL_FORMAT,l),c=s.getUint32(Ci.GL_INTERNAL_FORMAT,l),d=s.getUint32(Ci.PIXEL_WIDTH,l),p=s.getUint32(Ci.PIXEL_HEIGHT,l)||1,g=s.getUint32(Ci.PIXEL_DEPTH,l)||1,y=s.getUint32(Ci.NUMBER_OF_ARRAY_ELEMENTS,l)||1,_=s.getUint32(Ci.NUMBER_OF_FACES,l),v=s.getUint32(Ci.NUMBER_OF_MIPMAP_LEVELS,l),b=s.getUint32(Ci.BYTES_OF_KEY_VALUE_DATA,l);if(p===0||g!==1)throw new Error("Only 2D textures are supported");if(_!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(y!==1)throw new Error("WebGL does not support array textures");const A=4,T=4,C=d+3&-4,N=p+3&-4,M=new Array(y);let P=d*p;o===0&&(P=C*N);let D;if(o!==0?B0[o]?D=B0[o]*lw[h]:D=ow[o]:D=gu[c],D===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const q=e?fw(s,b,l):null;let B=P*D,X=d,V=p,J=C,ot=N,z=kd+b;for(let $=0;$<v;$++){const et=s.getUint32(z,l);let ut=z+4;for(let S=0;S<y;S++){let I=M[S];I||(I=M[S]=new Array(v)),I[$]={levelID:$,levelWidth:v>1||o!==0?X:J,levelHeight:v>1||o!==0?V:ot,levelBuffer:new Uint8Array(t,ut,B)},ut+=B}z+=et+4,z=z%4!==0?z+4-z%4:z,X=X>>1||1,V=V>>1||1,J=X+A-1&-4,ot=V+T-1&-4,B=J*ot*D}return o!==0?{uncompressed:M.map($=>{let et=$[0].levelBuffer,ut=!1;return o===wt.FLOAT?et=new Float32Array($[0].levelBuffer.buffer,$[0].levelBuffer.byteOffset,$[0].levelBuffer.byteLength/4):o===wt.UNSIGNED_INT?(ut=!0,et=new Uint32Array($[0].levelBuffer.buffer,$[0].levelBuffer.byteOffset,$[0].levelBuffer.byteLength/4)):o===wt.INT&&(ut=!0,et=new Int32Array($[0].levelBuffer.buffer,$[0].levelBuffer.byteOffset,$[0].levelBuffer.byteLength/4)),{resource:new Tu(et,{width:$[0].levelWidth,height:$[0].levelHeight}),type:o,format:ut?cw(h):h}}),kvData:q}:{compressed:M.map($=>new qs(null,{format:c,width:d,height:p,levels:v,levelBuffers:$})),kvData:q}}function hw(n,t){for(let e=0;e<O0.length;e++)if(t.getUint8(e)!==O0[e])return console.error(`${n} is not a valid *.ktx file!`),!1;return!0}function cw(n){switch(n){case ct.RGBA:return ct.RGBA_INTEGER;case ct.RGB:return ct.RGB_INTEGER;case ct.RG:return ct.RG_INTEGER;case ct.RED:return ct.RED_INTEGER;default:return n}}function fw(n,t,e){const s=new Map;let l=0;for(;l<t;){const o=n.getUint32(kd+l,e),h=kd+l+4,c=3-(o+3)%4;if(o===0||o>t-l){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let d=0;for(;d<o&&n.getUint8(h+d)!==0;d++);if(d===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const p=new TextDecoder().decode(new Uint8Array(n.buffer,h,d)),g=new DataView(n.buffer,h+d+1,o-d-1);s.set(p,g),l+=4+o+c}return s}const dw={extension:{type:pt.LoadParser,priority:Ui.High},name:"loadDDS",test(n){return cs(n,".dds")},async load(n,t,e){const s=await(await yt.ADAPTER.fetch(n)).arrayBuffer(),l=nw(s).map(o=>{const h=new It(o,{mipmap:Qi.OFF,alphaMode:Ze.NO_PREMULTIPLIED_ALPHA,resolution:Cr(n),...t.data});return yl(h,e,n)});return l.length===1?l[0]:l},unload(n){Array.isArray(n)?n.forEach(t=>t.destroy(!0)):n.destroy(!0)}};Tt.add(dw);const pw={extension:{type:pt.LoadParser,priority:Ui.High},name:"loadKTX",test(n){return cs(n,".ktx")},async load(n,t,e){const s=await(await yt.ADAPTER.fetch(n)).arrayBuffer(),{compressed:l,uncompressed:o,kvData:h}=uw(n,s),c=l??o,d={mipmap:Qi.OFF,alphaMode:Ze.NO_PREMULTIPLIED_ALPHA,resolution:Cr(n),...t.data},p=c.map(g=>{c===o&&Object.assign(d,{type:g.type,format:g.format});const y=g.resource??g,_=new It(y,d);return _.ktxKeyValueData=h,yl(_,e,n)});return p.length===1?p[0]:p},unload(n){Array.isArray(n)?n.forEach(t=>t.destroy(!0)):n.destroy(!0)}};Tt.add(pw);const mw=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],gw={extension:pt.ResolveParser,test:n=>{const t=Me.extname(n).slice(1);return["basis","ktx","dds"].includes(t)},parse:n=>{var s,l;const t=n.split("."),e=t.pop();if(["ktx","dds"].includes(e)){const o=t.pop();if(mw.includes(o))return{resolution:parseFloat(((s=yt.RETINA_PREFIX.exec(n))==null?void 0:s[1])??"1"),format:o,src:n}}return{resolution:parseFloat(((l=yt.RETINA_PREFIX.exec(n))==null?void 0:l[1])??"1"),format:e,src:n}}};Tt.add(gw);const Yo=new Nt,yw=4,rx=class hl{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){var e;const t=(e=this.renderer)==null?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,e,s,l){const o=new Image;return o.src=await this.base64(t,e,s,l),o}async base64(t,e,s,l){const o=this.canvas(t,l);if(o.toBlob!==void 0)return new Promise((h,c)=>{o.toBlob(d=>{if(!d){c(new Error("ICanvas.toBlob failed!"));return}const p=new FileReader;p.onload=()=>h(p.result),p.onerror=c,p.readAsDataURL(d)},e,s)});if(o.toDataURL!==void 0)return o.toDataURL(e,s);if(o.convertToBlob!==void 0){const h=await o.convertToBlob({type:e,quality:s});return new Promise((c,d)=>{const p=new FileReader;p.onload=()=>c(p.result),p.onerror=d,p.readAsDataURL(h)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:s,width:l,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,e);h&&hl._flipY(s,l,o),c&&hl._unpremultiplyAlpha(s);const d=new KE(l,o,1),p=new ImageData(new Uint8ClampedArray(s.buffer),l,o);return d.context.putImageData(p,0,0),d.canvas}pixels(t,e){const{pixels:s,width:l,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,e);return h&&hl._flipY(s,l,o),c&&hl._unpremultiplyAlpha(s),s}_rawPixels(t,e){const s=this.renderer;if(!s)throw new Error("The Extract has already been destroyed");let l,o=!1,h=!1,c,d=!1;t&&(t instanceof Ks?c=t:(c=s.generateTexture(t,{region:e,resolution:s.resolution,multisample:s.multisample}),d=!0,e&&(Yo.width=e.width,Yo.height=e.height,e=Yo)));const p=s.gl;if(c){if(l=c.baseTexture.resolution,e=e??c.frame,o=!1,h=c.baseTexture.alphaMode>0&&c.baseTexture.format===ct.RGBA,!d){s.renderTexture.bind(c);const v=c.framebuffer.glFramebuffers[s.CONTEXT_UID];v.blitFramebuffer&&s.framebuffer.bind(v.blitFramebuffer)}}else l=s.resolution,e||(e=Yo,e.width=s.width/l,e.height=s.height/l),o=!0,h=this._rendererPremultipliedAlpha,s.renderTexture.bind();const g=Math.max(Math.round(e.width*l),1),y=Math.max(Math.round(e.height*l),1),_=new Uint8Array(yw*g*y);return p.readPixels(Math.round(e.x*l),Math.round(e.y*l),g,y,p.RGBA,p.UNSIGNED_BYTE,_),d&&(c==null||c.destroy(!0)),{pixels:_,width:g,height:y,flipY:o,premultipliedAlpha:h}}destroy(){this.renderer=null}static _flipY(t,e,s){const l=e<<2,o=s>>1,h=new Uint8Array(l);for(let c=0;c<o;c++){const d=c*l,p=(s-c-1)*l;h.set(t.subarray(d,d+l)),t.copyWithin(d,p,p+l),t.set(h,p)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let s=0;s<e;s+=4){const l=t[s+3];if(l!==0){const o=255.001/l;t[s]=t[s]*o+.5,t[s+1]=t[s+1]*o+.5,t[s+2]=t[s+2]*o+.5}}}};rx.extension={name:"extract",type:pt.RendererSystem};let vw=rx;Tt.add(vw);const yu={build(n){const t=n.points;let e,s,l,o,h,c;if(n.type===Pe.CIRC){const b=n.shape;e=b.x,s=b.y,h=c=b.radius,l=o=0}else if(n.type===Pe.ELIP){const b=n.shape;e=b.x,s=b.y,h=b.width,c=b.height,l=o=0}else{const b=n.shape,A=b.width/2,T=b.height/2;e=b.x+A,s=b.y+T,h=c=Math.max(0,Math.min(b.radius,Math.min(A,T))),l=A-h,o=T-c}if(!(h>=0&&c>=0&&l>=0&&o>=0)){t.length=0;return}const d=Math.ceil(2.3*Math.sqrt(h+c)),p=d*8+(l?4:0)+(o?4:0);if(t.length=p,p===0)return;if(d===0){t.length=8,t[0]=t[6]=e+l,t[1]=t[3]=s+o,t[2]=t[4]=e-l,t[5]=t[7]=s-o;return}let g=0,y=d*4+(l?2:0)+2,_=y,v=p;{const b=l+h,A=o,T=e+b,C=e-b,N=s+A;if(t[g++]=T,t[g++]=N,t[--y]=N,t[--y]=C,o){const M=s-A;t[_++]=C,t[_++]=M,t[--v]=M,t[--v]=T}}for(let b=1;b<d;b++){const A=Math.PI/2*(b/d),T=l+Math.cos(A)*h,C=o+Math.sin(A)*c,N=e+T,M=e-T,P=s+C,D=s-C;t[g++]=N,t[g++]=P,t[--y]=P,t[--y]=M,t[_++]=M,t[_++]=D,t[--v]=D,t[--v]=N}{const b=l,A=o+c,T=e+b,C=e-b,N=s+A,M=s-A;t[g++]=T,t[g++]=N,t[--v]=M,t[--v]=T,l&&(t[g++]=C,t[g++]=N,t[--v]=M,t[--v]=C)}},triangulate(n,t){const e=n.points,s=t.points,l=t.indices;if(e.length===0)return;let o=s.length/2;const h=o;let c,d;if(n.type!==Pe.RREC){const g=n.shape;c=g.x,d=g.y}else{const g=n.shape;c=g.x+g.width/2,d=g.y+g.height/2}const p=n.matrix;s.push(n.matrix?p.a*c+p.c*d+p.tx:c,n.matrix?p.b*c+p.d*d+p.ty:d),o++,s.push(e[0],e[1]);for(let g=2;g<e.length;g+=2)s.push(e[g],e[g+1]),l.push(o++,h,o);l.push(h+1,h,o)}};function I0(n,t=!1){const e=n.length;if(e<6)return;let s=0;for(let l=0,o=n[e-2],h=n[e-1];l<e;l+=2){const c=n[l],d=n[l+1];s+=(c-o)*(d+h),o=c,h=d}if(!t&&s>0||t&&s<=0){const l=e/2;for(let o=l+l%2;o<e;o+=2){const h=e-o-2,c=e-o-1,d=o,p=o+1;[n[h],n[d]]=[n[d],n[h]],[n[c],n[p]]=[n[p],n[c]]}}}const sx={build(n){n.points=n.shape.points.slice()},triangulate(n,t){let e=n.points;const s=n.holes,l=t.points,o=t.indices;if(e.length>=6){I0(e,!1);const h=[];for(let p=0;p<s.length;p++){const g=s[p];I0(g.points,!0),h.push(e.length/2),e=e.concat(g.points)}const c=W1(e,h,2);if(!c)return;const d=l.length/2;for(let p=0;p<c.length;p+=3)o.push(c[p]+d),o.push(c[p+1]+d),o.push(c[p+2]+d);for(let p=0;p<e.length;p++)l.push(e[p])}}},_w={build(n){const t=n.shape,e=t.x,s=t.y,l=t.width,o=t.height,h=n.points;h.length=0,l>=0&&o>=0&&h.push(e,s,e+l,s,e+l,s+o,e,s+o)},triangulate(n,t){const e=n.points,s=t.points;if(e.length===0)return;const l=s.length/2;s.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(l,l+1,l+2,l+1,l+2,l+3)}},xw={build(n){yu.build(n)},triangulate(n,t){yu.triangulate(n,t)}};var _i=(n=>(n.MITER="miter",n.BEVEL="bevel",n.ROUND="round",n))(_i||{}),os=(n=>(n.BUTT="butt",n.ROUND="round",n.SQUARE="square",n))(os||{});const ea={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(n,t=20){if(!this.adaptive||!n||isNaN(n))return t;let e=Math.ceil(n/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}};class N0{static curveTo(t,e,s,l,o,h){const c=h[h.length-2],d=h[h.length-1]-e,p=c-t,g=l-e,y=s-t,_=Math.abs(d*y-p*g);if(_<1e-8||o===0)return(h[h.length-2]!==t||h[h.length-1]!==e)&&h.push(t,e),null;const v=d*d+p*p,b=g*g+y*y,A=d*g+p*y,T=o*Math.sqrt(v)/_,C=o*Math.sqrt(b)/_,N=T*A/v,M=C*A/b,P=T*y+C*p,D=T*g+C*d,q=p*(C+N),B=d*(C+N),X=y*(T+M),V=g*(T+M),J=Math.atan2(B-D,q-P),ot=Math.atan2(V-D,X-P);return{cx:P+t,cy:D+e,radius:o,startAngle:J,endAngle:ot,anticlockwise:p*g>y*d}}static arc(t,e,s,l,o,h,c,d,p){const g=c-h,y=ea._segmentsCount(Math.abs(g)*o,Math.ceil(Math.abs(g)/ou)*40),_=g/(y*2),v=_*2,b=Math.cos(_),A=Math.sin(_),T=y-1,C=T%1/T;for(let N=0;N<=T;++N){const M=N+C*N,P=_+h+v*M,D=Math.cos(P),q=-Math.sin(P);p.push((b*D+A*q)*o+s,(b*-q+A*D)*o+l)}}}class bw{constructor(){this.reset()}begin(t,e,s){this.reset(),this.style=t,this.start=e,this.attribStart=s}end(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class rp{static curveLength(t,e,s,l,o,h,c,d){let p=0,g=0,y=0,_=0,v=0,b=0,A=0,T=0,C=0,N=0,M=0,P=t,D=e;for(let q=1;q<=10;++q)g=q/10,y=g*g,_=y*g,v=1-g,b=v*v,A=b*v,T=A*t+3*b*g*s+3*v*y*o+_*c,C=A*e+3*b*g*l+3*v*y*h+_*d,N=P-T,M=D-C,P=T,D=C,p+=Math.sqrt(N*N+M*M);return p}static curveTo(t,e,s,l,o,h,c){const d=c[c.length-2],p=c[c.length-1];c.length-=2;const g=ea._segmentsCount(rp.curveLength(d,p,t,e,s,l,o,h));let y=0,_=0,v=0,b=0,A=0;c.push(d,p);for(let T=1,C=0;T<=g;++T)C=T/g,y=1-C,_=y*y,v=_*y,b=C*C,A=b*C,c.push(v*d+3*_*C*t+3*y*b*s+A*o,v*p+3*_*C*e+3*y*b*l+A*h)}}function U0(n,t,e,s,l,o,h,c){const d=n-e*l,p=t-s*l,g=n+e*o,y=t+s*o;let _,v;h?(_=s,v=-e):(_=-s,v=e);const b=d+_,A=p+v,T=g+_,C=y+v;return c.push(b,A,T,C),2}function Fs(n,t,e,s,l,o,h,c){const d=e-n,p=s-t;let g=Math.atan2(d,p),y=Math.atan2(l-n,o-t);c&&g<y?g+=Math.PI*2:!c&&g>y&&(y+=Math.PI*2);let _=g;const v=y-g,b=Math.abs(v),A=Math.sqrt(d*d+p*p),T=(15*b*Math.sqrt(A)/Math.PI>>0)+1,C=v/T;if(_+=C,c){h.push(n,t,e,s);for(let N=1,M=_;N<T;N++,M+=C)h.push(n,t,n+Math.sin(M)*A,t+Math.cos(M)*A);h.push(n,t,l,o)}else{h.push(e,s,n,t);for(let N=1,M=_;N<T;N++,M+=C)h.push(n+Math.sin(M)*A,t+Math.cos(M)*A,n,t);h.push(l,o,n,t)}return T*2}function Ew(n,t){const e=n.shape;let s=n.points||e.points.slice();const l=t.closePointEps;if(s.length===0)return;const o=n.lineStyle,h=new Gt(s[0],s[1]),c=new Gt(s[s.length-2],s[s.length-1]),d=e.type!==Pe.POLY||e.closeStroke,p=Math.abs(h.x-c.x)<l&&Math.abs(h.y-c.y)<l;if(d){s=s.slice(),p&&(s.pop(),s.pop(),c.set(s[s.length-2],s[s.length-1]));const I=(h.x+c.x)*.5,w=(c.y+h.y)*.5;s.unshift(I,w),s.push(I,w)}const g=t.points,y=s.length/2;let _=s.length;const v=g.length/2,b=o.width/2,A=b*b,T=o.miterLimit*o.miterLimit;let C=s[0],N=s[1],M=s[2],P=s[3],D=0,q=0,B=-(N-P),X=C-M,V=0,J=0,ot=Math.sqrt(B*B+X*X);B/=ot,X/=ot,B*=b,X*=b;const z=o.alignment,$=(1-z)*2,et=z*2;d||(o.cap===os.ROUND?_+=Fs(C-B*($-et)*.5,N-X*($-et)*.5,C-B*$,N-X*$,C+B*et,N+X*et,g,!0)+2:o.cap===os.SQUARE&&(_+=U0(C,N,B,X,$,et,!0,g))),g.push(C-B*$,N-X*$,C+B*et,N+X*et);for(let I=1;I<y-1;++I){C=s[(I-1)*2],N=s[(I-1)*2+1],M=s[I*2],P=s[I*2+1],D=s[(I+1)*2],q=s[(I+1)*2+1],B=-(N-P),X=C-M,ot=Math.sqrt(B*B+X*X),B/=ot,X/=ot,B*=b,X*=b,V=-(P-q),J=M-D,ot=Math.sqrt(V*V+J*J),V/=ot,J/=ot,V*=b,J*=b;const w=M-C,H=N-P,E=M-D,O=q-P,F=w*E+H*O,L=H*E-O*w,Y=L<0;if(Math.abs(L)<.001*Math.abs(F)){g.push(M-B*$,P-X*$,M+B*et,P+X*et),F>=0&&(o.join===_i.ROUND?_+=Fs(M,P,M-B*$,P-X*$,M-V*$,P-J*$,g,!1)+4:_+=2,g.push(M-V*et,P-J*et,M+V*$,P+J*$));continue}const tt=(-B+C)*(-X+P)-(-B+M)*(-X+N),at=(-V+D)*(-J+P)-(-V+M)*(-J+q),ft=(w*at-E*tt)/L,ht=(O*tt-H*at)/L,dt=(ft-M)*(ft-M)+(ht-P)*(ht-P),st=M+(ft-M)*$,mt=P+(ht-P)*$,bt=M-(ft-M)*et,Ct=P-(ht-P)*et,Ut=Math.min(w*w+H*H,E*E+O*O),Et=Y?$:et,vt=Ut+Et*Et*A,ee=dt<=vt;let se=o.join;if(se===_i.MITER&&dt/A>T&&(se=_i.BEVEL),ee)switch(se){case _i.MITER:{g.push(st,mt,bt,Ct);break}case _i.BEVEL:{Y?g.push(st,mt,M+B*et,P+X*et,st,mt,M+V*et,P+J*et):g.push(M-B*$,P-X*$,bt,Ct,M-V*$,P-J*$,bt,Ct),_+=2;break}case _i.ROUND:{Y?(g.push(st,mt,M+B*et,P+X*et),_+=Fs(M,P,M+B*et,P+X*et,M+V*et,P+J*et,g,!0)+4,g.push(st,mt,M+V*et,P+J*et)):(g.push(M-B*$,P-X*$,bt,Ct),_+=Fs(M,P,M-B*$,P-X*$,M-V*$,P-J*$,g,!1)+4,g.push(M-V*$,P-J*$,bt,Ct));break}}else{switch(g.push(M-B*$,P-X*$,M+B*et,P+X*et),se){case _i.MITER:{Y?g.push(bt,Ct,bt,Ct):g.push(st,mt,st,mt),_+=2;break}case _i.ROUND:{Y?_+=Fs(M,P,M+B*et,P+X*et,M+V*et,P+J*et,g,!0)+2:_+=Fs(M,P,M-B*$,P-X*$,M-V*$,P-J*$,g,!1)+2;break}}g.push(M-V*$,P-J*$,M+V*et,P+J*et),_+=2}}C=s[(y-2)*2],N=s[(y-2)*2+1],M=s[(y-1)*2],P=s[(y-1)*2+1],B=-(N-P),X=C-M,ot=Math.sqrt(B*B+X*X),B/=ot,X/=ot,B*=b,X*=b,g.push(M-B*$,P-X*$,M+B*et,P+X*et),d||(o.cap===os.ROUND?_+=Fs(M-B*($-et)*.5,P-X*($-et)*.5,M-B*$,P-X*$,M+B*et,P+X*et,g,!1)+2:o.cap===os.SQUARE&&(_+=U0(M,P,B,X,$,et,!1,g)));const ut=t.indices,S=ea.epsilon*ea.epsilon;for(let I=v;I<_+v-2;++I)C=g[I*2],N=g[I*2+1],M=g[(I+1)*2],P=g[(I+1)*2+1],D=g[(I+2)*2],q=g[(I+2)*2+1],!(Math.abs(C*(P-q)+M*(q-N)+D*(N-P))<S)&&ut.push(I,I+1,I+2)}function Tw(n,t){let e=0;const s=n.shape,l=n.points||s.points,o=s.type!==Pe.POLY||s.closeStroke;if(l.length===0)return;const h=t.points,c=t.indices,d=l.length/2,p=h.length/2;let g=p;for(h.push(l[0],l[1]),e=1;e<d;e++)h.push(l[e*2],l[e*2+1]),c.push(g,g+1),g++;o&&c.push(g,p)}function P0(n,t){n.lineStyle.native?Tw(n,t):Ew(n,t)}class sp{static curveLength(t,e,s,l,o,h){const c=t-2*s+o,d=e-2*l+h,p=2*s-2*t,g=2*l-2*e,y=4*(c*c+d*d),_=4*(c*p+d*g),v=p*p+g*g,b=2*Math.sqrt(y+_+v),A=Math.sqrt(y),T=2*y*A,C=2*Math.sqrt(v),N=_/A;return(T*b+A*_*(b-C)+(4*v*y-_*_)*Math.log((2*A+N+b)/(N+C)))/(4*T)}static curveTo(t,e,s,l,o){const h=o[o.length-2],c=o[o.length-1],d=ea._segmentsCount(sp.curveLength(h,c,t,e,s,l));let p=0,g=0;for(let y=1;y<=d;++y){const _=y/d;p=h+(t-h)*_,g=c+(e-c)*_,o.push(p+(t+(s-t)*_-p)*_,g+(e+(l-e)*_-g)*_)}}}const sd={[Pe.POLY]:sx,[Pe.CIRC]:yu,[Pe.ELIP]:yu,[Pe.RECT]:_w,[Pe.RREC]:xw},L0=[],qo=[];class vu{constructor(t,e=null,s=null,l=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=s,this.fillStyle=e,this.matrix=l,this.type=t.type}clone(){return new vu(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const kn=new Gt,nx=class ax extends c_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new du,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),qo.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),L0.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,s=null,l=null){const o=new vu(t,e,s,l);return this.graphicsData.push(o),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const s=new vu(t,null,null,e),l=this.graphicsData[this.graphicsData.length-1];return s.lineStyle=l.lineStyle,l.holes.push(s),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let s=0;s<e.length;++s){const l=e[s];if(l.fillStyle.visible&&l.shape&&(l.matrix?l.matrix.applyInverse(t,kn):kn.copyFrom(t),l.shape.contains(kn.x,kn.y))){let o=!1;if(l.holes){for(let h=0;h<l.holes.length;h++)if(l.holes[h].shape.contains(kn.x,kn.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let s=null,l=null;this.batches.length>0&&(s=this.batches[this.batches.length-1],l=s.style);for(let d=this.shapeIndex;d<e.length;d++){this.shapeIndex++;const p=e[d],g=p.fillStyle,y=p.lineStyle;sd[p.type].build(p),p.matrix&&this.transformPoints(p.points,p.matrix),(g.visible||y.visible)&&this.processHoles(p.holes);for(let _=0;_<2;_++){const v=_===0?g:y;if(!v.visible)continue;const b=v.texture.baseTexture,A=this.indices.length,T=this.points.length/2;b.wrapMode=us.REPEAT,_===0?this.processFill(p):this.processLine(p);const C=this.points.length/2-T;C!==0&&(s&&!this._compareStyles(l,v)&&(s.end(A,T),s=null),s||(s=L0.pop()||new bw,s.begin(v,A,T),this.batches.push(s),l=v),this.addUvs(this.points,t,v.texture,T,C,v.matrix))}}const o=this.indices.length,h=this.points.length/2;if(s&&s.end(o,h),this.batches.length===0){this.batchable=!0;return}const c=h>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&c===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=c?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const s=this.graphicsData[t],l=s.fillStyle,o=s.lineStyle;if(l&&!l.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,s=t.length;e<s;e++){const l=t[e];for(let o=0;o<l.size;o++){const h=l.start+o;this.indicesUint16[h]=this.indicesUint16[h]-l.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<ax.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++It._globalBatch;for(let y=0;y<this.drawCalls.length;y++)this.drawCalls[y].texArray.clear(),qo.push(this.drawCalls[y]);this.drawCalls.length=0;const e=this.colors,s=this.textureIds;let l=qo.pop();l||(l=new _d,l.texArray=new Td),l.texArray.count=0,l.start=0,l.size=0,l.type=$i.TRIANGLES;let o=0,h=null,c=0,d=!1,p=$i.TRIANGLES,g=0;this.drawCalls.push(l);for(let y=0;y<this.batches.length;y++){const _=this.batches[y],v=8,b=_.style,A=b.texture.baseTexture;d!==!!b.native&&(d=!!b.native,p=d?$i.LINES:$i.TRIANGLES,h=null,o=v,t++),h!==A&&(h=A,A._batchEnabled!==t&&(o===v&&(t++,o=0,l.size>0&&(l=qo.pop(),l||(l=new _d,l.texArray=new Td),this.drawCalls.push(l)),l.start=g,l.size=0,l.texArray.count=0,l.type=p),A.touched=1,A._batchEnabled=t,A._batchLocation=o,A.wrapMode=us.REPEAT,l.texArray.elements[l.texArray.count++]=A,o++)),l.size+=_.size,g+=_.size,c=A._batchLocation,this.addColors(e,b.color,b.alpha,_.attribSize,_.attribStart),this.addTextureIds(s,c,_.attribSize,_.attribStart)}It._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,s=this.colors,l=this.textureIds,o=new ArrayBuffer(t.length*3*4),h=new Float32Array(o),c=new Uint32Array(o);let d=0;for(let p=0;p<t.length/2;p++)h[d++]=t[p*2],h[d++]=t[p*2+1],h[d++]=e[p*2],h[d++]=e[p*2+1],c[d++]=s[p],h[d++]=l[p];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?sx.triangulate(t,this):sd[t.type].triangulate(t,this)}processLine(t){P0(t,this);for(let e=0;e<t.holes.length;e++)P0(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const s=t[e];sd[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let s=0;s<t.length/2;s++){const l=t[s*2],o=t[s*2+1];t[s*2]=e.a*l+e.c*o+e.tx,t[s*2+1]=e.b*l+e.d*o+e.ty}}addColors(t,e,s,l,o=0){const h=ie.shared.setValue(e).toLittleEndianNumber(),c=ie.shared.setValue(h).toPremultiplied(s);t.length=Math.max(t.length,o+l);for(let d=0;d<l;d++)t[o+d]=c}addTextureIds(t,e,s,l=0){t.length=Math.max(t.length,l+s);for(let o=0;o<s;o++)t[l+o]=e}addUvs(t,e,s,l,o,h=null){let c=0;const d=e.length,p=s.frame;for(;c<o;){let y=t[(l+c)*2],_=t[(l+c)*2+1];if(h){const v=h.a*y+h.c*_+h.tx;_=h.b*y+h.d*_+h.ty,y=v}c++,e.push(y/p.width,_/p.height)}const g=s.baseTexture;(p.width<g.width||p.height<g.height)&&this.adjustUvs(e,s,d,o)}adjustUvs(t,e,s,l){const o=e.baseTexture,h=1e-6,c=s+l*2,d=e.frame,p=d.width/o.width,g=d.height/o.height;let y=d.x/d.width,_=d.y/d.height,v=Math.floor(t[s]+h),b=Math.floor(t[s+1]+h);for(let A=s+2;A<c;A+=2)v=Math.min(v,Math.floor(t[A]+h)),b=Math.min(b,Math.floor(t[A+1]+h));y-=v,_-=b;for(let A=s;A<c;A+=2)t[A]=(t[A]+y)*p,t[A+1]=(t[A+1]+_)*g}};nx.BATCHABLE_SIZE=100;let Aw=nx;class Du{constructor(){this.color=16777215,this.alpha=1,this.texture=xt.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Du;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=xt.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class np extends Du{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=os.BUTT,this.join=_i.MITER,this.miterLimit=10}clone(){const t=new np;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=os.BUTT,this.join=_i.MITER,this.miterLimit=10}}const nd={},zd=class iu extends Ge{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Du,this._lineStyle=new np,this._matrix=null,this._holeMode=!1,this.state=tr.for2d(),this._geometry=t||new Aw,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ie(16777215),this.blendMode=Mt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new iu(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,s,l=.5,o=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:s,alignment:l,native:o}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:xt.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:os.BUTT,join:_i.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const s=t.width>0&&t.alpha>0;return s?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:s},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ys,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ys,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const s=this.currentPath.points,l=s[s.length-2],o=s[s.length-1];return(l!==t||o!==e)&&s.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,s,l){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),sp.curveTo(t,e,s,l,o),this}bezierCurveTo(t,e,s,l,o,h){return this._initCurve(),rp.curveTo(t,e,s,l,o,h,this.currentPath.points),this}arcTo(t,e,s,l,o){this._initCurve(t,e);const h=this.currentPath.points,c=N0.curveTo(t,e,s,l,o,h);if(c){const{cx:d,cy:p,radius:g,startAngle:y,endAngle:_,anticlockwise:v}=c;this.arc(d,p,g,y,_,v)}return this}arc(t,e,s,l,o,h=!1){if(l===o)return this;if(!h&&o<=l?o+=ou:h&&l<=o&&(l+=ou),o-l===0)return this;const c=t+Math.cos(l)*s,d=e+Math.sin(l)*s,p=this._geometry.closePointEps;let g=this.currentPath?this.currentPath.points:null;if(g){const y=Math.abs(g[g.length-2]-c),_=Math.abs(g[g.length-1]-d);y<p&&_<p||g.push(c,d)}else this.moveTo(c,d),g=this.currentPath.points;return N0.arc(c,d,t,e,s,l,o,h,g),this}beginFill(t=0,e){return this.beginTextureFill({texture:xt.WHITE,color:t,alpha:e})}normalizeColor(t){const e=ie.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:xt.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const s=t.alpha>0;return s?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:s},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,s,l){return this.drawShape(new Nt(t,e,s,l))}drawRoundedRect(t,e,s,l,o){return this.drawShape(new wu(t,e,s,l,o))}drawCircle(t,e,s){return this.drawShape(new Au(t,e,s))}drawEllipse(t,e,s,l){return this.drawShape(new Su(t,e,s,l))}drawPolygon(...t){let e,s=!0;const l=t[0];l.points?(s=l.closeStroke,e=l.points):Array.isArray(t[0])?e=t[0]:e=t;const o=new Ys(e);return o.closeStroke=s,this.drawShape(o),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Pe.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,s=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=s,this.vertexData=new Float32Array(t.points);for(let l=0;l<s;l++){const o=t.batches[l],h=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),d=new Float32Array(t.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),p=new Uint16Array(t.indicesUint16.buffer,o.start*2,o.size),g={vertexData:c,blendMode:e,indices:p,uvs:d,_batchRGB:ie.shared.setValue(h).toRgbArray(),_tintRGB:h,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[l]=g}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,s=this.batches.length;e<s;e++){const l=this.batches[e];l.worldAlpha=this.worldAlpha*l.alpha,t.plugins[this.pluginName].render(l)}}}_renderDirect(t){const e=this._resolveDirectShader(t),s=this._geometry,l=this.worldAlpha,o=e.uniforms,h=s.drawCalls;o.translationMatrix=this.transform.worldTransform,ie.shared.setValue(this._tintColor).premultiply(l).toArray(o.tint),t.shader.bind(e),t.geometry.bind(s,e),t.state.set(this.state);for(let c=0,d=h.length;c<d;c++)this._renderDrawCallDirect(t,s.drawCalls[c])}_renderDrawCallDirect(t,e){const{texArray:s,type:l,size:o,start:h}=e,c=s.count;for(let d=0;d<c;d++)t.texture.bind(s.elements[d],d);t.geometry.draw(l,o,h)}_resolveDirectShader(t){let e=this.shader;const s=this.pluginName;if(!e){if(!nd[s]){const{maxTextures:l}=t.plugins[s],o=new Int32Array(l);for(let d=0;d<l;d++)o[d]=d;const h={tint:new Float32Array([1,1,1,1]),translationMatrix:new re,default:Ii.from({uSamplers:o},!0)},c=t.plugins[s]._shader.program;nd[s]=new Ki(c,h)}e=nd[s]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:s,maxX:l,maxY:o}=t.bounds;this._bounds.addFrame(this.transform,e,s,l,o)}containsPoint(t){return this.worldTransform.applyInverse(t,iu._TEMP_POINT),this._geometry.containsPoint(iu._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=ie.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,s=e.a,l=e.b,o=e.c,h=e.d,c=e.tx,d=e.ty,p=this._geometry.points,g=this.vertexData;let y=0;for(let _=0;_<p.length;_+=2){const v=p[_],b=p[_+1];g[y++]=s*v+o*b+c,g[y++]=h*b+l*v+d}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};zd.curves=ea,zd._TEMP_POINT=new Gt;let _u=zd;class Sw{constructor(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}}const ad=new Gt,F0=new Ys,lx=class ox extends Ge{constructor(t,e,s,l=$i.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=s||tr.for2d(),this.drawMode=l,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=yt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===$i.TRIANGLES&&e.length<ox.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,s=this.shader;s.uvMatrix&&(s.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=s._tintRGB,this._texture=s.texture;const l=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[l]),t.plugins[l].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,s=t._updateID;if(s===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const l=this.transform.worldTransform,o=l.a,h=l.b,c=l.c,d=l.d,p=l.tx,g=l.ty,y=this.vertexData;for(let _=0;_<y.length/2;_++){const v=e[_*2],b=e[_*2+1];y[_*2]=o*v+c*b+p,y[_*2+1]=h*v+d*b+g}if(this._roundPixels){const _=yt.RESOLUTION;for(let v=0;v<y.length;++v)y[v]=Math.round(y[v]*_)/_}this.vertexDirty=s}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Sw(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,ad);const e=this.geometry.getBuffer("aVertexPosition").data,s=F0.points,l=this.geometry.getIndex().data,o=l.length,h=this.drawMode===4?3:1;for(let c=0;c+2<o;c+=h){const d=l[c]*2,p=l[c+1]*2,g=l[c+2]*2;if(s[0]=e[d],s[1]=e[d+1],s[2]=e[p],s[3]=e[p+1],s[4]=e[g],s[5]=e[g+1],F0.contains(ad.x,ad.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};lx.BATCHABLE_SIZE=100;let G0=lx;class ww extends hs{constructor(t,e,s){super();const l=new de(t),o=new de(e,!0),h=new de(s,!0,!0);this.addAttribute("aVertexPosition",l,2,!1,wt.FLOAT).addAttribute("aTextureCoord",o,2,!1,wt.FLOAT).addIndex(h),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Rw=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Cw=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class H0 extends Ki{constructor(t,e){const s={uSampler:t,alpha:1,uTextureMatrix:re.IDENTITY,uColor:new Float32Array([1,1,1,1])};e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e),e.uniforms&&Object.assign(s,e.uniforms),super(e.program||Rr.from(Cw,Rw),s),this._colorDirty=!1,this.uvMatrix=new S_(t),this.batchable=e.program===void 0,this.pluginName=e.pluginName,this._tintColor=new ie(e.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=e.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;ie.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class k0{constructor(t,e,s){this.geometry=new hs,this.indexBuffer=null,this.size=s,this.dynamicProperties=[],this.staticProperties=[];for(let l=0;l<t.length;++l){let o=t[l];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||wt.FLOAT,offset:o.offset},e[l]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let e=0;this.indexBuffer=new de(WE(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];c.offset=e,e+=c.size,this.dynamicStride+=c.size}const s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new de(this.dynamicData,!1,!1);let l=0;this.staticStride=0;for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];c.offset=l,l+=c.size,this.staticStride+=c.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new de(this.staticData,!0,!1);for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];t.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===wt.UNSIGNED_BYTE,c.type,this.dynamicStride*4,c.offset*4)}for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];t.addAttribute(c.attributeName,this.staticBuffer,0,c.type===wt.UNSIGNED_BYTE,c.type,this.staticStride*4,c.offset*4)}}uploadDynamic(t,e,s){for(let l=0;l<this.dynamicProperties.length;l++){const o=this.dynamicProperties[l];o.uploadFunction(t,e,s,o.type===wt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,e,s){for(let l=0;l<this.staticProperties.length;l++){const o=this.staticProperties[l];o.uploadFunction(t,e,s,o.type===wt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Mw=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Dw=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class ux extends Ru{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new re,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:wt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Ki.from(Dw,Mw,{}),this.state=tr.for2d()}render(t){const e=t.children,s=t._maxSize,l=t._batchSize,o=this.renderer;let h=e.length;if(h===0)return;h>s&&!t.autoResize&&(h=s);let c=t._buffers;c||(c=t._buffers=this.generateBuffers(t));const d=e[0]._texture.baseTexture,p=d.alphaMode>0;this.state.blendMode=o_(t.blendMode,p),o.state.set(this.state);const g=o.gl,y=t.worldTransform.copyTo(this.tempMatrix);y.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=ie.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,p).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=d,this.renderer.shader.bind(this.shader);let _=!1;for(let v=0,b=0;v<h;v+=l,b+=1){let A=h-v;A>l&&(A=l),b>=c.length&&c.push(this._generateOneMoreBuffer(t));const T=c[b];T.uploadDynamic(e,v,A);const C=t._bufferUpdateIDs[b]||0;_=_||T._updateID<C,_&&(T._updateID=t._updateID,T.uploadStatic(e,v,A)),o.geometry.bind(T.geometry),g.drawElements(g.TRIANGLES,A*6,g.UNSIGNED_SHORT,0)}}generateBuffers(t){const e=[],s=t._maxSize,l=t._batchSize,o=t._properties;for(let h=0;h<s;h+=l)e.push(new k0(this.properties,o,l));return e}_generateOneMoreBuffer(t){const e=t._batchSize,s=t._properties;return new k0(this.properties,s,e)}uploadVertices(t,e,s,l,o,h){let c=0,d=0,p=0,g=0;for(let y=0;y<s;++y){const _=t[e+y],v=_._texture,b=_.scale.x,A=_.scale.y,T=v.trim,C=v.orig;T?(d=T.x-_.anchor.x*C.width,c=d+T.width,g=T.y-_.anchor.y*C.height,p=g+T.height):(c=C.width*(1-_.anchor.x),d=C.width*-_.anchor.x,p=C.height*(1-_.anchor.y),g=C.height*-_.anchor.y),l[h]=d*b,l[h+1]=g*A,l[h+o]=c*b,l[h+o+1]=g*A,l[h+o*2]=c*b,l[h+o*2+1]=p*A,l[h+o*3]=d*b,l[h+o*3+1]=p*A,h+=o*4}}uploadPosition(t,e,s,l,o,h){for(let c=0;c<s;c++){const d=t[e+c].position;l[h]=d.x,l[h+1]=d.y,l[h+o]=d.x,l[h+o+1]=d.y,l[h+o*2]=d.x,l[h+o*2+1]=d.y,l[h+o*3]=d.x,l[h+o*3+1]=d.y,h+=o*4}}uploadRotation(t,e,s,l,o,h){for(let c=0;c<s;c++){const d=t[e+c].rotation;l[h]=d,l[h+o]=d,l[h+o*2]=d,l[h+o*3]=d,h+=o*4}}uploadUvs(t,e,s,l,o,h){for(let c=0;c<s;++c){const d=t[e+c]._texture._uvs;d?(l[h]=d.x0,l[h+1]=d.y0,l[h+o]=d.x1,l[h+o+1]=d.y1,l[h+o*2]=d.x2,l[h+o*2+1]=d.y2,l[h+o*3]=d.x3,l[h+o*3+1]=d.y3,h+=o*4):(l[h]=0,l[h+1]=0,l[h+o]=0,l[h+o+1]=0,l[h+o*2]=0,l[h+o*2+1]=0,l[h+o*3]=0,l[h+o*3+1]=0,h+=o*4)}}uploadTint(t,e,s,l,o,h){for(let c=0;c<s;++c){const d=t[e+c],p=ie.shared.setValue(d._tintRGB).toPremultiplied(d.alpha,d.texture.baseTexture.alphaMode>0);l[h]=p,l[h+o]=p,l[h+o*2]=p,l[h+o*3]=p,h+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}ux.extension={name:"particle",type:pt.RendererPlugin};Tt.add(ux);var Ou=(n=>(n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",n))(Ou||{});const $o={willReadFrequently:!0},ji=class At{static get experimentalLetterSpacingSupported(){let t=At._experimentalLetterSpacingSupported;if(t!==void 0){const e=yt.ADAPTER.getCanvasRenderingContext2D().prototype;t=At._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,s,l,o,h,c,d,p){this.text=t,this.style=e,this.width=s,this.height=l,this.lines=o,this.lineWidths=h,this.lineHeight=c,this.maxLineWidth=d,this.fontProperties=p}static measureText(t,e,s,l=At._canvas){s=s??e.wordWrap;const o=e.toFontString(),h=At.measureFont(o);h.fontSize===0&&(h.fontSize=e.fontSize,h.ascent=e.fontSize);const c=l.getContext("2d",$o);c.font=o;const d=(s?At.wordWrap(t,e,l):t).split(/(?:\r\n|\r|\n)/),p=new Array(d.length);let g=0;for(let b=0;b<d.length;b++){const A=At._measureText(d[b],e.letterSpacing,c);p[b]=A,g=Math.max(g,A)}let y=g+e.strokeThickness;e.dropShadow&&(y+=e.dropShadowDistance);const _=e.lineHeight||h.fontSize+e.strokeThickness;let v=Math.max(_,h.fontSize+e.strokeThickness*2)+e.leading+(d.length-1)*(_+e.leading);return e.dropShadow&&(v+=e.dropShadowDistance),new At(t,e,y,v,d,p,_+e.leading,g,h)}static _measureText(t,e,s){let l=!1;At.experimentalLetterSpacingSupported&&(At.experimentalLetterSpacing?(s.letterSpacing=`${e}px`,s.textLetterSpacing=`${e}px`,l=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));let o=s.measureText(t).width;return o>0&&(l?o-=e:o+=(At.graphemeSegmenter(t).length-1)*e),o}static wordWrap(t,e,s=At._canvas){const l=s.getContext("2d",$o);let o=0,h="",c="";const d=Object.create(null),{letterSpacing:p,whiteSpace:g}=e,y=At.collapseSpaces(g),_=At.collapseNewlines(g);let v=!y;const b=e.wordWrapWidth+p,A=At.tokenize(t);for(let T=0;T<A.length;T++){let C=A[T];if(At.isNewline(C)){if(!_){c+=At.addLine(h),v=!y,h="",o=0;continue}C=" "}if(y){const M=At.isBreakingSpace(C),P=At.isBreakingSpace(h[h.length-1]);if(M&&P)continue}const N=At.getFromCache(C,p,d,l);if(N>b)if(h!==""&&(c+=At.addLine(h),h="",o=0),At.canBreakWords(C,e.breakWords)){const M=At.wordWrapSplit(C);for(let P=0;P<M.length;P++){let D=M[P],q=D,B=1;for(;M[P+B];){const V=M[P+B];if(!At.canBreakChars(q,V,C,P,e.breakWords))D+=V;else break;q=V,B++}P+=B-1;const X=At.getFromCache(D,p,d,l);X+o>b&&(c+=At.addLine(h),v=!1,h="",o=0),h+=D,o+=X}}else{h.length>0&&(c+=At.addLine(h),h="",o=0);const M=T===A.length-1;c+=At.addLine(C,!M),v=!1,h="",o=0}else N+o>b&&(v=!1,c+=At.addLine(h),h="",o=0),(h.length>0||!At.isBreakingSpace(C)||v)&&(h+=C,o+=N)}return c+=At.addLine(h,!1),c}static addLine(t,e=!0){return t=At.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,s,l){let o=s[t];return typeof o!="number"&&(o=At._measureText(t,e,l)+e,s[t]=o),o}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const s=t[e];if(!At.isBreakingSpace(s))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:At._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:At._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let s="";if(typeof t!="string")return e;for(let l=0;l<t.length;l++){const o=t[l],h=t[l+1];if(At.isBreakingSpace(o,h)||At.isNewline(o)){s!==""&&(e.push(s),s=""),e.push(o);continue}s+=o}return s!==""&&e.push(s),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,s,l,o){return!0}static wordWrapSplit(t){return At.graphemeSegmenter(t)}static measureFont(t){if(At._fonts[t])return At._fonts[t];const e={ascent:0,descent:0,fontSize:0},s=At._canvas,l=At._context;l.font=t;const o=At.METRICS_STRING+At.BASELINE_SYMBOL,h=Math.ceil(l.measureText(o).width);let c=Math.ceil(l.measureText(At.BASELINE_SYMBOL).width);const d=Math.ceil(At.HEIGHT_MULTIPLIER*c);if(c=c*At.BASELINE_MULTIPLIER|0,h===0||d===0)return At._fonts[t]=e,e;s.width=h,s.height=d,l.fillStyle="#f00",l.fillRect(0,0,h,d),l.font=t,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(o,0,c);const p=l.getImageData(0,0,h,d).data,g=p.length,y=h*4;let _=0,v=0,b=!1;for(_=0;_<c;++_){for(let A=0;A<y;A+=4)if(p[v+A]!==255){b=!0;break}if(!b)v+=y;else break}for(e.ascent=c-_,v=g-y,b=!1,_=d;_>c;--_){for(let A=0;A<y;A+=4)if(p[v+A]!==255){b=!0;break}if(!b)v-=y;else break}return e.descent=_-c,e.fontSize=e.ascent+e.descent,At._fonts[t]=e,e}static clearMetrics(t=""){t?delete At._fonts[t]:At._fonts={}}static get _canvas(){var t;if(!At.__canvas){let e;try{const s=new OffscreenCanvas(0,0);if((t=s.getContext("2d",$o))!=null&&t.measureText)return At.__canvas=s,s;e=yt.ADAPTER.createCanvas()}catch{e=yt.ADAPTER.createCanvas()}e.width=e.height=10,At.__canvas=e}return At.__canvas}static get _context(){return At.__context||(At.__context=At._canvas.getContext("2d",$o)),At.__context}};ji.METRICS_STRING="|ÉqÅ",ji.BASELINE_SYMBOL="M",ji.BASELINE_MULTIPLIER=1.4,ji.HEIGHT_MULTIPLIER=2,ji.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const n=new Intl.Segmenter;return t=>[...n.segment(t)].map(e=>e.segment)}return n=>[...n]})(),ji.experimentalLetterSpacing=!1,ji._fonts={},ji._newlines=[10,13],ji._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let ns=ji;const Ow=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],hx=class cl{constructor(t){this.styleID=0,this.reset(),od(this,t,t)}clone(){const t={};return od(t,this,cl.defaultStyle),new cl(t)}reset(){od(this,cl.defaultStyle,cl.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=ld(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=ld(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){Bw(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=ld(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let s=e.length-1;s>=0;s--){let l=e[s].trim();!/([\"\'])[^\'\"]+\1/.test(l)&&!Ow.includes(l)&&(l=`"${l}"`),e[s]=l}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};hx.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ou.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Ji=hx;function ld(n){const t=ie.shared,e=s=>{const l=t.setValue(s);return l.alpha===1?l.toHex():l.toRgbaString()};return Array.isArray(n)?n.map(e):e(n)}function Bw(n,t){if(!Array.isArray(n)||!Array.isArray(t)||n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0}function od(n,t,e){for(const s in e)Array.isArray(t[s])?n[s]=t[s].slice():n[s]=t[s]}const Iw={texture:!0,children:!1,baseTexture:!0},cx=class Xd extends Ni{constructor(t,e,s){let l=!1;s||(s=yt.ADAPTER.createCanvas(),l=!0),s.width=3,s.height=3;const o=xt.from(s);o.orig=new Nt,o.trim=new Nt,super(o),this._ownCanvas=l,this.canvas=s,this.context=s.getContext("2d",{willReadFrequently:!0}),this._resolution=Xd.defaultResolution??yt.RESOLUTION,this._autoResolution=Xd.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return ns.experimentalLetterSpacing}static set experimentalLetterSpacing(t){kt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ns.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const s=this.context,l=ns.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=l.width,h=l.height,c=l.lines,d=l.lineHeight,p=l.lineWidths,g=l.maxLineWidth,y=l.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+e.padding*2)*this._resolution),s.scale(this._resolution,this._resolution),s.clearRect(0,0,this.canvas.width,this.canvas.height),s.font=this._font,s.lineWidth=e.strokeThickness,s.textBaseline=e.textBaseline,s.lineJoin=e.lineJoin,s.miterLimit=e.miterLimit;let _,v;const b=e.dropShadow?2:1;for(let A=0;A<b;++A){const T=e.dropShadow&&A===0,C=T?Math.ceil(Math.max(1,h)+e.padding*2):0,N=C*this._resolution;if(T){s.fillStyle="black",s.strokeStyle="black";const P=e.dropShadowColor,D=e.dropShadowBlur*this._resolution,q=e.dropShadowDistance*this._resolution;s.shadowColor=ie.shared.setValue(P).setAlpha(e.dropShadowAlpha).toRgbaString(),s.shadowBlur=D,s.shadowOffsetX=Math.cos(e.dropShadowAngle)*q,s.shadowOffsetY=Math.sin(e.dropShadowAngle)*q+N}else s.fillStyle=this._generateFillStyle(e,c,l),s.strokeStyle=e.stroke,s.shadowColor="black",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0;let M=(d-y.fontSize)/2;d-y.fontSize<0&&(M=0);for(let P=0;P<c.length;P++)_=e.strokeThickness/2,v=e.strokeThickness/2+P*d+y.ascent+M,e.align==="right"?_+=g-p[P]:e.align==="center"&&(_+=(g-p[P])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(c[P],_+e.padding,v+e.padding-C,!0),e.fill&&this.drawLetterSpacing(c[P],_+e.padding,v+e.padding-C)}this.updateTexture()}drawLetterSpacing(t,e,s,l=!1){const o=this._style.letterSpacing;let h=!1;if(ns.experimentalLetterSpacingSupported&&(ns.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,h=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||h){l?this.context.strokeText(t,e,s):this.context.fillText(t,e,s);return}let c=e;const d=ns.graphemeSegmenter(t);let p=this.context.measureText(t).width,g=0;for(let y=0;y<d.length;++y){const _=d[y];l?this.context.strokeText(_,c,s):this.context.fillText(_,c,s);let v="";for(let b=y+1;b<d.length;++b)v+=d[b];g=this.context.measureText(v).width,c+=p-g+o,p=g}}updateTexture(){const t=this.canvas;if(this._style.trim){const h=JE(t);h.data&&(t.width=h.width,t.height=h.height,this.context.putImageData(h.data,0,0))}const e=this._texture,s=this._style,l=s.trim?0:s.padding,o=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-l,e.trim.y=-l,e.orig.width=e._frame.width-l*2,e.orig.height=e._frame.height-l*2,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,s){const l=t.fill;if(Array.isArray(l)){if(l.length===1)return l[0]}else return l;let o;const h=t.dropShadow?t.dropShadowDistance:0,c=t.padding||0,d=this.canvas.width/this._resolution-h-c*2,p=this.canvas.height/this._resolution-h-c*2,g=l.slice(),y=t.fillGradientStops.slice();if(!y.length){const _=g.length+1;for(let v=1;v<_;++v)y.push(v/_)}if(g.unshift(l[0]),y.unshift(0),g.push(l[l.length-1]),y.push(1),t.fillGradientType===Ou.LINEAR_VERTICAL){o=this.context.createLinearGradient(d/2,c,d/2,p+c);const _=s.fontProperties.fontSize+t.strokeThickness;for(let v=0;v<e.length;v++){const b=s.lineHeight*(v-1)+_,A=s.lineHeight*v;let T=A;v>0&&b>A&&(T=(A+b)/2);const C=A+_,N=s.lineHeight*(v+1);let M=C;v+1<e.length&&N<C&&(M=(C+N)/2);const P=(M-T)/p;for(let D=0;D<g.length;D++){let q=0;typeof y[D]=="number"?q=y[D]:q=D/g.length;let B=Math.min(1,Math.max(0,T/p+q*P));B=Number(B.toFixed(5)),o.addColorStop(B,g[D])}}}else{o=this.context.createLinearGradient(c,p/2,d+c,p/2);const _=g.length+1;let v=1;for(let b=0;b<g.length;b++){let A;typeof y[b]=="number"?A=y[b]:A=v/_,o.addColorStop(A,g[b]),v++}}return o}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Iw,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=ls(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=ls(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Ji?this._style=t:this._style=new Ji(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};cx.defaultAutoResolution=!0;let Wi=cx;class Nw{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Uw(n,t){var s;let e=!1;if((s=n==null?void 0:n._textures)!=null&&s.length){for(let l=0;l<n._textures.length;l++)if(n._textures[l]instanceof xt){const o=n._textures[l].baseTexture;t.includes(o)||(t.push(o),e=!0)}}return e}function Pw(n,t){if(n.baseTexture instanceof It){const e=n.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function Lw(n,t){if(n._texture&&n._texture instanceof xt){const e=n._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function Fw(n,t){return t instanceof Wi?(t.updateText(!0),!0):!1}function Gw(n,t){if(t instanceof Ji){const e=t.toFontString();return ns.measureFont(e),!0}return!1}function Hw(n,t){if(n instanceof Wi){t.includes(n.style)||t.push(n.style),t.includes(n)||t.push(n);const e=n._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function kw(n,t){return n instanceof Ji?(t.includes(n)||t.push(n),!0):!1}const fx=class dx{constructor(t){this.limiter=new Nw(dx.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Hw),this.registerFindHook(kw),this.registerFindHook(Uw),this.registerFindHook(Pw),this.registerFindHook(Lw),this.registerUploadHook(Fw),this.registerUploadHook(Gw)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,si.system.addOnce(this.tick,this,Ws.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let s=0,l=this.uploadHooks.length;s<l;s++)if(this.uploadHooks[s](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)si.system.addOnce(this.tick,this,Ws.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,s=t.length;e<s;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,s=this.addHooks.length;e<s&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ge)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&si.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};fx.uploadsPerFrame=4;let Vd=fx;Object.defineProperties(yt,{UPLOADS_PER_FRAME:{get(){return Vd.uploadsPerFrame},set(n){kt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Vd.uploadsPerFrame=n}}});function px(n,t){return t instanceof It?(t._glTextures[n.CONTEXT_UID]||n.texture.bind(t),!0):!1}function zw(n,t){if(!(t instanceof _u))return!1;const{geometry:e}=t;t.finishPoly(),e.updateBatches();const{batches:s}=e;for(let l=0;l<s.length;l++){const{texture:o}=s[l].style;o&&px(n,o.baseTexture)}return e.batchable||n.geometry.bind(e,t._resolveDirectShader(n)),!0}function Xw(n,t){return n instanceof _u?(t.push(n),!0):!1}class mx extends Vd{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(Xw),this.registerUploadHook(px),this.registerUploadHook(zw)}}mx.extension={name:"prepare",type:pt.RendererSystem};Tt.add(mx);var Vw=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,jw=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Yw=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,z0=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,qw=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Wo=new re;class gx extends Ru{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new b_,this.state=tr.for2d()}contextChange(){const t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=Ki.from(z0,qw,e),this.shader=t.context.webGLVersion>1?Ki.from(jw,Vw,e):Ki.from(z0,Yw,e)}render(t){const e=this.renderer,s=this.quad;let l=s.vertices;l[0]=l[6]=t._width*-t.anchor.x,l[1]=l[3]=t._height*-t.anchor.y,l[2]=l[4]=t._width*(1-t.anchor.x),l[5]=l[7]=t._height*(1-t.anchor.y);const o=t.uvRespectAnchor?t.anchor.x:0,h=t.uvRespectAnchor?t.anchor.y:0;l=s.uvs,l[0]=l[6]=-o,l[1]=l[3]=-h,l[2]=l[4]=1-o,l[5]=l[7]=1-h,s.invalidate();const c=t._texture,d=c.baseTexture,p=d.alphaMode>0,g=t.tileTransform.localTransform,y=t.uvMatrix;let _=d.isPowerOfTwo&&c.frame.width===d.width&&c.frame.height===d.height;_&&(d._glTextures[e.CONTEXT_UID]?_=d.wrapMode!==us.CLAMP:d.wrapMode===us.CLAMP&&(d.wrapMode=us.REPEAT));const v=_?this.simpleShader:this.shader,b=c.width,A=c.height,T=t._width,C=t._height;Wo.set(g.a*b/T,g.b*b/C,g.c*A/T,g.d*A/C,g.tx/T,g.ty/C),Wo.invert(),_?Wo.prepend(y.mapCoord):(v.uniforms.uMapCoord=y.mapCoord.toArray(!0),v.uniforms.uClampFrame=y.uClampFrame,v.uniforms.uClampOffset=y.uClampOffset),v.uniforms.uTransform=Wo.toArray(!0),v.uniforms.uColor=ie.shared.setValue(t.tint).premultiply(t.worldAlpha,p).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),v.uniforms.uSampler=c,e.shader.bind(v),e.geometry.bind(s),this.state.blendMode=o_(t.blendMode,p),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}gx.extension={name:"tilingSprite",type:pt.RendererPlugin};Tt.add(gx);const yx=class fl{constructor(t,e,s){this.linkedSheets=[],(t instanceof It||t instanceof xt)&&(t={texture:t,data:e,resolutionFilename:s});const{texture:l,data:o,resolutionFilename:h=null,cachePrefix:c=""}=t;this.cachePrefix=c,this._texture=l instanceof xt?l:null,this.baseTexture=l instanceof It?l:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const d=this.baseTexture.resource;this.resolution=this._updateResolution(h||(d?d.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let s=Cr(t,null);return s===null&&(s=typeof e=="number"?e:parseFloat(e??"1")),s!==1&&this.baseTexture.setResolution(s),s}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=fl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const s=fl.BATCH_SIZE;for(;e-t<s&&e<this._frameKeys.length;){const l=this._frameKeys[e],o=this._frames[l],h=o.frame;if(h){let c=null,d=null;const p=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,g=new Nt(0,0,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution);o.rotated?c=new Nt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):c=new Nt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(d=new Nt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[l]=new xt(this.baseTexture,c,g,d,o.rotated?2:0,o.anchor,o.borders),xt.addToCache(this.textures[l],this.cachePrefix+l.toString())}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let s=0;s<t[e].length;s++){const l=t[e][s];this.animations[e].push(this.textures[l])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*fl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*fl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const s in this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};yx.BATCH_SIZE=1e3;let X0=yx;const $w=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function vx(n,t,e){const s={};if(n.forEach(l=>{s[l]=t}),Object.keys(t.textures).forEach(l=>{s[`${t.cachePrefix}${l}`]=t.textures[l]}),!e){const l=Me.dirname(n[0]);t.linkedSheets.forEach((o,h)=>{Object.assign(s,vx([`${l}/${t.data.meta.related_multi_packs[h]}`],o,!0))})}return s}const Ww={extension:pt.Asset,cache:{test:n=>n instanceof X0,getCacheableAssets:(n,t)=>vx(n,t,!1)},resolver:{test:n=>{const t=n.split("?")[0].split("."),e=t.pop(),s=t.pop();return e==="json"&&$w.includes(s)},parse:n=>{var e;const t=n.split(".");return{resolution:parseFloat(((e=yt.RETINA_PREFIX.exec(n))==null?void 0:e[1])??"1"),format:t[t.length-2],src:n}}},loader:{name:"spritesheetLoader",extension:{type:pt.LoadParser,priority:Ui.Normal},async testParse(n,t){return Me.extname(t.src).toLowerCase()===".json"&&!!n.frames},async parse(n,t,e){var g,y;const{texture:s,imageFilename:l,cachePrefix:o}=(t==null?void 0:t.data)??{};let h=Me.dirname(t.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let c;if(s&&s.baseTexture)c=s;else{const _=Gd(h+(l??n.meta.image),t.src);c=(await e.load([_]))[_]}const d=new X0({texture:c.baseTexture,data:n,resolutionFilename:t.src,cachePrefix:o});await d.parse();const p=(g=n==null?void 0:n.meta)==null?void 0:g.related_multi_packs;if(Array.isArray(p)){const _=[];for(const b of p){if(typeof b!="string")continue;let A=h+b;(y=t.data)!=null&&y.ignoreMultiPack||(A=Gd(A,t.src),_.push(e.load({src:A,data:{ignoreMultiPack:!0}})))}const v=await Promise.all(_);d.linkedSheets=v,v.forEach(b=>{b.linkedSheets=[d].concat(d.linkedSheets.filter(A=>A!==b))})}return d},unload(n){n.destroy(!0)}}};Tt.add(Ww);class xu{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class ru{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),s={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in e){const h=e[o].match(/^[a-z]+/gm)[0],c=e[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),d={};for(const p in c){const g=c[p].split("="),y=g[0],_=g[1].replace(/"/gm,""),v=parseFloat(_),b=isNaN(v)?_:v;d[y]=b}s[h].push(d)}const l=new xu;return s.info.forEach(o=>l.info.push({face:o.face,size:parseInt(o.size,10)})),s.common.forEach(o=>l.common.push({lineHeight:parseInt(o.lineHeight,10)})),s.page.forEach(o=>l.page.push({id:parseInt(o.id,10),file:o.file})),s.char.forEach(o=>l.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),s.kerning.forEach(o=>l.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),s.distanceField.forEach(o=>l.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),l}}class jd{static test(t){const e=t;return typeof t!="string"&&"getElementsByTagName"in t&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const e=new xu,s=t.getElementsByTagName("info"),l=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),h=t.getElementsByTagName("char"),c=t.getElementsByTagName("kerning"),d=t.getElementsByTagName("distanceField");for(let p=0;p<s.length;p++)e.info.push({face:s[p].getAttribute("face"),size:parseInt(s[p].getAttribute("size"),10)});for(let p=0;p<l.length;p++)e.common.push({lineHeight:parseInt(l[p].getAttribute("lineHeight"),10)});for(let p=0;p<o.length;p++)e.page.push({id:parseInt(o[p].getAttribute("id"),10)||0,file:o[p].getAttribute("file")});for(let p=0;p<h.length;p++){const g=h[p];e.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(let p=0;p<c.length;p++)e.kerning.push({first:parseInt(c[p].getAttribute("first"),10),second:parseInt(c[p].getAttribute("second"),10),amount:parseInt(c[p].getAttribute("amount"),10)});for(let p=0;p<d.length;p++)e.distanceField.push({fieldType:d[p].getAttribute("fieldType"),distanceRange:parseInt(d[p].getAttribute("distanceRange"),10)});return e}}class Yd{static test(t){return typeof t=="string"&&t.includes("<font>")?jd.test(yt.ADAPTER.parseXML(t)):!1}static parse(t){return jd.parse(yt.ADAPTER.parseXML(t))}}const ud=[ru,jd,Yd];function Zw(n){for(let t=0;t<ud.length;t++)if(ud[t].test(n))return ud[t];return null}function Kw(n,t,e,s,l,o){const h=e.fill;if(Array.isArray(h)){if(h.length===1)return h[0]}else return h;let c;const d=e.dropShadow?e.dropShadowDistance:0,p=e.padding||0,g=n.width/s-d-p*2,y=n.height/s-d-p*2,_=h.slice(),v=e.fillGradientStops.slice();if(!v.length){const b=_.length+1;for(let A=1;A<b;++A)v.push(A/b)}if(_.unshift(h[0]),v.unshift(0),_.push(h[h.length-1]),v.push(1),e.fillGradientType===Ou.LINEAR_VERTICAL){c=t.createLinearGradient(g/2,p,g/2,y+p);let b=0;const A=(o.fontProperties.fontSize+e.strokeThickness)/y;for(let T=0;T<l.length;T++){const C=o.lineHeight*T;for(let N=0;N<_.length;N++){let M=0;typeof v[N]=="number"?M=v[N]:M=N/_.length;const P=C/y+M*A;let D=Math.max(b,P);D=Math.min(D,1),c.addColorStop(D,_[N]),b=D}}}else{c=t.createLinearGradient(p,y/2,g+p,y/2);const b=_.length+1;let A=1;for(let T=0;T<_.length;T++){let C;typeof v[T]=="number"?C=v[T]:C=A/b,c.addColorStop(C,_[T]),A++}}return c}function Qw(n,t,e,s,l,o,h){const c=e.text,d=e.fontProperties;t.translate(s,l),t.scale(o,o);const p=h.strokeThickness/2,g=-(h.strokeThickness/2);if(t.font=h.toFontString(),t.lineWidth=h.strokeThickness,t.textBaseline=h.textBaseline,t.lineJoin=h.lineJoin,t.miterLimit=h.miterLimit,t.fillStyle=Kw(n,t,h,o,[c],e),t.strokeStyle=h.stroke,h.dropShadow){const y=h.dropShadowColor,_=h.dropShadowBlur*o,v=h.dropShadowDistance*o;t.shadowColor=ie.shared.setValue(y).setAlpha(h.dropShadowAlpha).toRgbaString(),t.shadowBlur=_,t.shadowOffsetX=Math.cos(h.dropShadowAngle)*v,t.shadowOffsetY=Math.sin(h.dropShadowAngle)*v}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;h.stroke&&h.strokeThickness&&t.strokeText(c,p,g+e.lineHeight-d.descent),h.fill&&t.fillText(c,p,g+e.lineHeight-d.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function su(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}function _x(n){return Array.from?Array.from(n):n.split("")}function Jw(n){typeof n=="string"&&(n=[n]);const t=[];for(let e=0,s=n.length;e<s;e++){const l=n[e];if(Array.isArray(l)){if(l.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${l.length}.`);const o=l[0].charCodeAt(0),h=l[1].charCodeAt(0);if(h<o)throw new Error("[BitmapFont]: Invalid character range.");for(let c=o,d=h;c<=d;c++)t.push(String.fromCharCode(c))}else t.push(..._x(l))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const rs=class Yi{constructor(t,e,s){var g;const[l]=t.info,[o]=t.common,[h]=t.page,[c]=t.distanceField,d=Cr(h.file),p={};this._ownsTextures=s,this.font=l.face,this.size=l.size,this.lineHeight=o.lineHeight/d,this.chars={},this.pageTextures=p;for(let y=0;y<t.page.length;y++){const{id:_,file:v}=t.page[y];p[_]=e instanceof Array?e[y]:e[v],c!=null&&c.fieldType&&c.fieldType!=="none"&&(p[_].baseTexture.alphaMode=Ze.NO_PREMULTIPLIED_ALPHA,p[_].baseTexture.mipmap=Qi.OFF)}for(let y=0;y<t.char.length;y++){const{id:_,page:v}=t.char[y];let{x:b,y:A,width:T,height:C,xoffset:N,yoffset:M,xadvance:P}=t.char[y];b/=d,A/=d,T/=d,C/=d,N/=d,M/=d,P/=d;const D=new Nt(b+p[v].frame.x/d,A+p[v].frame.y/d,T,C);this.chars[_]={xOffset:N,yOffset:M,xAdvance:P,kerning:{},texture:new xt(p[v].baseTexture,D),page:v}}for(let y=0;y<t.kerning.length;y++){let{first:_,second:v,amount:b}=t.kerning[y];_/=d,v/=d,b/=d,this.chars[v]&&(this.chars[v].kerning[_]=b)}this.distanceFieldRange=c==null?void 0:c.distanceRange,this.distanceFieldType=((g=c==null?void 0:c.fieldType)==null?void 0:g.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,s){let l;if(t instanceof xu)l=t;else{const h=Zw(t);if(!h)throw new Error("Unrecognized data format for font.");l=h.parse(t)}e instanceof xt&&(e=[e]);const o=new Yi(l,e,s);return Yi.available[o.font]=o,o}static uninstall(t){const e=Yi.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Yi.available[t]}static from(t,e,s){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:l,padding:o,resolution:h,textureWidth:c,textureHeight:d,...p}=Object.assign({},Yi.defaultOptions,s),g=Jw(l),y=e instanceof Ji?e:new Ji(e),_=c,v=new xu;v.info[0]={face:y.fontFamily,size:y.fontSize},v.common[0]={lineHeight:y.fontSize};let b=0,A=0,T,C,N,M=0;const P=[];for(let q=0;q<g.length;q++){T||(T=yt.ADAPTER.createCanvas(),T.width=c,T.height=d,C=T.getContext("2d"),N=new It(T,{resolution:h,...p}),P.push(new xt(N)),v.page.push({id:P.length-1,file:""}));const B=g[q],X=ns.measureText(B,y,!1,T),V=X.width,J=Math.ceil(X.height),ot=Math.ceil((y.fontStyle==="italic"?2:1)*V);if(A>=d-J*h){if(A===0)throw new Error(`[BitmapFont] textureHeight ${d}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${B}')`);--q,T=null,C=null,N=null,A=0,b=0,M=0;continue}if(M=Math.max(J+X.fontProperties.descent,M),ot*h+b>=_){if(b===0)throw new Error(`[BitmapFont] textureWidth ${c}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${B}')`);--q,A+=M*h,A=Math.ceil(A),b=0,M=0;continue}Qw(T,C,X,b,A,h,y);const z=su(X.text);v.char.push({id:z,page:P.length-1,x:b/h,y:A/h,width:ot,height:J,xoffset:0,yoffset:0,xadvance:V-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0)}),b+=(ot+2*o)*h,b=Math.ceil(b)}if(!(s!=null&&s.skipKerning))for(let q=0,B=g.length;q<B;q++){const X=g[q];for(let V=0;V<B;V++){const J=g[V],ot=C.measureText(X).width,z=C.measureText(J).width,$=C.measureText(X+J).width-(ot+z);$&&v.kerning.push({first:su(X),second:su(J),amount:$})}}const D=new Yi(v,P,!0);return Yi.available[t]!==void 0&&Yi.uninstall(t),Yi.available[t]=D,D}};rs.ALPHA=[["a","z"],["A","Z"]," "],rs.NUMERIC=[["0","9"]],rs.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],rs.ASCII=[[" ","~"]],rs.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:rs.ALPHANUMERIC},rs.available={};let ss=rs;var tR=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,eR=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const V0=[],j0=[],Y0=[],iR=class xx extends Ge{constructor(t,e={}){super();const{align:s,tint:l,maxWidth:o,letterSpacing:h,fontName:c,fontSize:d}=Object.assign({},xx.styleDefaults,e);if(!ss.available[c])throw new Error(`Missing BitmapFont "${c}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=s,this._tintColor=new ie(l),this._font=void 0,this._fontName=c,this._fontSize=d,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=h,this._anchor=new wr(()=>{this.dirty=!0},this,0,0),this._roundPixels=yt.ROUND_PIXELS,this.dirty=!0,this._resolution=yt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var ot;const t=ss.available[this._fontName],e=this.fontSize,s=e/t.size,l=new Gt,o=[],h=[],c=[],d=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",p=_x(d),g=this._maxWidth*t.size/e,y=t.distanceFieldType==="none"?V0:j0;let _=null,v=0,b=0,A=0,T=-1,C=0,N=0,M=0,P=0;for(let z=0;z<p.length;z++){const $=p[z],et=su($);if(/(?:\s)/.test($)&&(T=z,C=v,P++),$==="\r"||$===`
`){h.push(v),c.push(-1),b=Math.max(b,v),++A,++N,l.x=0,l.y+=t.lineHeight,_=null,P=0;continue}const ut=t.chars[et];if(!ut)continue;_&&ut.kerning[_]&&(l.x+=ut.kerning[_]);const S=Y0.pop()||{texture:xt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Gt};S.texture=ut.texture,S.line=A,S.charCode=et,S.position.x=Math.round(l.x+ut.xOffset+this._letterSpacing/2),S.position.y=Math.round(l.y+ut.yOffset),S.prevSpaces=P,o.push(S),v=S.position.x+Math.max(ut.xAdvance-ut.xOffset,ut.texture.orig.width),l.x+=ut.xAdvance+this._letterSpacing,M=Math.max(M,ut.yOffset+ut.texture.height),_=et,T!==-1&&g>0&&l.x>g&&(++N,Zn(o,1+T-N,1+z-T),z=T,T=-1,h.push(C),c.push(o.length>0?o[o.length-1].prevSpaces:0),b=Math.max(b,C),A++,l.x=0,l.y+=t.lineHeight,_=null,P=0)}const D=p[p.length-1];D!=="\r"&&D!==`
`&&(/(?:\s)/.test(D)&&(v=C),h.push(v),b=Math.max(b,v),c.push(-1));const q=[];for(let z=0;z<=A;z++){let $=0;this._align==="right"?$=b-h[z]:this._align==="center"?$=(b-h[z])/2:this._align==="justify"&&($=c[z]<0?0:(b-h[z])/c[z]),q.push($)}const B=o.length,X={},V=[],J=this._activePagesMeshData;y.push(...J);for(let z=0;z<B;z++){const $=o[z].texture,et=$.baseTexture.uid;if(!X[et]){let ut=y.pop();if(!ut){const I=new ww;let w,H;t.distanceFieldType==="none"?(w=new H0(xt.EMPTY),H=Mt.NORMAL):(w=new H0(xt.EMPTY,{program:Rr.from(eR,tR),uniforms:{uFWidth:0}}),H=Mt.NORMAL_NPM);const E=new G0(I,w);E.blendMode=H,ut={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:E,vertices:null,uvs:null,indices:null}}ut.index=0,ut.indexCount=0,ut.vertexCount=0,ut.uvsCount=0,ut.total=0;const{_textureCache:S}=this;S[et]=S[et]||new xt($.baseTexture),ut.mesh.texture=S[et],ut.mesh.tint=this._tintColor.value,V.push(ut),X[et]=ut}X[et].total++}for(let z=0;z<J.length;z++)V.includes(J[z])||this.removeChild(J[z].mesh);for(let z=0;z<V.length;z++)V[z].mesh.parent!==this&&this.addChild(V[z].mesh);this._activePagesMeshData=V;for(const z in X){const $=X[z],et=$.total;if(!(((ot=$.indices)==null?void 0:ot.length)>6*et)||$.vertices.length<G0.BATCHABLE_SIZE*2)$.vertices=new Float32Array(4*2*et),$.uvs=new Float32Array(4*2*et),$.indices=new Uint16Array(6*et);else{const ut=$.total,S=$.vertices;for(let I=ut*4*2;I<S.length;I++)S[I]=0}$.mesh.size=6*et}for(let z=0;z<B;z++){const $=o[z];let et=$.position.x+q[$.line]*(this._align==="justify"?$.prevSpaces:1);this._roundPixels&&(et=Math.round(et));const ut=et*s,S=$.position.y*s,I=$.texture,w=X[I.baseTexture.uid],H=I.frame,E=I._uvs,O=w.index++;w.indices[O*6+0]=0+O*4,w.indices[O*6+1]=1+O*4,w.indices[O*6+2]=2+O*4,w.indices[O*6+3]=0+O*4,w.indices[O*6+4]=2+O*4,w.indices[O*6+5]=3+O*4,w.vertices[O*8+0]=ut,w.vertices[O*8+1]=S,w.vertices[O*8+2]=ut+H.width*s,w.vertices[O*8+3]=S,w.vertices[O*8+4]=ut+H.width*s,w.vertices[O*8+5]=S+H.height*s,w.vertices[O*8+6]=ut,w.vertices[O*8+7]=S+H.height*s,w.uvs[O*8+0]=E.x0,w.uvs[O*8+1]=E.y0,w.uvs[O*8+2]=E.x1,w.uvs[O*8+3]=E.y1,w.uvs[O*8+4]=E.x2,w.uvs[O*8+5]=E.y2,w.uvs[O*8+6]=E.x3,w.uvs[O*8+7]=E.y3}this._textWidth=b*s,this._textHeight=(l.y+t.lineHeight)*s;for(const z in X){const $=X[z];if(this.anchor.x!==0||this.anchor.y!==0){let I=0;const w=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let E=0;E<$.total;E++)$.vertices[I++]-=w,$.vertices[I++]-=H,$.vertices[I++]-=w,$.vertices[I++]-=H,$.vertices[I++]-=w,$.vertices[I++]-=H,$.vertices[I++]-=w,$.vertices[I++]-=H}this._maxLineHeight=M*s;const et=$.mesh.geometry.getBuffer("aVertexPosition"),ut=$.mesh.geometry.getBuffer("aTextureCoord"),S=$.mesh.geometry.getIndex();et.data=$.vertices,ut.data=$.uvs,S.data=$.indices,et.update(),ut.update(),S.update()}for(let z=0;z<o.length;z++)Y0.push(o[z]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:s,size:l}=ss.available[this._fontName];if(s!=="none"){const{a:o,b:h,c,d}=this.worldTransform,p=Math.sqrt(o*o+h*h),g=Math.sqrt(c*c+d*d),y=(Math.abs(p)+Math.abs(g))/2,_=this.fontSize/l,v=t._view.resolution;for(const b of this._activePagesMeshData)b.mesh.shader.uniforms.uFWidth=y*e*_*v}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=ss.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!ss.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??ss.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,s=ss.available[this._fontName].distanceFieldType==="none"?V0:j0;s.push(...this._activePagesMeshData);for(const l of this._activePagesMeshData)this.removeChild(l.mesh);this._activePagesMeshData=[],s.filter(l=>e[l.mesh.texture.baseTexture.uid]).forEach(l=>{l.mesh.texture=xt.EMPTY});for(const l in e)e[l].destroy(),delete e[l];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};iR.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const rR=[".xml",".fnt"],sR={extension:{type:pt.LoadParser,priority:Ui.Normal},name:"loadBitmapFont",test(n){return rR.includes(Me.extname(n).toLowerCase())},async testParse(n){return ru.test(n)||Yd.test(n)},async parse(n,t,e){const s=ru.test(n)?ru.parse(n):Yd.parse(n),{src:l}=t,{page:o}=s,h=[];for(let p=0;p<o.length;++p){const g=o[p].file;let y=Me.join(Me.dirname(l),g);y=Gd(y,l),h.push(y)}const c=await e.load(h),d=h.map(p=>c[p]);return ss.install(s,d,!0)},async load(n,t){return(await yt.ADAPTER.fetch(n)).text()},unload(n){n.destroy()}};Tt.add(sR);const qd=class Yn extends Ji{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Yn(Object.keys(Yn.defaultOptions).reduce((e,s)=>({...e,[s]:t[s]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Yn.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:s}=Yn;if(s[t]){const l=s[t];return this._fonts.push(l),l.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return yt.ADAPTER.fetch(t).then(l=>l.blob()).then(async l=>new Promise((o,h)=>{const c=URL.createObjectURL(l),d=new FileReader;d.onload=()=>o([c,d.result]),d.onerror=h,d.readAsDataURL(l)})).then(async([l,o])=>{const h=Object.assign({family:Me.basename(t,Me.extname(t)),weight:"normal",style:"normal",display:"auto",src:l,dataSrc:o,refs:1,originalUrl:t,fontFace:null},e);s[t]=h,this._fonts.push(h),this.styleID++;const c=new FontFace(h.family,`url(${h.src})`,{weight:h.weight,style:h.style,display:h.display});h.fontFace=c,await c.load(),document.fonts.add(c),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(s=>!this._overrides.includes(s));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(s=>this._overrides.includes(s));e.length>0&&(this._overrides=this._overrides.filter(s=>!e.includes(s)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style};
                font-display: ${e.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=qE(t)),typeof t=="number"?YE(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,s=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),l=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const o=`${s}px ${l}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${o} ${t}`}reset(){Object.assign(this,Yn.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=yt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};qd.availableFonts={},qd.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let hd=qd;const Zo=class qn extends Ni{constructor(t="",e={}){super(xt.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const s=new Image,l=xt.from(s,{scaleMode:yt.SCALE_MODE,resourceOptions:{autoLoad:!1}});l.orig=new Nt,l.trim=new Nt,this.texture=l;const o="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xhtml",c=document.createElementNS(o,"svg"),d=document.createElementNS(o,"foreignObject"),p=document.createElementNS(h,"div"),g=document.createElementNS(h,"style");d.setAttribute("width","10000"),d.setAttribute("height","10000"),d.style.overflow="hidden",c.appendChild(d),this.maxWidth=qn.defaultMaxWidth,this.maxHeight=qn.defaultMaxHeight,this._domElement=p,this._styleElement=g,this._svgRoot=c,this._foreignObject=d,this._foreignObject.appendChild(g),this._foreignObject.appendChild(p),this._image=s,this._loadImage=new Image,this._autoResolution=qn.defaultAutoResolution,this._resolution=qn.defaultResolution??yt.RESOLUTION,this.text=t,this.style=e}measureText(t){var g,y;const{text:e,style:s,resolution:l}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:s.toCSS(l)}),this._styleElement.textContent=s.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:h,height:c}=o;(h>this.maxWidth||c>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const d=Math.min(this.maxWidth,Math.ceil(h)),p=Math.min(this.maxHeight,Math.ceil(c));return this._svgRoot.setAttribute("width",d.toString()),this._svgRoot.setAttribute("height",p.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),s!==this._style&&(Object.assign(this._domElement,{style:(g=this._style)==null?void 0:g.toCSS(l)}),this._styleElement.textContent=(y=this._style)==null?void 0:y.toGlobalCSS()),{width:d+s.padding*2,height:p+s.padding*2}}async updateText(t=!0){const{style:e,_image:s,_loadImage:l}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:o,height:h}=this.measureText();s.width=l.width=Math.ceil(Math.max(1,o)),s.height=l.height=Math.ceil(Math.max(1,h)),this._updateID++;const c=this._updateID;await new Promise(d=>{l.onload=async()=>{if(c<this._updateID){d();return}await e.onBeforeDraw(),s.src=l.src,l.onload=null,l.src="",this.updateTexture(),d()};const p=new XMLSerializer().serializeToString(this._svgRoot);l.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(p)}`})}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:s,resolution:l}=this,{padding:o}=t,{baseTexture:h}=e;e.trim.width=e._frame.width=s.width/l,e.trim.height=e._frame.height=s.height/l,e.trim.x=-o,e.trim.y=-o,e.orig.width=e._frame.width-o*2,e.orig.height=e._frame.height-o*2,this._onTextureUpdate(),h.setRealSize(s.width,s.height,l),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var s,l,o,h,c;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},qn.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((s=this._style)==null||s.cleanFonts()),this._style=e,(l=this._svgRoot)==null||l.remove(),this._svgRoot=e,(o=this._domElement)==null||o.remove(),this._domElement=e,(h=this._foreignObject)==null||h.remove(),this._foreignObject=e,(c=this._styleElement)==null||c.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=ls(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=ls(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof hd?(this.ownsStyle=!1,this._style=t):t instanceof Ji?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=hd.from(t)):(this.ownsStyle=!0,this._style=new hd(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Zo.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Zo.defaultMaxWidth=2024,Zo.defaultMaxHeight=2024,Zo.defaultAutoResolution=!0;const nR=()=>{const n=Ve.useRef(null),t=Ve.useRef(null),e=Ve.useRef([]),s=Ve.useRef("toRight"),l=100,o=140,h=.2,c={x:100,y:100},d={x:500,y:100};return Ve.useEffect(()=>{var C;const p=new Cu({width:800,height:600,backgroundColor:0});t.current=p,(C=n.current)==null||C.appendChild(p.view);const g=new Wi("FPS: 0",{fontFamily:"Arial",fontSize:18,fill:16777215});g.x=10,g.y=10,p.stage.addChild(g);let y=0,_=performance.now();p.ticker.add(()=>{y++;const N=performance.now();N-_>=1e3&&(g.text=`FPS: ${y}`,y=0,_=N)});const v=new Ge;v.position.set(c.x,c.y);const b=new Ge;b.position.set(d.x,d.y),p.stage.addChild(v,b);for(let N=0;N<144;N++){const M=Ni.from(xt.WHITE);M.width=l,M.height=o,M.tint=Math.floor(Math.random()*16777215),M.position.set(0,N*h),v.addChild(M)}const A=(N,M)=>{if(N.children.length>0){const P=N.children[N.children.length-1];N.removeChild(P);const D=N.toGlobal(P.position,new Gt);p.stage.addChild(P),P.position.set(D.x,D.y);const q=new Gt(0,M.children.length*h),B=M.toGlobal(q,new Gt);e.current.push({sprite:P,startX:D.x,startY:D.y,endX:B.x,endY:B.y,startTime:p.ticker.lastTime,duration:2e3,toContainer:M})}},T=setInterval(()=>{s.current==="toRight"?v.children.length>0?A(v,b):s.current="toLeft":b.children.length>0?A(b,v):s.current="toRight"},1e3);return p.ticker.add(()=>{const N=p.ticker.lastTime;e.current=e.current.filter(M=>{const P=(N-M.startTime)/M.duration;if(P>=1){M.sprite.position.set(M.endX,M.endY);const D=M.toContainer.toLocal(new Gt(M.endX,M.endY));return M.toContainer.addChild(M.sprite),M.sprite.position.set(D.x,D.y),!1}else{const D=P*P,q=M.startX+(M.endX-M.startX)*D,B=M.startY+(M.endY-M.startY)*D;return M.sprite.position.set(q,B),!0}})}),()=>{clearInterval(T),p.destroy(!0,{children:!0})}},[]),te.jsx("div",{ref:n})},aR=n=>{const t=[],e=/\{(\w+)\}/g;let s=0,l;for(;(l=e.exec(n))!==null;)l.index>s&&t.push({type:"text",content:n.substring(s,l.index)}),t.push({type:"emoji",content:l[1]}),s=e.lastIndex;return s<n.length&&t.push({type:"text",content:n.substring(s)}),t};function lR(n,t,e,s,l,o,h,c,d){let p=l,g=o;for(const y of n)if(y.type==="text")for(const _ of y.content){const v=new Wi(_,e);p+v.width>h&&(p=l,g+=c),v.x=p,v.y=g,v.alpha=0,t.addChild(v),d.push(v),p+=v.width}else{p+24>h&&(p=l,g+=c);const v=s[y.content];if(v){const b=Ni.from(v);b.width=24,b.height=24,b.x=p,b.y=g+(c-24)/2,b.alpha=0,t.addChild(b),d.push(b),p+=24}else{const b=new Wi("{"+y.content+"}",e);p+b.width>h&&(p=l,g+=c),b.x=p,b.y=g,b.alpha=0,t.addChild(b),d.push(b),p+=b.width}}}const oR=()=>{const n=Ve.useRef(null);return Ve.useEffect(()=>{var B;const t=new Cu({width:800,height:600,backgroundColor:16777215});(B=n.current)==null||B.appendChild(t.view);const e=new Wi("FPS: 0",{fontFamily:"Arial",fontSize:18,fill:0});e.x=10,e.y=10,t.stage.addChild(e);let s=0,l=performance.now();t.ticker.add(()=>{s++;const X=performance.now();X-l>=1e3&&(e.text=`FPS: ${s}`,s=0,l=X)});const o=new Ge;o.x=50,o.y=400,t.stage.addChild(o);const h=new _u;h.beginFill(0,.8),h.drawRoundedRect(0,0,700,150,10),h.endFill(),o.addChild(h);const c=new Ge;o.addChild(c);const d=new Wi("Click or press Enter to continue",{fontFamily:"Arial",fontSize:14,fill:16777215});d.x=h.width-d.width-10,d.y=h.height-d.height-10,o.addChild(d);const p=new _u;p.beginFill(16777215),p.drawRoundedRect(0,0,700,150,10),p.endFill(),o.addChild(p),c.mask=p;let g=[];const y={},_={};let v=0,b=!1,A=[];const T=new Ji({fontFamily:"Arial",fontSize:18,fill:16777215}),C=(X,V)=>{let J=0;const ot=z=>{for(J+=z;X.length>0&&J>=V;){const $=X.shift();$&&($.alpha=1),J-=V}X.length===0&&(b=!0,v===g.length-1?d.visible=!1:d.visible=!0,t.ticker.remove(ot))};t.ticker.add(ot)},N=()=>{A.forEach(X=>{X.alpha=1}),A=[],b=!0,v===g.length-1?d.visible=!1:d.visible=!0},M=X=>{if(c.removeChildren(),b=!1,A=[],X===g.length-1?d.visible=!1:d.visible=!0,X>=g.length)return;const V=g[X],J=10,ot=h.width,z=60,$=60;let et=!1,ut=_[V.name];ut&&ut.position.toLowerCase()==="right"&&(et=!0);let S=J,I=ot-J*2;if(ut)if(et){const tt=Ni.from(ut.url);tt.width=z,tt.height=$,tt.x=ot-z-J,tt.y=45,c.addChild(tt),S=J,I=ot-z-J*3}else{const tt=Ni.from(ut.url);tt.width=z,tt.height=$,tt.x=J,tt.y=45,c.addChild(tt),S=tt.x+z+J,I=ot-S-J}const w=new Ji({fontFamily:"Arial",fontSize:18,fill:16777215,fontWeight:"bold"}),H=new Wi(V.name+":",w);H.x=S,H.y=20,c.addChild(H);const E=aR(V.text),O=et?J:H.x,F=H.y+H.height+5,L=26,Y=O+I;lR(E,c,T,y,O,F,Y,L,A),C(A,3)};fetch("https://private-624120-softgamesassignment.apiary-mock.com/v2/magicwords").then(X=>{if(!X.ok)throw new Error("Failed to fetch dialogue data.");return X.json()}).then(X=>{g=X.dialogue,X.emojies.forEach(V=>{y[V.name]=V.url}),X.avatars.forEach(V=>{_[V.name]=V}),M(v)}).catch(X=>{const V=new Wi("Error: "+X.message,{fontFamily:"Arial",fontSize:20,fill:16711680});V.x=20,V.y=20,t.stage.addChild(V)});const P=()=>{if(!b){N();return}v!==g.length-1&&v<g.length-1&&(v++,M(v))},D=t.view;D&&D.addEventListener("pointerdown",P);const q=X=>{X.key==="Enter"&&P()};return window.addEventListener("keydown",q),()=>{D.removeEventListener("pointerdown",P),window.removeEventListener("keydown",q),t.destroy(!0,{children:!0})}},[]),te.jsx("div",{ref:n})},uR=()=>{const n=Ve.useRef(null),t=10,e=()=>{const l=document.createElement("canvas");l.width=128,l.height=128;const o=l.getContext("2d");if(!o)return xt.WHITE;const h=o.createRadialGradient(128/2,128/2,0,128/2,128/2,128/2);return h.addColorStop(0,"rgba(255, 215, 0, 1)"),h.addColorStop(.4,"rgba(255, 165, 0, 0.9)"),h.addColorStop(1,"rgba(255, 140, 0, 0)"),o.fillStyle=h,o.fillRect(0,0,128,128),xt.from(l)};return Ve.useEffect(()=>{var v;const s=new Cu({width:800,height:600,backgroundColor:0});(v=n.current)==null||v.appendChild(s.view);const l=new Wi("FPS: 0",{fontFamily:"Arial",fontSize:18,fill:16777215});l.x=10,l.y=10,s.stage.addChild(l);let o=0,h=performance.now();s.ticker.add(()=>{o++;const b=performance.now();b-h>=1e3&&(l.text=`FPS: ${o}`,o=0,h=b)});const c=new Ge;s.stage.addChild(c);const d=e(),p=[],g=400,y=300,_=()=>{if(p.length>=t)return;const b=new Ni(d);b.anchor.set(.5),b.blendMode=Mt.ADD;const A=Math.random()*Math.PI*2,T=0,C=.001+Math.random()*5e-4,N=.05+Math.random()*.05,M=.4+Math.random()*1.2;b.scale.set(M);const P=1e3+Math.random()*1e3;b.x=g+T*Math.cos(A),b.y=y+T*Math.sin(A),b.alpha=1,c.addChild(b),p.push({sprite:b,life:0,maxLife:P,angle:A,radius:T,angleSpeed:C,radiusSpeed:N})};return s.ticker.add(()=>{const b=s.ticker.deltaMS;for(let A=p.length-1;A>=0;A--){const T=p[A];T.life+=b,T.angle+=T.angleSpeed*b,T.radius+=T.radiusSpeed*b,T.sprite.x=g+T.radius*Math.cos(T.angle),T.sprite.y=y+T.radius*Math.sin(T.angle),T.sprite.rotation+=(Math.random()-.5)*.02*b,T.sprite.alpha=Math.max(0,1-T.life/T.maxLife),T.life>=T.maxLife&&(c.removeChild(T.sprite),p.splice(A,1))}p.length<t&&_()}),()=>{s.destroy(!0,{children:!0})}},[]),te.jsx("div",{ref:n})},hR=()=>{const[n,t]=Ve.useState("splash"),e=()=>t("menu");return te.jsxs(G1,{children:[n==="splash"&&te.jsx(H1,{onComplete:e}),n==="menu"&&te.jsx(k1,{onSelectDemo:s=>t(s)}),n==="techdemo1"&&te.jsx(Xc,{onReturn:()=>t("menu"),children:te.jsx(nR,{})}),n==="techdemo2"&&te.jsx(Xc,{onReturn:()=>t("menu"),children:te.jsx(oR,{})}),n==="techdemo3"&&te.jsx(Xc,{onReturn:()=>t("menu"),children:te.jsx(uR,{})})]})};F1.createRoot(document.getElementById("root")).render(te.jsx(Ve.StrictMode,{children:te.jsx(hR,{})}));
